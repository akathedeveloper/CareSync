import{r as S,u as cg,R as jo,L as tt,a as Qk,O as Zk,B as aR,b as oR,c as We,N as fd}from"./router-Cx4F7nQP.js";import{r as rv,a as lR,g as av}from"./vendor-gH-7aFTg.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Fp={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function cR(){if(y_)return Du;y_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Du.Fragment=e,Du.jsx=n,Du.jsxs=n,Du}var x_;function Jk(){return x_||(x_=1,Fp.exports=cR()),Fp.exports}var d=Jk(),zp={exports:{}},Mu={},Hp={exports:{}},qp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function uR(){return v_||(v_=1,(function(t){function e(z,$){var le=z.length;z.push($);e:for(;0<le;){var fe=le-1>>>1,ue=z[fe];if(0<s(ue,$))z[fe]=$,z[le]=ue,le=fe;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var $=z[0],le=z.pop();if(le!==$){z[0]=le;e:for(var fe=0,ue=z.length,ve=ue>>>1;fe<ve;){var xe=2*(fe+1)-1,he=z[xe],ke=xe+1,$e=z[ke];if(0>s(he,le))ke<ue&&0>s($e,he)?(z[fe]=$e,z[ke]=le,fe=ke):(z[fe]=he,z[xe]=le,fe=xe);else if(ke<ue&&0>s($e,le))z[fe]=$e,z[ke]=le,fe=ke;else break e}}return $}function s(z,$){var le=z.sortIndex-$.sortIndex;return le!==0?le:z.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],m=[],p=1,x=null,b=3,_=!1,A=!1,R=!1,C=!1,L=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function G(z){for(var $=n(m);$!==null;){if($.callback===null)i(m);else if($.startTime<=z)i(m),$.sortIndex=$.expirationTime,e(h,$);else break;$=n(m)}}function Q(z){if(R=!1,G(z),!A)if(n(h)!==null)A=!0,te||(te=!0,O());else{var $=n(m);$!==null&&se(Q,$.startTime-z)}}var te=!1,V=-1,k=5,N=-1;function D(){return C?!0:!(t.unstable_now()-N<k)}function I(){if(C=!1,te){var z=t.unstable_now();N=z;var $=!0;try{e:{A=!1,R&&(R=!1,U(V),V=-1),_=!0;var le=b;try{t:{for(G(z),x=n(h);x!==null&&!(x.expirationTime>z&&D());){var fe=x.callback;if(typeof fe=="function"){x.callback=null,b=x.priorityLevel;var ue=fe(x.expirationTime<=z);if(z=t.unstable_now(),typeof ue=="function"){x.callback=ue,G(z),$=!0;break t}x===n(h)&&i(h),G(z)}else i(h);x=n(h)}if(x!==null)$=!0;else{var ve=n(m);ve!==null&&se(Q,ve.startTime-z),$=!1}}break e}finally{x=null,b=le,_=!1}$=void 0}}finally{$?O():te=!1}}}var O;if(typeof F=="function")O=function(){F(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,X=P.port2;P.port1.onmessage=I,O=function(){X.postMessage(null)}}else O=function(){L(I,0)};function se(z,$){V=L(function(){z(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(z){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var le=b;b=$;try{return z()}finally{b=le}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var le=b;b=z;try{return $()}finally{b=le}},t.unstable_scheduleCallback=function(z,$,le){var fe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=le+ue,z={id:p++,callback:$,priorityLevel:z,startTime:le,expirationTime:ue,sortIndex:-1},le>fe?(z.sortIndex=le,e(m,z),n(h)===null&&z===n(m)&&(R?(U(V),V=-1):R=!0,se(Q,le-fe))):(z.sortIndex=ue,e(h,z),A||_||(A=!0,te||(te=!0,O()))),z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(z){var $=b;return function(){var le=b;b=$;try{return z.apply(this,arguments)}finally{b=le}}}})(qp)),qp}var b_;function dR(){return b_||(b_=1,Hp.exports=uR()),Hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function hR(){if(w_)return Mu;w_=1;var t=dR(),e=rv(),n=lR();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(i(188))}function h(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,f=a;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return u(y),r;if(v===f)return u(y),a;v=v.sibling}throw Error(i(188))}if(c.return!==f.return)c=y,f=v;else{for(var E=!1,j=y.child;j;){if(j===c){E=!0,c=y,f=v;break}if(j===f){E=!0,f=y,c=v;break}j=j.sibling}if(!E){for(j=v.child;j;){if(j===c){E=!0,c=v,f=y;break}if(j===f){E=!0,f=v,c=y;break}j=j.sibling}if(!E)throw Error(i(189))}}if(c.alternate!==f)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),F=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function X(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case C:return"Profiler";case R:return"StrictMode";case Q:return"Suspense";case te:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case F:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case G:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return a=r.displayName||null,a!==null?a:X(r.type)||"Memo";case k:a=r._payload,r=r._init;try{return X(r(a))}catch{}}return null}var se=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},fe=[],ue=-1;function ve(r){return{current:r}}function xe(r){0>ue||(r.current=fe[ue],fe[ue]=null,ue--)}function he(r,a){ue++,fe[ue]=r.current,r.current=a}var ke=ve(null),$e=ve(null),Be=ve(null),At=ve(null);function Nt(r,a){switch(he(Be,a),he($e,r),he(ke,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?$2(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=$2(a),r=G2(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}xe(ke),he(ke,r)}function ut(){xe(ke),xe($e),xe(Be)}function nn(r){r.memoizedState!==null&&he(At,r);var a=ke.current,c=G2(a,r.type);a!==c&&(he($e,r),he(ke,c))}function Wt(r){$e.current===r&&(xe(ke),xe($e)),At.current===r&&(xe(At),Au._currentValue=le)}var An=Object.prototype.hasOwnProperty,jt=t.unstable_scheduleCallback,Ge=t.unstable_cancelCallback,Nn=t.unstable_shouldYield,hn=t.unstable_requestPaint,fn=t.unstable_now,Ho=t.unstable_getCurrentPriorityLevel,Sr=t.unstable_ImmediatePriority,Er=t.unstable_UserBlockingPriority,Rs=t.unstable_NormalPriority,Mc=t.unstable_LowPriority,Ds=t.unstable_IdlePriority,Na=t.log,qo=t.unstable_setDisableYieldValue,xt=null,Qe=null;function Ln(r){if(typeof Na=="function"&&qo(r),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(xt,r)}catch{}}var Ut=Math.clz32?Math.clz32:Ms,ja=Math.log,$o=Math.LN2;function Ms(r){return r>>>=0,r===0?32:31-(ja(r)/$o|0)|0}var oi=256,Ki=4194304;function Zn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Is(r,a,c){var f=r.pendingLanes;if(f===0)return 0;var y=0,v=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var j=f&134217727;return j!==0?(f=j&~v,f!==0?y=Zn(f):(E&=j,E!==0?y=Zn(E):c||(c=j&~r,c!==0&&(y=Zn(c))))):(j=f&~v,j!==0?y=Zn(j):E!==0?y=Zn(E):c||(c=f&~r,c!==0&&(y=Zn(c)))),y===0?0:a!==0&&a!==y&&(a&v)===0&&(v=y&-y,c=a&-a,v>=c||v===32&&(c&4194048)!==0)?a:y}function Xi(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Os(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ca(){var r=oi;return oi<<=1,(oi&4194048)===0&&(oi=256),r}function kr(){var r=Ki;return Ki<<=1,(Ki&62914560)===0&&(Ki=4194304),r}function Di(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function li(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Bt(r,a,c,f,y,v){var E=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var j=r.entanglements,B=r.expirationTimes,K=r.hiddenUpdates;for(c=E&~c;0<c;){var ie=31-Ut(c),ae=1<<ie;j[ie]=0,B[ie]=-1;var Z=K[ie];if(Z!==null)for(K[ie]=null,ie=0;ie<Z.length;ie++){var ee=Z[ie];ee!==null&&(ee.lane&=-536870913)}c&=~ae}f!==0&&gt(r,f,0),v!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=v&~(E&~a))}function gt(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-Ut(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|c&4194090}function Qi(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var f=31-Ut(c),y=1<<f;y&a|r[f]&a&&(r[f]|=a),c&=~y}}function Ye(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function mn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Zi(){var r=$.p;return r!==0?r:(r=window.event,r===void 0?32:d_(r.type))}function Ar(r,a){var c=$.p;try{return $.p=r,a()}finally{$.p=c}}var dt=Math.random().toString(36).slice(2),Ct="__reactFiber$"+dt,vt="__reactProps$"+dt,gn="__reactContainer$"+dt,Ps="__reactEvents$"+dt,Ra="__reactListeners$"+dt,ci="__reactHandles$"+dt,Go="__reactResources$"+dt,Mi="__reactMarker$"+dt;function Ii(r){delete r[Ct],delete r[vt],delete r[Ps],delete r[Ra],delete r[ci]}function Oi(r){var a=r[Ct];if(a)return a;for(var c=r.parentNode;c;){if(a=c[gn]||c[Ct]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=X2(r);r!==null;){if(c=r[Ct])return c;r=X2(r)}return a}r=c,c=r.parentNode}return null}function ui(r){if(r=r[Ct]||r[gn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Ae(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Me(r){var a=r[Go];return a||(a=r[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Re(r){r[Mi]=!0}var pn=new Set,sn={};function Un(r,a){Pi(r,a),Pi(r+"Capture",a)}function Pi(r,a){for(sn[r]=a,r=0;r<a.length;r++)pn.add(a[r])}var Wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hh={},Da={};function fh(r){return An.call(Da,r)?!0:An.call(hh,r)?!1:Wo.test(r)?Da[r]=!0:(hh[r]=!0,!1)}function Nr(r,a,c){if(fh(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function Ji(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function yn(r,a,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+f)}}var Ma,mh;function Vs(r){if(Ma===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Ma=a&&a[1]||"",mh=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+r+mh}var Yo=!1;function Ko(r,a){if(!r||Yo)return"";Yo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(ee){var Z=ee}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(ee){Z=ee}r.call(ae.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),E=v[0],j=v[1];if(E&&j){var B=E.split(`
`),K=j.split(`
`);for(y=f=0;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;for(;y<K.length&&!K[y].includes("DetermineComponentFrameRoot");)y++;if(f===B.length||y===K.length)for(f=B.length-1,y=K.length-1;1<=f&&0<=y&&B[f]!==K[y];)y--;for(;1<=f&&0<=y;f--,y--)if(B[f]!==K[y]){if(f!==1||y!==1)do if(f--,y--,0>y||B[f]!==K[y]){var ie=`
`+B[f].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=f&&0<=y);break}}}finally{Yo=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Vs(c):""}function Ic(r){switch(r.tag){case 26:case 27:case 5:return Vs(r.type);case 16:return Vs("Lazy");case 13:return Vs("Suspense");case 19:return Vs("SuspenseList");case 0:case 15:return Ko(r.type,!1);case 11:return Ko(r.type.render,!1);case 1:return Ko(r.type,!0);case 31:return Vs("Activity");default:return""}}function Xo(r){try{var a="";do a+=Ic(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Oc(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function $g(r){var a=Oc(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),f=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return y.call(this)},set:function(E){f=""+E,v.call(this,E)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Qo(r){r._valueTracker||(r._valueTracker=$g(r))}function Pc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return r&&(f=Oc(r)?r.checked?"true":"false":r.value),r=f,r!==c?(a.setValue(r),!0):!1}function Ia(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Gg=/[\n"\\]/g;function Ft(r){return r.replace(Gg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Jn(r,a,c,f,y,v,E,j){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Bn(a)):r.value!==""+Bn(a)&&(r.value=""+Bn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?jr(r,E,Bn(a)):c!=null?jr(r,E,Bn(c)):f!=null&&r.removeAttribute("value"),y==null&&v!=null&&(r.defaultChecked=!!v),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.name=""+Bn(j):r.removeAttribute("name")}function Oa(r,a,c,f,y,v,E,j){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),a!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;c=c!=null?""+Bn(c):"",a=a!=null?""+Bn(a):c,j||a===r.value||(r.value=a),r.defaultValue=a}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=j?r.checked:!!f,r.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function jr(r,a,c){a==="number"&&Ia(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Ls(r,a,c,f){if(r=r.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=a.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Bn(c),a=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}a!==null||r[y].disabled||(a=r[y])}a!==null&&(a.selected=!0)}}function at(r,a,c){if(a!=null&&(a=""+Bn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+Bn(c):""}function Pa(r,a,c,f){if(a==null){if(f!=null){if(c!=null)throw Error(i(92));if(se(f)){if(1<f.length)throw Error(i(93));f=f[0]}c=f}c==null&&(c=""),a=c}c=Bn(a),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f)}function di(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gh(r,a,c){var f=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,c):typeof c!="number"||c===0||Va.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function Vc(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&c[y]!==f&&gh(r,y,f)}else for(var v in a)a.hasOwnProperty(v)&&gh(r,v,a[v])}function Lc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(r){return Yg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Us=null;function hi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Bs=null,Fs=null;function Uc(r){var a=ui(r);if(a&&(r=a.stateNode)){var c=r[vt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Jn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ft(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==r&&f.form===r.form){var y=f[vt]||null;if(!y)throw Error(i(90));Jn(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<c.length;a++)f=c[a],f.form===r.form&&Pc(f)}break e;case"textarea":at(r,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Ls(r,!!c.multiple,a,!1)}}}var es=!1;function ph(r,a,c){if(es)return r(a,c);es=!0;try{var f=r(a);return f}finally{if(es=!1,(Bs!==null||Fs!==null)&&(uf(),Bs&&(a=Bs,r=Fs,Fs=Bs=null,Uc(a),r)))for(a=0;a<r.length;a++)Uc(r[a])}}function La(r,a){var c=r.stateNode;if(c===null)return null;var f=c[vt]||null;if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fi=!1;if(Vi)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){fi=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{fi=!1}var ts=null,Cr=null,zs=null;function Bc(){if(zs)return zs;var r,a=Cr,c=a.length,f,y="value"in ts?ts.value:ts.textContent,v=y.length;for(r=0;r<c&&a[r]===y[r];r++);var E=c-r;for(f=1;f<=E&&a[c-f]===y[v-f];f++);return zs=y.slice(r,1<f?1-f:void 0)}function ns(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function is(){return!0}function Fc(){return!1}function rn(r){function a(c,f,y,v,E){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(c=r[j],this[j]=c?c(v):v[j]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?is:Fc,this.isPropagationStopped=Fc,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),a}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=rn(et),Ba=p({},et,{view:0,detail:0}),yh=rn(Ba),el,tl,ss,Fa=p({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ss&&(ss&&r.type==="mousemove"?(el=r.screenX-ss.screenX,tl=r.screenY-ss.screenY):tl=el=0,ss=r),el)},movementY:function(r){return"movementY"in r?r.movementY:tl}}),mi=rn(Fa),xh=p({},Fa,{dataTransfer:0}),Kg=rn(xh),za=p({},Ba,{relatedTarget:0}),nl=rn(za),zc=p({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),il=rn(zc),vh=p({},et,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),sl=rn(vh),Xg=p({},et,{data:0}),Hc=rn(Xg),Ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=wh[r])?!!a[r]:!1}function qa(){return qc}var _h=p({},Ba,{key:function(r){if(r.key){var a=Ha[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?bh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(r){return r.type==="keypress"?ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),rl=rn(_h),Th=p({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=rn(Th),Hs=p({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Sh=rn(Hs),Eh=p({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=rn(Eh),Ah=p({},Fa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),al=rn(Ah),Fn=p({},et,{newState:0,oldState:0}),Nh=rn(Fn),jh=[9,13,27,32],rs=Vi&&"CompositionEvent"in window,g=null;Vi&&"documentMode"in document&&(g=document.documentMode);var w=Vi&&"TextEvent"in window&&!g,T=Vi&&(!rs||g&&8<g&&11>=g),M=" ",W=!1;function ne(r,a){switch(r){case"keyup":return jh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fe=!1;function Yt(r,a){switch(r){case"compositionend":return de(a);case"keypress":return a.which!==32?null:(W=!0,M);case"textInput":return r=a.data,r===M&&W?null:r;default:return null}}function ze(r,a){if(Fe)return r==="compositionend"||!rs&&ne(r,a)?(r=Bc(),zs=Cr=ts=null,Fe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!an[r.type]:a==="textarea"}function qs(r,a,c,f){Bs?Fs?Fs.push(f):Fs=[f]:Bs=f,a=pf(a,"onChange"),0<a.length&&(c=new Jo("onChange","change",null,c,f),r.push({event:c,listeners:a}))}var xn=null,as=null;function Gc(r){B2(r,0)}function Ch(r){var a=Ae(r);if(Pc(a))return r}function o1(r,a){if(r==="change")return a}var l1=!1;if(Vi){var Qg;if(Vi){var Zg="oninput"in document;if(!Zg){var c1=document.createElement("div");c1.setAttribute("oninput","return;"),Zg=typeof c1.oninput=="function"}Qg=Zg}else Qg=!1;l1=Qg&&(!document.documentMode||9<document.documentMode)}function u1(){xn&&(xn.detachEvent("onpropertychange",d1),as=xn=null)}function d1(r){if(r.propertyName==="value"&&Ch(as)){var a=[];qs(a,as,r,hi(r)),ph(Gc,a)}}function P4(r,a,c){r==="focusin"?(u1(),xn=a,as=c,xn.attachEvent("onpropertychange",d1)):r==="focusout"&&u1()}function V4(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ch(as)}function L4(r,a){if(r==="click")return Ch(a)}function U4(r,a){if(r==="input"||r==="change")return Ch(a)}function B4(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ei=typeof Object.is=="function"?Object.is:B4;function Wc(r,a){if(ei(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!An.call(a,y)||!ei(r[y],a[y]))return!1}return!0}function h1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function f1(r,a){var c=h1(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=a&&f>=a)return{node:c,offset:a-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=h1(c)}}function m1(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?m1(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function g1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ia(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=Ia(r.document)}return a}function Jg(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var F4=Vi&&"documentMode"in document&&11>=document.documentMode,ol=null,e0=null,Yc=null,t0=!1;function p1(r,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;t0||ol==null||ol!==Ia(f)||(f=ol,"selectionStart"in f&&Jg(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Yc&&Wc(Yc,f)||(Yc=f,f=pf(e0,"onSelect"),0<f.length&&(a=new Jo("onSelect","select",null,a,c),r.push({event:a,listeners:f}),a.target=ol)))}function $a(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var ll={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},n0={},y1={};Vi&&(y1=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Ga(r){if(n0[r])return n0[r];if(!ll[r])return r;var a=ll[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in y1)return n0[r]=a[c];return r}var x1=Ga("animationend"),v1=Ga("animationiteration"),b1=Ga("animationstart"),z4=Ga("transitionrun"),H4=Ga("transitionstart"),q4=Ga("transitioncancel"),w1=Ga("transitionend"),_1=new Map,i0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");i0.push("scrollEnd");function Li(r,a){_1.set(r,a),Un(a,[r])}var T1=new WeakMap;function gi(r,a){if(typeof r=="object"&&r!==null){var c=T1.get(r);return c!==void 0?c:(a={value:r,source:a,stack:Xo(a)},T1.set(r,a),a)}return{value:r,source:a,stack:Xo(a)}}var pi=[],cl=0,s0=0;function Rh(){for(var r=cl,a=s0=cl=0;a<r;){var c=pi[a];pi[a++]=null;var f=pi[a];pi[a++]=null;var y=pi[a];pi[a++]=null;var v=pi[a];if(pi[a++]=null,f!==null&&y!==null){var E=f.pending;E===null?y.next=y:(y.next=E.next,E.next=y),f.pending=y}v!==0&&S1(c,y,v)}}function Dh(r,a,c,f){pi[cl++]=r,pi[cl++]=a,pi[cl++]=c,pi[cl++]=f,s0|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function r0(r,a,c,f){return Dh(r,a,c,f),Mh(r)}function ul(r,a){return Dh(r,null,null,a),Mh(r)}function S1(r,a,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var y=!1,v=r.return;v!==null;)v.childLanes|=c,f=v.alternate,f!==null&&(f.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(y=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,y&&a!==null&&(y=31-Ut(c),r=v.hiddenUpdates,f=r[y],f===null?r[y]=[a]:f.push(a),a.lane=c|536870912),v):null}function Mh(r){if(50<vu)throw vu=0,dp=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var dl={};function $4(r,a,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(r,a,c,f){return new $4(r,a,c,f)}function a0(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $s(r,a){var c=r.alternate;return c===null?(c=ti(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function E1(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Ih(r,a,c,f,y,v){var E=0;if(f=r,typeof r=="function")a0(r)&&(E=1);else if(typeof r=="string")E=W3(r,c,ke.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=ti(31,c,a,y),r.elementType=N,r.lanes=v,r;case A:return Wa(c.children,y,v,a);case R:E=8,y|=24;break;case C:return r=ti(12,c,a,y|2),r.elementType=C,r.lanes=v,r;case Q:return r=ti(13,c,a,y),r.elementType=Q,r.lanes=v,r;case te:return r=ti(19,c,a,y),r.elementType=te,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:case F:E=10;break e;case U:E=9;break e;case G:E=11;break e;case V:E=14;break e;case k:E=16,f=null;break e}E=29,c=Error(i(130,r===null?"null":typeof r,"")),f=null}return a=ti(E,c,a,y),a.elementType=r,a.type=f,a.lanes=v,a}function Wa(r,a,c,f){return r=ti(7,r,f,a),r.lanes=c,r}function o0(r,a,c){return r=ti(6,r,null,a),r.lanes=c,r}function l0(r,a,c){return a=ti(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var hl=[],fl=0,Oh=null,Ph=0,yi=[],xi=0,Ya=null,Gs=1,Ws="";function Ka(r,a){hl[fl++]=Ph,hl[fl++]=Oh,Oh=r,Ph=a}function k1(r,a,c){yi[xi++]=Gs,yi[xi++]=Ws,yi[xi++]=Ya,Ya=r;var f=Gs;r=Ws;var y=32-Ut(f)-1;f&=~(1<<y),c+=1;var v=32-Ut(a)+y;if(30<v){var E=y-y%5;v=(f&(1<<E)-1).toString(32),f>>=E,y-=E,Gs=1<<32-Ut(a)+y|c<<y|f,Ws=v+r}else Gs=1<<v|c<<y|f,Ws=r}function c0(r){r.return!==null&&(Ka(r,1),k1(r,1,0))}function u0(r){for(;r===Oh;)Oh=hl[--fl],hl[fl]=null,Ph=hl[--fl],hl[fl]=null;for(;r===Ya;)Ya=yi[--xi],yi[xi]=null,Ws=yi[--xi],yi[xi]=null,Gs=yi[--xi],yi[xi]=null}var zn=null,Rt=null,Ze=!1,Xa=null,os=!1,d0=Error(i(519));function Qa(r){var a=Error(i(418,""));throw Qc(gi(a,r)),d0}function A1(r){var a=r.stateNode,c=r.type,f=r.memoizedProps;switch(a[Ct]=r,a[vt]=f,c){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(c=0;c<wu.length;c++)Pe(wu[c],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":Pe("invalid",a),Oa(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Qo(a);break;case"select":Pe("invalid",a);break;case"textarea":Pe("invalid",a),Pa(a,f.value,f.defaultValue,f.children),Qo(a)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||f.suppressHydrationWarning===!0||q2(a.textContent,c)?(f.popover!=null&&(Pe("beforetoggle",a),Pe("toggle",a)),f.onScroll!=null&&Pe("scroll",a),f.onScrollEnd!=null&&Pe("scrollend",a),f.onClick!=null&&(a.onclick=yf),a=!0):a=!1,a||Qa(r)}function N1(r){for(zn=r.return;zn;)switch(zn.tag){case 5:case 13:os=!1;return;case 27:case 3:os=!0;return;default:zn=zn.return}}function Kc(r){if(r!==zn)return!1;if(!Ze)return N1(r),Ze=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Ap(r.type,r.memoizedProps)),c=!c),c&&Rt&&Qa(r),N1(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){Rt=Bi(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}Rt=null}}else a===27?(a=Rt,Gr(r.type)?(r=Rp,Rp=null,Rt=r):Rt=a):Rt=zn?Bi(r.stateNode.nextSibling):null;return!0}function Xc(){Rt=zn=null,Ze=!1}function j1(){var r=Xa;return r!==null&&(Wn===null?Wn=r:Wn.push.apply(Wn,r),Xa=null),r}function Qc(r){Xa===null?Xa=[r]:Xa.push(r)}var h0=ve(null),Za=null,Ys=null;function Rr(r,a,c){he(h0,a._currentValue),a._currentValue=c}function Ks(r){r._currentValue=h0.current,xe(h0)}function f0(r,a,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===c)break;r=r.return}}function m0(r,a,c,f){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var v=y.dependencies;if(v!==null){var E=y.child;v=v.firstContext;e:for(;v!==null;){var j=v;v=y;for(var B=0;B<a.length;B++)if(j.context===a[B]){v.lanes|=c,j=v.alternate,j!==null&&(j.lanes|=c),f0(v.return,c,r),f||(E=null);break e}v=j.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(i(341));E.lanes|=c,v=E.alternate,v!==null&&(v.lanes|=c),f0(E,c,r),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===r){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function Zc(r,a,c,f){r=null;for(var y=a,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var j=y.type;ei(y.pendingProps.value,E.value)||(r!==null?r.push(j):r=[j])}}else if(y===At.current){if(E=y.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Au):r=[Au])}y=y.return}r!==null&&m0(a,r,c,f),a.flags|=262144}function Vh(r){for(r=r.firstContext;r!==null;){if(!ei(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ja(r){Za=r,Ys=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function jn(r){return C1(Za,r)}function Lh(r,a){return Za===null&&Ja(r),C1(r,a)}function C1(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Ys===null){if(r===null)throw Error(i(308));Ys=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Ys=Ys.next=a;return c}var G4=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},W4=t.unstable_scheduleCallback,Y4=t.unstable_NormalPriority,Xt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function g0(){return{controller:new G4,data:new Map,refCount:0}}function Jc(r){r.refCount--,r.refCount===0&&W4(Y4,function(){r.controller.abort()})}var eu=null,p0=0,ml=0,gl=null;function K4(r,a){if(eu===null){var c=eu=[];p0=0,ml=xp(),gl={status:"pending",value:void 0,then:function(f){c.push(f)}}}return p0++,a.then(R1,R1),a}function R1(){if(--p0===0&&eu!==null){gl!==null&&(gl.status="fulfilled");var r=eu;eu=null,ml=0,gl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function X4(r,a){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<c.length;y++)(0,c[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var D1=z.S;z.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&K4(r,a),D1!==null&&D1(r,a)};var eo=ve(null);function y0(){var r=eo.current;return r!==null?r:mt.pooledCache}function Uh(r,a){a===null?he(eo,eo.current):he(eo,a.pool)}function M1(){var r=y0();return r===null?null:{parent:Xt._currentValue,pool:r}}var tu=Error(i(460)),I1=Error(i(474)),Bh=Error(i(542)),x0={then:function(){}};function O1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fh(){}function P1(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(Fh,Fh),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,L1(r),r;default:if(typeof a.status=="string")a.then(Fh,Fh);else{if(r=mt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,L1(r),r}throw nu=a,tu}}var nu=null;function V1(){if(nu===null)throw Error(i(459));var r=nu;return nu=null,r}function L1(r){if(r===tu||r===Bh)throw Error(i(483))}var Dr=!1;function v0(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function b0(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Mr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ir(r,a,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(it&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=Mh(r),S1(r,null,c),a}return Dh(r,f,a,c),Mh(r)}function iu(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,Qi(r,c)}}function w0(r,a){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=E:v=v.next=E,c=c.next}while(c!==null);v===null?y=v=a:v=v.next=a}else y=v=a;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var _0=!1;function su(){if(_0){var r=gl;if(r!==null)throw r}}function ru(r,a,c,f){_0=!1;var y=r.updateQueue;Dr=!1;var v=y.firstBaseUpdate,E=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var B=j,K=B.next;B.next=null,E===null?v=K:E.next=K,E=B;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==E&&(j===null?ie.firstBaseUpdate=K:j.next=K,ie.lastBaseUpdate=B))}if(v!==null){var ae=y.baseState;E=0,ie=K=B=null,j=v;do{var Z=j.lane&-536870913,ee=Z!==j.lane;if(ee?(He&Z)===Z:(f&Z)===Z){Z!==0&&Z===ml&&(_0=!0),ie!==null&&(ie=ie.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Se=r,we=j;Z=a;var ct=c;switch(we.tag){case 1:if(Se=we.payload,typeof Se=="function"){ae=Se.call(ct,ae,Z);break e}ae=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=we.payload,Z=typeof Se=="function"?Se.call(ct,ae,Z):Se,Z==null)break e;ae=p({},ae,Z);break e;case 2:Dr=!0}}Z=j.callback,Z!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=y.callbacks,ee===null?y.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(K=ie=ee,B=ae):ie=ie.next=ee,E|=Z;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;ee=j,j=ee.next,ee.next=null,y.lastBaseUpdate=ee,y.shared.pending=null}}while(!0);ie===null&&(B=ae),y.baseState=B,y.firstBaseUpdate=K,y.lastBaseUpdate=ie,v===null&&(y.shared.lanes=0),zr|=E,r.lanes=E,r.memoizedState=ae}}function U1(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function B1(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)U1(c[r],a)}var pl=ve(null),zh=ve(0);function F1(r,a){r=nr,he(zh,r),he(pl,a),nr=r|a.baseLanes}function T0(){he(zh,nr),he(pl,pl.current)}function S0(){nr=zh.current,xe(pl),xe(zh)}var Or=0,De=null,ot=null,zt=null,Hh=!1,yl=!1,to=!1,qh=0,au=0,xl=null,Q4=0;function It(){throw Error(i(321))}function E0(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!ei(r[c],a[c]))return!1;return!0}function k0(r,a,c,f,y,v){return Or=v,De=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=r===null||r.memoizedState===null?Sw:Ew,to=!1,v=c(f,y),to=!1,yl&&(v=H1(a,c,f,y)),z1(r),v}function z1(r){z.H=Xh;var a=ot!==null&&ot.next!==null;if(Or=0,zt=ot=De=null,Hh=!1,au=0,xl=null,a)throw Error(i(300));r===null||on||(r=r.dependencies,r!==null&&Vh(r)&&(on=!0))}function H1(r,a,c,f){De=r;var y=0;do{if(yl&&(xl=null),au=0,yl=!1,25<=y)throw Error(i(301));if(y+=1,zt=ot=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}z.H=s3,v=a(c,f)}while(yl);return v}function Z4(){var r=z.H,a=r.useState()[0];return a=typeof a.then=="function"?ou(a):a,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(De.flags|=1024),a}function A0(){var r=qh!==0;return qh=0,r}function N0(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function j0(r){if(Hh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Hh=!1}Or=0,zt=ot=De=null,yl=!1,au=qh=0,xl=null}function $n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?De.memoizedState=zt=r:zt=zt.next=r,zt}function Ht(){if(ot===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var a=zt===null?De.memoizedState:zt.next;if(a!==null)zt=a,ot=r;else{if(r===null)throw De.alternate===null?Error(i(467)):Error(i(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},zt===null?De.memoizedState=zt=r:zt=zt.next=r}return zt}function C0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(r){var a=au;return au+=1,xl===null&&(xl=[]),r=P1(xl,r,a),a=De,(zt===null?a.memoizedState:zt.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?Sw:Ew),r}function $h(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ou(r);if(r.$$typeof===F)return jn(r)}throw Error(i(438,String(r)))}function R0(r){var a=null,c=De.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var f=De.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=C0(),De.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),f=0;f<r;f++)c[f]=D;return a.index++,c}function Xs(r,a){return typeof a=="function"?a(r):a}function Gh(r){var a=Ht();return D0(a,ot,r)}function D0(r,a,c){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=c;var y=r.baseQueue,v=f.pending;if(v!==null){if(y!==null){var E=y.next;y.next=v.next,v.next=E}a.baseQueue=y=v,f.pending=null}if(v=r.baseState,y===null)r.memoizedState=v;else{a=y.next;var j=E=null,B=null,K=a,ie=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(He&ae)===ae:(Or&ae)===ae){var Z=K.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===ml&&(ie=!0);else if((Or&Z)===Z){K=K.next,Z===ml&&(ie=!0);continue}else ae={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(j=B=ae,E=v):B=B.next=ae,De.lanes|=Z,zr|=Z;ae=K.action,to&&c(v,ae),v=K.hasEagerState?K.eagerState:c(v,ae)}else Z={lane:ae,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(j=B=Z,E=v):B=B.next=Z,De.lanes|=ae,zr|=ae;K=K.next}while(K!==null&&K!==a);if(B===null?E=v:B.next=j,!ei(v,r.memoizedState)&&(on=!0,ie&&(c=gl,c!==null)))throw c;r.memoizedState=v,r.baseState=E,r.baseQueue=B,f.lastRenderedState=v}return y===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function M0(r){var a=Ht(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var f=c.dispatch,y=c.pending,v=a.memoizedState;if(y!==null){c.pending=null;var E=y=y.next;do v=r(v,E.action),E=E.next;while(E!==y);ei(v,a.memoizedState)||(on=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,f]}function q1(r,a,c){var f=De,y=Ht(),v=Ze;if(v){if(c===void 0)throw Error(i(407));c=c()}else c=a();var E=!ei((ot||y).memoizedState,c);E&&(y.memoizedState=c,on=!0),y=y.queue;var j=W1.bind(null,f,y,r);if(lu(2048,8,j,[r]),y.getSnapshot!==a||E||zt!==null&&zt.memoizedState.tag&1){if(f.flags|=2048,vl(9,Wh(),G1.bind(null,f,y,c,a),null),mt===null)throw Error(i(349));v||(Or&124)!==0||$1(f,a,c)}return c}function $1(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=De.updateQueue,a===null?(a=C0(),De.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function G1(r,a,c,f){a.value=c,a.getSnapshot=f,Y1(a)&&K1(r)}function W1(r,a,c){return c(function(){Y1(a)&&K1(r)})}function Y1(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!ei(r,c)}catch{return!0}}function K1(r){var a=ul(r,2);a!==null&&ai(a,r,2)}function I0(r){var a=$n();if(typeof r=="function"){var c=r;if(r=c(),to){Ln(!0);try{c()}finally{Ln(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:r},a}function X1(r,a,c,f){return r.baseState=c,D0(r,ot,typeof f=="function"?f:Xs)}function J4(r,a,c,f,y){if(Kh(r))throw Error(i(485));if(r=a.action,r!==null){var v={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};z.T!==null?c(!0):v.isTransition=!1,f(v),c=a.pending,c===null?(v.next=a.pending=v,Q1(a,v)):(v.next=c.next,a.pending=c.next=v)}}function Q1(r,a){var c=a.action,f=a.payload,y=r.state;if(a.isTransition){var v=z.T,E={};z.T=E;try{var j=c(y,f),B=z.S;B!==null&&B(E,j),Z1(r,a,j)}catch(K){O0(r,a,K)}finally{z.T=v}}else try{v=c(y,f),Z1(r,a,v)}catch(K){O0(r,a,K)}}function Z1(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){J1(r,a,f)},function(f){return O0(r,a,f)}):J1(r,a,c)}function J1(r,a,c){a.status="fulfilled",a.value=c,ew(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,Q1(r,c)))}function O0(r,a,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=c,ew(a),a=a.next;while(a!==f)}r.action=null}function ew(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function tw(r,a){return a}function nw(r,a){if(Ze){var c=mt.formState;if(c!==null){e:{var f=De;if(Ze){if(Rt){t:{for(var y=Rt,v=os;y.nodeType!==8;){if(!v){y=null;break t}if(y=Bi(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){Rt=Bi(y.nextSibling),f=y.data==="F!";break e}}Qa(f)}f=!1}f&&(a=c[0])}}return c=$n(),c.memoizedState=c.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tw,lastRenderedState:a},c.queue=f,c=ww.bind(null,De,f),f.dispatch=c,f=I0(!1),v=B0.bind(null,De,!1,f.queue),f=$n(),y={state:a,dispatch:null,action:r,pending:null},f.queue=y,c=J4.bind(null,De,y,v,c),y.dispatch=c,f.memoizedState=r,[a,c,!1]}function iw(r){var a=Ht();return sw(a,ot,r)}function sw(r,a,c){if(a=D0(r,a,tw)[0],r=Gh(Xs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=ou(a)}catch(E){throw E===tu?Bh:E}else f=a;a=Ht();var y=a.queue,v=y.dispatch;return c!==a.memoizedState&&(De.flags|=2048,vl(9,Wh(),e3.bind(null,y,c),null)),[f,v,r]}function e3(r,a){r.action=a}function rw(r){var a=Ht(),c=ot;if(c!==null)return sw(a,c,r);Ht(),a=a.memoizedState,c=Ht();var f=c.queue.dispatch;return c.memoizedState=r,[a,f,!1]}function vl(r,a,c,f){return r={tag:r,create:c,deps:f,inst:a,next:null},a=De.updateQueue,a===null&&(a=C0(),De.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,a.lastEffect=r),r}function Wh(){return{destroy:void 0,resource:void 0}}function aw(){return Ht().memoizedState}function Yh(r,a,c,f){var y=$n();f=f===void 0?null:f,De.flags|=r,y.memoizedState=vl(1|a,Wh(),c,f)}function lu(r,a,c,f){var y=Ht();f=f===void 0?null:f;var v=y.memoizedState.inst;ot!==null&&f!==null&&E0(f,ot.memoizedState.deps)?y.memoizedState=vl(a,v,c,f):(De.flags|=r,y.memoizedState=vl(1|a,v,c,f))}function ow(r,a){Yh(8390656,8,r,a)}function lw(r,a){lu(2048,8,r,a)}function cw(r,a){return lu(4,2,r,a)}function uw(r,a){return lu(4,4,r,a)}function dw(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function hw(r,a,c){c=c!=null?c.concat([r]):null,lu(4,4,dw.bind(null,a,r),c)}function P0(){}function fw(r,a){var c=Ht();a=a===void 0?null:a;var f=c.memoizedState;return a!==null&&E0(a,f[1])?f[0]:(c.memoizedState=[r,a],r)}function mw(r,a){var c=Ht();a=a===void 0?null:a;var f=c.memoizedState;if(a!==null&&E0(a,f[1]))return f[0];if(f=r(),to){Ln(!0);try{r()}finally{Ln(!1)}}return c.memoizedState=[f,a],f}function V0(r,a,c){return c===void 0||(Or&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=y2(),De.lanes|=r,zr|=r,c)}function gw(r,a,c,f){return ei(c,a)?c:pl.current!==null?(r=V0(r,c,f),ei(r,a)||(on=!0),r):(Or&42)===0?(on=!0,r.memoizedState=c):(r=y2(),De.lanes|=r,zr|=r,a)}function pw(r,a,c,f,y){var v=$.p;$.p=v!==0&&8>v?v:8;var E=z.T,j={};z.T=j,B0(r,!1,a,c);try{var B=y(),K=z.S;if(K!==null&&K(j,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ie=X4(B,f);cu(r,a,ie,ri(r))}else cu(r,a,f,ri(r))}catch(ae){cu(r,a,{then:function(){},status:"rejected",reason:ae},ri())}finally{$.p=v,z.T=E}}function t3(){}function L0(r,a,c,f){if(r.tag!==5)throw Error(i(476));var y=yw(r).queue;pw(r,y,a,le,c===null?t3:function(){return xw(r),c(f)})}function yw(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:le},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function xw(r){var a=yw(r).next.queue;cu(r,a,{},ri())}function U0(){return jn(Au)}function vw(){return Ht().memoizedState}function bw(){return Ht().memoizedState}function n3(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=ri();r=Mr(c);var f=Ir(a,r,c);f!==null&&(ai(f,a,c),iu(f,a,c)),a={cache:g0()},r.payload=a;return}a=a.return}}function i3(r,a,c){var f=ri();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Kh(r)?_w(a,c):(c=r0(r,a,c,f),c!==null&&(ai(c,r,f),Tw(c,a,f)))}function ww(r,a,c){var f=ri();cu(r,a,c,f)}function cu(r,a,c,f){var y={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Kh(r))_w(a,y);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var E=a.lastRenderedState,j=v(E,c);if(y.hasEagerState=!0,y.eagerState=j,ei(j,E))return Dh(r,a,y,0),mt===null&&Rh(),!1}catch{}finally{}if(c=r0(r,a,y,f),c!==null)return ai(c,r,f),Tw(c,a,f),!0}return!1}function B0(r,a,c,f){if(f={lane:2,revertLane:xp(),action:f,hasEagerState:!1,eagerState:null,next:null},Kh(r)){if(a)throw Error(i(479))}else a=r0(r,c,f,2),a!==null&&ai(a,r,2)}function Kh(r){var a=r.alternate;return r===De||a!==null&&a===De}function _w(r,a){yl=Hh=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function Tw(r,a,c){if((c&4194048)!==0){var f=a.lanes;f&=r.pendingLanes,c|=f,a.lanes=c,Qi(r,c)}}var Xh={readContext:jn,use:$h,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},Sw={readContext:jn,use:$h,useCallback:function(r,a){return $n().memoizedState=[r,a===void 0?null:a],r},useContext:jn,useEffect:ow,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Yh(4194308,4,dw.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Yh(4194308,4,r,a)},useInsertionEffect:function(r,a){Yh(4,2,r,a)},useMemo:function(r,a){var c=$n();a=a===void 0?null:a;var f=r();if(to){Ln(!0);try{r()}finally{Ln(!1)}}return c.memoizedState=[f,a],f},useReducer:function(r,a,c){var f=$n();if(c!==void 0){var y=c(a);if(to){Ln(!0);try{c(a)}finally{Ln(!1)}}}else y=a;return f.memoizedState=f.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},f.queue=r,r=r.dispatch=i3.bind(null,De,r),[f.memoizedState,r]},useRef:function(r){var a=$n();return r={current:r},a.memoizedState=r},useState:function(r){r=I0(r);var a=r.queue,c=ww.bind(null,De,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:P0,useDeferredValue:function(r,a){var c=$n();return V0(c,r,a)},useTransition:function(){var r=I0(!1);return r=pw.bind(null,De,r.queue,!0,!1),$n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var f=De,y=$n();if(Ze){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),mt===null)throw Error(i(349));(He&124)!==0||$1(f,a,c)}y.memoizedState=c;var v={value:c,getSnapshot:a};return y.queue=v,ow(W1.bind(null,f,v,r),[r]),f.flags|=2048,vl(9,Wh(),G1.bind(null,f,v,c,a),null),c},useId:function(){var r=$n(),a=mt.identifierPrefix;if(Ze){var c=Ws,f=Gs;c=(f&~(1<<32-Ut(f)-1)).toString(32)+c,a=""+a+"R"+c,c=qh++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=Q4++,a=""+a+"r"+c.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:U0,useFormState:nw,useActionState:nw,useOptimistic:function(r){var a=$n();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=B0.bind(null,De,!0,c),c.dispatch=a,[r,a]},useMemoCache:R0,useCacheRefresh:function(){return $n().memoizedState=n3.bind(null,De)}},Ew={readContext:jn,use:$h,useCallback:fw,useContext:jn,useEffect:lw,useImperativeHandle:hw,useInsertionEffect:cw,useLayoutEffect:uw,useMemo:mw,useReducer:Gh,useRef:aw,useState:function(){return Gh(Xs)},useDebugValue:P0,useDeferredValue:function(r,a){var c=Ht();return gw(c,ot.memoizedState,r,a)},useTransition:function(){var r=Gh(Xs)[0],a=Ht().memoizedState;return[typeof r=="boolean"?r:ou(r),a]},useSyncExternalStore:q1,useId:vw,useHostTransitionStatus:U0,useFormState:iw,useActionState:iw,useOptimistic:function(r,a){var c=Ht();return X1(c,ot,r,a)},useMemoCache:R0,useCacheRefresh:bw},s3={readContext:jn,use:$h,useCallback:fw,useContext:jn,useEffect:lw,useImperativeHandle:hw,useInsertionEffect:cw,useLayoutEffect:uw,useMemo:mw,useReducer:M0,useRef:aw,useState:function(){return M0(Xs)},useDebugValue:P0,useDeferredValue:function(r,a){var c=Ht();return ot===null?V0(c,r,a):gw(c,ot.memoizedState,r,a)},useTransition:function(){var r=M0(Xs)[0],a=Ht().memoizedState;return[typeof r=="boolean"?r:ou(r),a]},useSyncExternalStore:q1,useId:vw,useHostTransitionStatus:U0,useFormState:rw,useActionState:rw,useOptimistic:function(r,a){var c=Ht();return ot!==null?X1(c,ot,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:R0,useCacheRefresh:bw},bl=null,uu=0;function Qh(r){var a=uu;return uu+=1,bl===null&&(bl=[]),P1(bl,r,a)}function du(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Zh(r,a){throw a.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function kw(r){var a=r._init;return a(r._payload)}function Aw(r){function a(q,H){if(r){var Y=q.deletions;Y===null?(q.deletions=[H],q.flags|=16):Y.push(H)}}function c(q,H){if(!r)return null;for(;H!==null;)a(q,H),H=H.sibling;return null}function f(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function y(q,H){return q=$s(q,H),q.index=0,q.sibling=null,q}function v(q,H,Y){return q.index=Y,r?(Y=q.alternate,Y!==null?(Y=Y.index,Y<H?(q.flags|=67108866,H):Y):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function E(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function j(q,H,Y,re){return H===null||H.tag!==6?(H=o0(Y,q.mode,re),H.return=q,H):(H=y(H,Y),H.return=q,H)}function B(q,H,Y,re){var ge=Y.type;return ge===A?ie(q,H,Y.props.children,re,Y.key):H!==null&&(H.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===k&&kw(ge)===H.type)?(H=y(H,Y.props),du(H,Y),H.return=q,H):(H=Ih(Y.type,Y.key,Y.props,null,q.mode,re),du(H,Y),H.return=q,H)}function K(q,H,Y,re){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=l0(Y,q.mode,re),H.return=q,H):(H=y(H,Y.children||[]),H.return=q,H)}function ie(q,H,Y,re,ge){return H===null||H.tag!==7?(H=Wa(Y,q.mode,re,ge),H.return=q,H):(H=y(H,Y),H.return=q,H)}function ae(q,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=o0(""+H,q.mode,Y),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return Y=Ih(H.type,H.key,H.props,null,q.mode,Y),du(Y,H),Y.return=q,Y;case _:return H=l0(H,q.mode,Y),H.return=q,H;case k:var re=H._init;return H=re(H._payload),ae(q,H,Y)}if(se(H)||O(H))return H=Wa(H,q.mode,Y,null),H.return=q,H;if(typeof H.then=="function")return ae(q,Qh(H),Y);if(H.$$typeof===F)return ae(q,Lh(q,H),Y);Zh(q,H)}return null}function Z(q,H,Y,re){var ge=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ge!==null?null:j(q,H,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return Y.key===ge?B(q,H,Y,re):null;case _:return Y.key===ge?K(q,H,Y,re):null;case k:return ge=Y._init,Y=ge(Y._payload),Z(q,H,Y,re)}if(se(Y)||O(Y))return ge!==null?null:ie(q,H,Y,re,null);if(typeof Y.then=="function")return Z(q,H,Qh(Y),re);if(Y.$$typeof===F)return Z(q,H,Lh(q,Y),re);Zh(q,Y)}return null}function ee(q,H,Y,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(Y)||null,j(H,q,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return q=q.get(re.key===null?Y:re.key)||null,B(H,q,re,ge);case _:return q=q.get(re.key===null?Y:re.key)||null,K(H,q,re,ge);case k:var Ie=re._init;return re=Ie(re._payload),ee(q,H,Y,re,ge)}if(se(re)||O(re))return q=q.get(Y)||null,ie(H,q,re,ge,null);if(typeof re.then=="function")return ee(q,H,Y,Qh(re),ge);if(re.$$typeof===F)return ee(q,H,Y,Lh(H,re),ge);Zh(H,re)}return null}function Se(q,H,Y,re){for(var ge=null,Ie=null,pe=H,_e=H=0,cn=null;pe!==null&&_e<Y.length;_e++){pe.index>_e?(cn=pe,pe=null):cn=pe.sibling;var Ke=Z(q,pe,Y[_e],re);if(Ke===null){pe===null&&(pe=cn);break}r&&pe&&Ke.alternate===null&&a(q,pe),H=v(Ke,H,_e),Ie===null?ge=Ke:Ie.sibling=Ke,Ie=Ke,pe=cn}if(_e===Y.length)return c(q,pe),Ze&&Ka(q,_e),ge;if(pe===null){for(;_e<Y.length;_e++)pe=ae(q,Y[_e],re),pe!==null&&(H=v(pe,H,_e),Ie===null?ge=pe:Ie.sibling=pe,Ie=pe);return Ze&&Ka(q,_e),ge}for(pe=f(pe);_e<Y.length;_e++)cn=ee(pe,q,_e,Y[_e],re),cn!==null&&(r&&cn.alternate!==null&&pe.delete(cn.key===null?_e:cn.key),H=v(cn,H,_e),Ie===null?ge=cn:Ie.sibling=cn,Ie=cn);return r&&pe.forEach(function(Qr){return a(q,Qr)}),Ze&&Ka(q,_e),ge}function we(q,H,Y,re){if(Y==null)throw Error(i(151));for(var ge=null,Ie=null,pe=H,_e=H=0,cn=null,Ke=Y.next();pe!==null&&!Ke.done;_e++,Ke=Y.next()){pe.index>_e?(cn=pe,pe=null):cn=pe.sibling;var Qr=Z(q,pe,Ke.value,re);if(Qr===null){pe===null&&(pe=cn);break}r&&pe&&Qr.alternate===null&&a(q,pe),H=v(Qr,H,_e),Ie===null?ge=Qr:Ie.sibling=Qr,Ie=Qr,pe=cn}if(Ke.done)return c(q,pe),Ze&&Ka(q,_e),ge;if(pe===null){for(;!Ke.done;_e++,Ke=Y.next())Ke=ae(q,Ke.value,re),Ke!==null&&(H=v(Ke,H,_e),Ie===null?ge=Ke:Ie.sibling=Ke,Ie=Ke);return Ze&&Ka(q,_e),ge}for(pe=f(pe);!Ke.done;_e++,Ke=Y.next())Ke=ee(pe,q,_e,Ke.value,re),Ke!==null&&(r&&Ke.alternate!==null&&pe.delete(Ke.key===null?_e:Ke.key),H=v(Ke,H,_e),Ie===null?ge=Ke:Ie.sibling=Ke,Ie=Ke);return r&&pe.forEach(function(rR){return a(q,rR)}),Ze&&Ka(q,_e),ge}function ct(q,H,Y,re){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:e:{for(var ge=Y.key;H!==null;){if(H.key===ge){if(ge=Y.type,ge===A){if(H.tag===7){c(q,H.sibling),re=y(H,Y.props.children),re.return=q,q=re;break e}}else if(H.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===k&&kw(ge)===H.type){c(q,H.sibling),re=y(H,Y.props),du(re,Y),re.return=q,q=re;break e}c(q,H);break}else a(q,H);H=H.sibling}Y.type===A?(re=Wa(Y.props.children,q.mode,re,Y.key),re.return=q,q=re):(re=Ih(Y.type,Y.key,Y.props,null,q.mode,re),du(re,Y),re.return=q,q=re)}return E(q);case _:e:{for(ge=Y.key;H!==null;){if(H.key===ge)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){c(q,H.sibling),re=y(H,Y.children||[]),re.return=q,q=re;break e}else{c(q,H);break}else a(q,H);H=H.sibling}re=l0(Y,q.mode,re),re.return=q,q=re}return E(q);case k:return ge=Y._init,Y=ge(Y._payload),ct(q,H,Y,re)}if(se(Y))return Se(q,H,Y,re);if(O(Y)){if(ge=O(Y),typeof ge!="function")throw Error(i(150));return Y=ge.call(Y),we(q,H,Y,re)}if(typeof Y.then=="function")return ct(q,H,Qh(Y),re);if(Y.$$typeof===F)return ct(q,H,Lh(q,Y),re);Zh(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,H!==null&&H.tag===6?(c(q,H.sibling),re=y(H,Y),re.return=q,q=re):(c(q,H),re=o0(Y,q.mode,re),re.return=q,q=re),E(q)):c(q,H)}return function(q,H,Y,re){try{uu=0;var ge=ct(q,H,Y,re);return bl=null,ge}catch(pe){if(pe===tu||pe===Bh)throw pe;var Ie=ti(29,pe,null,q.mode);return Ie.lanes=re,Ie.return=q,Ie}finally{}}}var wl=Aw(!0),Nw=Aw(!1),vi=ve(null),ls=null;function Pr(r){var a=r.alternate;he(Qt,Qt.current&1),he(vi,r),ls===null&&(a===null||pl.current!==null||a.memoizedState!==null)&&(ls=r)}function jw(r){if(r.tag===22){if(he(Qt,Qt.current),he(vi,r),ls===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(ls=r)}}else Vr()}function Vr(){he(Qt,Qt.current),he(vi,vi.current)}function Qs(r){xe(vi),ls===r&&(ls=null),xe(Qt)}var Qt=ve(0);function Jh(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Cp(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function F0(r,a,c,f){a=r.memoizedState,c=c(f,a),c=c==null?a:p({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var z0={enqueueSetState:function(r,a,c){r=r._reactInternals;var f=ri(),y=Mr(f);y.payload=a,c!=null&&(y.callback=c),a=Ir(r,y,f),a!==null&&(ai(a,r,f),iu(a,r,f))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var f=ri(),y=Mr(f);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Ir(r,y,f),a!==null&&(ai(a,r,f),iu(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=ri(),f=Mr(c);f.tag=2,a!=null&&(f.callback=a),a=Ir(r,f,c),a!==null&&(ai(a,r,c),iu(a,r,c))}};function Cw(r,a,c,f,y,v,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,v,E):a.prototype&&a.prototype.isPureReactComponent?!Wc(c,f)||!Wc(y,v):!0}function Rw(r,a,c,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==r&&z0.enqueueReplaceState(a,a.state,null)}function no(r,a){var c=a;if("ref"in a){c={};for(var f in a)f!=="ref"&&(c[f]=a[f])}if(r=r.defaultProps){c===a&&(c=p({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}var ef=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Dw(r){ef(r)}function Mw(r){console.error(r)}function Iw(r){ef(r)}function tf(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function Ow(r,a,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function H0(r,a,c){return c=Mr(c),c.tag=3,c.payload={element:null},c.callback=function(){tf(r,a)},c}function Pw(r){return r=Mr(r),r.tag=3,r}function Vw(r,a,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=f.value;r.payload=function(){return y(v)},r.callback=function(){Ow(a,c,f)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Ow(a,c,f),typeof y!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})})}function r3(r,a,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=c.alternate,a!==null&&Zc(a,c,y,!0),c=vi.current,c!==null){switch(c.tag){case 13:return ls===null?fp():c.alternate===null&&Dt===0&&(Dt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===x0?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([f]):a.add(f),gp(r,f,y)),!1;case 22:return c.flags|=65536,f===x0?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([f]):c.add(f)),gp(r,f,y)),!1}throw Error(i(435,c.tag))}return gp(r,f,y),fp(),!1}if(Ze)return a=vi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==d0&&(r=Error(i(422),{cause:f}),Qc(gi(r,c)))):(f!==d0&&(a=Error(i(423),{cause:f}),Qc(gi(a,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,f=gi(f,c),y=H0(r.stateNode,f,y),w0(r,y),Dt!==4&&(Dt=2)),!1;var v=Error(i(520),{cause:f});if(v=gi(v,c),xu===null?xu=[v]:xu.push(v),Dt!==4&&(Dt=2),a===null)return!0;f=gi(f,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=H0(c.stateNode,f,r),w0(c,r),!1;case 1:if(a=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Hr===null||!Hr.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Pw(y),Vw(y,r,c,f),w0(c,y),!1}c=c.return}while(c!==null);return!1}var Lw=Error(i(461)),on=!1;function vn(r,a,c,f){a.child=r===null?Nw(a,null,c,f):wl(a,r.child,c,f)}function Uw(r,a,c,f,y){c=c.render;var v=a.ref;if("ref"in f){var E={};for(var j in f)j!=="ref"&&(E[j]=f[j])}else E=f;return Ja(a),f=k0(r,a,c,E,v,y),j=A0(),r!==null&&!on?(N0(r,a,y),Zs(r,a,y)):(Ze&&j&&c0(a),a.flags|=1,vn(r,a,f,y),a.child)}function Bw(r,a,c,f,y){if(r===null){var v=c.type;return typeof v=="function"&&!a0(v)&&v.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=v,Fw(r,a,v,f,y)):(r=Ih(c.type,null,f,a,a.mode,y),r.ref=a.ref,r.return=a,a.child=r)}if(v=r.child,!Q0(r,y)){var E=v.memoizedProps;if(c=c.compare,c=c!==null?c:Wc,c(E,f)&&r.ref===a.ref)return Zs(r,a,y)}return a.flags|=1,r=$s(v,f),r.ref=a.ref,r.return=a,a.child=r}function Fw(r,a,c,f,y){if(r!==null){var v=r.memoizedProps;if(Wc(v,f)&&r.ref===a.ref)if(on=!1,a.pendingProps=f=v,Q0(r,y))(r.flags&131072)!==0&&(on=!0);else return a.lanes=r.lanes,Zs(r,a,y)}return q0(r,a,c,f,y)}function zw(r,a,c){var f=a.pendingProps,y=f.children,v=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=v!==null?v.baseLanes|c:c,r!==null){for(y=a.child=r.child,v=0;y!==null;)v=v|y.lanes|y.childLanes,y=y.sibling;a.childLanes=v&~f}else a.childLanes=0,a.child=null;return Hw(r,a,f,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Uh(a,v!==null?v.cachePool:null),v!==null?F1(a,v):T0(),jw(a);else return a.lanes=a.childLanes=536870912,Hw(r,a,v!==null?v.baseLanes|c:c,c)}else v!==null?(Uh(a,v.cachePool),F1(a,v),Vr(),a.memoizedState=null):(r!==null&&Uh(a,null),T0(),Vr());return vn(r,a,y,c),a.child}function Hw(r,a,c,f){var y=y0();return y=y===null?null:{parent:Xt._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},r!==null&&Uh(a,null),T0(),jw(a),r!==null&&Zc(r,a,f,!0),null}function nf(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function q0(r,a,c,f,y){return Ja(a),c=k0(r,a,c,f,void 0,y),f=A0(),r!==null&&!on?(N0(r,a,y),Zs(r,a,y)):(Ze&&f&&c0(a),a.flags|=1,vn(r,a,c,y),a.child)}function qw(r,a,c,f,y,v){return Ja(a),a.updateQueue=null,c=H1(a,f,c,y),z1(r),f=A0(),r!==null&&!on?(N0(r,a,v),Zs(r,a,v)):(Ze&&f&&c0(a),a.flags|=1,vn(r,a,c,v),a.child)}function $w(r,a,c,f,y){if(Ja(a),a.stateNode===null){var v=dl,E=c.contextType;typeof E=="object"&&E!==null&&(v=jn(E)),v=new c(f,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=z0,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=f,v.state=a.memoizedState,v.refs={},v0(a),E=c.contextType,v.context=typeof E=="object"&&E!==null?jn(E):dl,v.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(F0(a,c,E,f),v.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&z0.enqueueReplaceState(v,v.state,null),ru(a,f,v,y),su(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){v=a.stateNode;var j=a.memoizedProps,B=no(c,j);v.props=B;var K=v.context,ie=c.contextType;E=dl,typeof ie=="object"&&ie!==null&&(E=jn(ie));var ae=c.getDerivedStateFromProps;ie=typeof ae=="function"||typeof v.getSnapshotBeforeUpdate=="function",j=a.pendingProps!==j,ie||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j||K!==E)&&Rw(a,v,f,E),Dr=!1;var Z=a.memoizedState;v.state=Z,ru(a,f,v,y),su(),K=a.memoizedState,j||Z!==K||Dr?(typeof ae=="function"&&(F0(a,c,ae,f),K=a.memoizedState),(B=Dr||Cw(a,c,B,f,Z,K,E))?(ie||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=K),v.props=f,v.state=K,v.context=E,f=B):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{v=a.stateNode,b0(r,a),E=a.memoizedProps,ie=no(c,E),v.props=ie,ae=a.pendingProps,Z=v.context,K=c.contextType,B=dl,typeof K=="object"&&K!==null&&(B=jn(K)),j=c.getDerivedStateFromProps,(K=typeof j=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==ae||Z!==B)&&Rw(a,v,f,B),Dr=!1,Z=a.memoizedState,v.state=Z,ru(a,f,v,y),su();var ee=a.memoizedState;E!==ae||Z!==ee||Dr||r!==null&&r.dependencies!==null&&Vh(r.dependencies)?(typeof j=="function"&&(F0(a,c,j,f),ee=a.memoizedState),(ie=Dr||Cw(a,c,ie,f,Z,ee,B)||r!==null&&r.dependencies!==null&&Vh(r.dependencies))?(K||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,ee,B),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,ee,B)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ee),v.props=f,v.state=ee,v.context=B,f=ie):(typeof v.componentDidUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),f=!1)}return v=f,nf(r,a),f=(a.flags&128)!==0,v||f?(v=a.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,r!==null&&f?(a.child=wl(a,r.child,null,y),a.child=wl(a,null,c,y)):vn(r,a,c,y),a.memoizedState=v.state,r=a.child):r=Zs(r,a,y),r}function Gw(r,a,c,f){return Xc(),a.flags|=256,vn(r,a,c,f),a.child}var $0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G0(r){return{baseLanes:r,cachePool:M1()}}function W0(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=bi),r}function Ww(r,a,c){var f=a.pendingProps,y=!1,v=(a.flags&128)!==0,E;if((E=v)||(E=r!==null&&r.memoizedState===null?!1:(Qt.current&2)!==0),E&&(y=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(Ze){if(y?Pr(a):Vr(),Ze){var j=Rt,B;if(B=j){e:{for(B=j,j=os;B.nodeType!==8;){if(!j){j=null;break e}if(B=Bi(B.nextSibling),B===null){j=null;break e}}j=B}j!==null?(a.memoizedState={dehydrated:j,treeContext:Ya!==null?{id:Gs,overflow:Ws}:null,retryLane:536870912,hydrationErrors:null},B=ti(18,null,null,0),B.stateNode=j,B.return=a,a.child=B,zn=a,Rt=null,B=!0):B=!1}B||Qa(a)}if(j=a.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Cp(j)?a.lanes=32:a.lanes=536870912,null;Qs(a)}return j=f.children,f=f.fallback,y?(Vr(),y=a.mode,j=sf({mode:"hidden",children:j},y),f=Wa(f,y,c,null),j.return=a,f.return=a,j.sibling=f,a.child=j,y=a.child,y.memoizedState=G0(c),y.childLanes=W0(r,E,c),a.memoizedState=$0,f):(Pr(a),Y0(a,j))}if(B=r.memoizedState,B!==null&&(j=B.dehydrated,j!==null)){if(v)a.flags&256?(Pr(a),a.flags&=-257,a=K0(r,a,c)):a.memoizedState!==null?(Vr(),a.child=r.child,a.flags|=128,a=null):(Vr(),y=f.fallback,j=a.mode,f=sf({mode:"visible",children:f.children},j),y=Wa(y,j,c,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,wl(a,r.child,null,c),f=a.child,f.memoizedState=G0(c),f.childLanes=W0(r,E,c),a.memoizedState=$0,a=y);else if(Pr(a),Cp(j)){if(E=j.nextSibling&&j.nextSibling.dataset,E)var K=E.dgst;E=K,f=Error(i(419)),f.stack="",f.digest=E,Qc({value:f,source:null,stack:null}),a=K0(r,a,c)}else if(on||Zc(r,a,c,!1),E=(c&r.childLanes)!==0,on||E){if(E=mt,E!==null&&(f=c&-c,f=(f&42)!==0?1:Ye(f),f=(f&(E.suspendedLanes|c))!==0?0:f,f!==0&&f!==B.retryLane))throw B.retryLane=f,ul(r,f),ai(E,r,f),Lw;j.data==="$?"||fp(),a=K0(r,a,c)}else j.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=B.treeContext,Rt=Bi(j.nextSibling),zn=a,Ze=!0,Xa=null,os=!1,r!==null&&(yi[xi++]=Gs,yi[xi++]=Ws,yi[xi++]=Ya,Gs=r.id,Ws=r.overflow,Ya=a),a=Y0(a,f.children),a.flags|=4096);return a}return y?(Vr(),y=f.fallback,j=a.mode,B=r.child,K=B.sibling,f=$s(B,{mode:"hidden",children:f.children}),f.subtreeFlags=B.subtreeFlags&65011712,K!==null?y=$s(K,y):(y=Wa(y,j,c,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,j=r.child.memoizedState,j===null?j=G0(c):(B=j.cachePool,B!==null?(K=Xt._currentValue,B=B.parent!==K?{parent:K,pool:K}:B):B=M1(),j={baseLanes:j.baseLanes|c,cachePool:B}),y.memoizedState=j,y.childLanes=W0(r,E,c),a.memoizedState=$0,f):(Pr(a),c=r.child,r=c.sibling,c=$s(c,{mode:"visible",children:f.children}),c.return=a,c.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=c,a.memoizedState=null,c)}function Y0(r,a){return a=sf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function sf(r,a){return r=ti(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function K0(r,a,c){return wl(a,r.child,null,c),r=Y0(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Yw(r,a,c){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),f0(r.return,a,c)}function X0(r,a,c,f,y){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=y)}function Kw(r,a,c){var f=a.pendingProps,y=f.revealOrder,v=f.tail;if(vn(r,a,f.children,c),f=Qt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Yw(r,c,a);else if(r.tag===19)Yw(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(he(Qt,f),y){case"forwards":for(c=a.child,y=null;c!==null;)r=c.alternate,r!==null&&Jh(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),X0(a,!1,y,c,v);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(r=y.alternate,r!==null&&Jh(r)===null){a.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}X0(a,!0,c,null,v);break;case"together":X0(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zs(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),zr|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(Zc(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=$s(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=$s(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function Q0(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Vh(r)))}function a3(r,a,c){switch(a.tag){case 3:Nt(a,a.stateNode.containerInfo),Rr(a,Xt,r.memoizedState.cache),Xc();break;case 27:case 5:nn(a);break;case 4:Nt(a,a.stateNode.containerInfo);break;case 10:Rr(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Pr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Ww(r,a,c):(Pr(a),r=Zs(r,a,c),r!==null?r.sibling:null);Pr(a);break;case 19:var y=(r.flags&128)!==0;if(f=(c&a.childLanes)!==0,f||(Zc(r,a,c,!1),f=(c&a.childLanes)!==0),y){if(f)return Kw(r,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),he(Qt,Qt.current),f)break;return null;case 22:case 23:return a.lanes=0,zw(r,a,c);case 24:Rr(a,Xt,r.memoizedState.cache)}return Zs(r,a,c)}function Xw(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)on=!0;else{if(!Q0(r,c)&&(a.flags&128)===0)return on=!1,a3(r,a,c);on=(r.flags&131072)!==0}else on=!1,Ze&&(a.flags&1048576)!==0&&k1(a,Ph,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var f=a.elementType,y=f._init;if(f=y(f._payload),a.type=f,typeof f=="function")a0(f)?(r=no(f,r),a.tag=1,a=$w(null,a,f,r,c)):(a.tag=0,a=q0(null,a,f,r,c));else{if(f!=null){if(y=f.$$typeof,y===G){a.tag=11,a=Uw(null,a,f,r,c);break e}else if(y===V){a.tag=14,a=Bw(null,a,f,r,c);break e}}throw a=X(f)||f,Error(i(306,a,""))}}return a;case 0:return q0(r,a,a.type,a.pendingProps,c);case 1:return f=a.type,y=no(f,a.pendingProps),$w(r,a,f,y,c);case 3:e:{if(Nt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));f=a.pendingProps;var v=a.memoizedState;y=v.element,b0(r,a),ru(a,f,null,c);var E=a.memoizedState;if(f=E.cache,Rr(a,Xt,f),f!==v.cache&&m0(a,[Xt],c,!0),su(),f=E.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=Gw(r,a,f,c);break e}else if(f!==y){y=gi(Error(i(424)),a),Qc(y),a=Gw(r,a,f,c);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Rt=Bi(r.firstChild),zn=a,Ze=!0,Xa=null,os=!0,c=Nw(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Xc(),f===y){a=Zs(r,a,c);break e}vn(r,a,f,c)}a=a.child}return a;case 26:return nf(r,a),r===null?(c=e_(a.type,null,a.pendingProps,null))?a.memoizedState=c:Ze||(c=a.type,r=a.pendingProps,f=xf(Be.current).createElement(c),f[Ct]=a,f[vt]=r,wn(f,c,r),Re(f),a.stateNode=f):a.memoizedState=e_(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return nn(a),r===null&&Ze&&(f=a.stateNode=Q2(a.type,a.pendingProps,Be.current),zn=a,os=!0,y=Rt,Gr(a.type)?(Rp=y,Rt=Bi(f.firstChild)):Rt=y),vn(r,a,a.pendingProps.children,c),nf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Ze&&((y=f=Rt)&&(f=I3(f,a.type,a.pendingProps,os),f!==null?(a.stateNode=f,zn=a,Rt=Bi(f.firstChild),os=!1,y=!0):y=!1),y||Qa(a)),nn(a),y=a.type,v=a.pendingProps,E=r!==null?r.memoizedProps:null,f=v.children,Ap(y,v)?f=null:E!==null&&Ap(y,E)&&(a.flags|=32),a.memoizedState!==null&&(y=k0(r,a,Z4,null,null,c),Au._currentValue=y),nf(r,a),vn(r,a,f,c),a.child;case 6:return r===null&&Ze&&((r=c=Rt)&&(c=O3(c,a.pendingProps,os),c!==null?(a.stateNode=c,zn=a,Rt=null,r=!0):r=!1),r||Qa(a)),null;case 13:return Ww(r,a,c);case 4:return Nt(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=wl(a,null,f,c):vn(r,a,f,c),a.child;case 11:return Uw(r,a,a.type,a.pendingProps,c);case 7:return vn(r,a,a.pendingProps,c),a.child;case 8:return vn(r,a,a.pendingProps.children,c),a.child;case 12:return vn(r,a,a.pendingProps.children,c),a.child;case 10:return f=a.pendingProps,Rr(a,a.type,f.value),vn(r,a,f.children,c),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,Ja(a),y=jn(y),f=f(y),a.flags|=1,vn(r,a,f,c),a.child;case 14:return Bw(r,a,a.type,a.pendingProps,c);case 15:return Fw(r,a,a.type,a.pendingProps,c);case 19:return Kw(r,a,c);case 31:return f=a.pendingProps,c=a.mode,f={mode:f.mode,children:f.children},r===null?(c=sf(f,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=$s(r.child,f),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return zw(r,a,c);case 24:return Ja(a),f=jn(Xt),r===null?(y=y0(),y===null&&(y=mt,v=g0(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),a.memoizedState={parent:f,cache:y},v0(a),Rr(a,Xt,y)):((r.lanes&c)!==0&&(b0(r,a),ru(a,null,null,c),su()),y=r.memoizedState,v=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Rr(a,Xt,f)):(f=v.cache,Rr(a,Xt,f),f!==y.cache&&m0(a,[Xt],c,!0))),vn(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Js(r){r.flags|=4}function Qw(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!r_(a)){if(a=vi.current,a!==null&&((He&4194048)===He?ls!==null:(He&62914560)!==He&&(He&536870912)===0||a!==ls))throw nu=x0,I1;r.flags|=8192}}function rf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?kr():536870912,r.lanes|=a,El|=a)}function hu(r,a){if(!Ze)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Tt(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(a)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=c,a}function o3(r,a,c){var f=a.pendingProps;switch(u0(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(a),null;case 1:return Tt(a),null;case 3:return c=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Ks(Xt),ut(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Kc(a)?Js(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,j1())),Tt(a),null;case 26:return c=a.memoizedState,r===null?(Js(a),c!==null?(Tt(a),Qw(a,c)):(Tt(a),a.flags&=-16777217)):c?c!==r.memoizedState?(Js(a),Tt(a),Qw(a,c)):(Tt(a),a.flags&=-16777217):(r.memoizedProps!==f&&Js(a),Tt(a),a.flags&=-16777217),null;case 27:Wt(a),c=Be.current;var y=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==f&&Js(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Tt(a),null}r=ke.current,Kc(a)?A1(a):(r=Q2(y,f,c),a.stateNode=r,Js(a))}return Tt(a),null;case 5:if(Wt(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&Js(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return Tt(a),null}if(r=ke.current,Kc(a))A1(a);else{switch(y=xf(Be.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?y.createElement(c,{is:f.is}):y.createElement(c)}}r[Ct]=a,r[vt]=f;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=r;e:switch(wn(r,c,f),c){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Js(a)}}return Tt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&Js(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(r=Be.current,Kc(a)){if(r=a.stateNode,c=a.memoizedProps,f=null,y=zn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}r[Ct]=a,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||q2(r.nodeValue,c)),r||Qa(a)}else r=xf(r).createTextNode(f),r[Ct]=a,a.stateNode=r}return Tt(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Kc(a),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Ct]=a}else Xc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tt(a),y=!1}else y=j1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Qs(a),a):(Qs(a),null)}if(Qs(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=f!==null,r=r!==null&&r.memoizedState!==null,c){f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==y&&(f.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),rf(a,a.updateQueue),Tt(a),null;case 4:return ut(),r===null&&_p(a.stateNode.containerInfo),Tt(a),null;case 10:return Ks(a.type),Tt(a),null;case 19:if(xe(Qt),y=a.memoizedState,y===null)return Tt(a),null;if(f=(a.flags&128)!==0,v=y.rendering,v===null)if(f)hu(y,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(v=Jh(r),v!==null){for(a.flags|=128,hu(y,!1),r=v.updateQueue,a.updateQueue=r,rf(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)E1(c,r),c=c.sibling;return he(Qt,Qt.current&1|2),a.child}r=r.sibling}y.tail!==null&&fn()>lf&&(a.flags|=128,f=!0,hu(y,!1),a.lanes=4194304)}else{if(!f)if(r=Jh(v),r!==null){if(a.flags|=128,f=!0,r=r.updateQueue,a.updateQueue=r,rf(a,r),hu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!v.alternate&&!Ze)return Tt(a),null}else 2*fn()-y.renderingStartTime>lf&&c!==536870912&&(a.flags|=128,f=!0,hu(y,!1),a.lanes=4194304);y.isBackwards?(v.sibling=a.child,a.child=v):(r=y.last,r!==null?r.sibling=v:a.child=v,y.last=v)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=fn(),a.sibling=null,r=Qt.current,he(Qt,f?r&1|2:r&1),a):(Tt(a),null);case 22:case 23:return Qs(a),S0(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(c&536870912)!==0&&(a.flags&128)===0&&(Tt(a),a.subtreeFlags&6&&(a.flags|=8192)):Tt(a),c=a.updateQueue,c!==null&&rf(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==c&&(a.flags|=2048),r!==null&&xe(eo),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ks(Xt),Tt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function l3(r,a){switch(u0(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Ks(Xt),ut(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Wt(a),null;case 13:if(Qs(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Xc()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return xe(Qt),null;case 4:return ut(),null;case 10:return Ks(a.type),null;case 22:case 23:return Qs(a),S0(),r!==null&&xe(eo),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Ks(Xt),null;case 25:return null;default:return null}}function Zw(r,a){switch(u0(a),a.tag){case 3:Ks(Xt),ut();break;case 26:case 27:case 5:Wt(a);break;case 4:ut();break;case 13:Qs(a);break;case 19:xe(Qt);break;case 10:Ks(a.type);break;case 22:case 23:Qs(a),S0(),r!==null&&xe(eo);break;case 24:Ks(Xt)}}function fu(r,a){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){f=void 0;var v=c.create,E=c.inst;f=v(),E.destroy=f}c=c.next}while(c!==y)}}catch(j){ht(a,a.return,j)}}function Lr(r,a,c){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var v=y.next;f=v;do{if((f.tag&r)===r){var E=f.inst,j=E.destroy;if(j!==void 0){E.destroy=void 0,y=a;var B=c,K=j;try{K()}catch(ie){ht(y,B,ie)}}}f=f.next}while(f!==v)}}catch(ie){ht(a,a.return,ie)}}function Jw(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{B1(a,c)}catch(f){ht(r,r.return,f)}}}function e2(r,a,c){c.props=no(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){ht(r,a,f)}}function mu(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof c=="function"?r.refCleanup=c(f):c.current=f}}catch(y){ht(r,a,y)}}function cs(r,a){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){ht(r,a,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){ht(r,a,y)}else c.current=null}function t2(r){var a=r.type,c=r.memoizedProps,f=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){ht(r,r.return,y)}}function Z0(r,a,c){try{var f=r.stateNode;j3(f,r.type,c,a),f[vt]=a}catch(y){ht(r,r.return,y)}}function n2(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Gr(r.type)||r.tag===4}function J0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||n2(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Gr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ep(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=yf));else if(f!==4&&(f===27&&Gr(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(ep(r,a,c),r=r.sibling;r!==null;)ep(r,a,c),r=r.sibling}function af(r,a,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(f!==4&&(f===27&&Gr(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(af(r,a,c),r=r.sibling;r!==null;)af(r,a,c),r=r.sibling}function i2(r){var a=r.stateNode,c=r.memoizedProps;try{for(var f=r.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);wn(a,f,c),a[Ct]=r,a[vt]=c}catch(v){ht(r,r.return,v)}}var er=!1,Ot=!1,tp=!1,s2=typeof WeakSet=="function"?WeakSet:Set,ln=null;function c3(r,a){if(r=r.containerInfo,Ep=Sf,r=g1(r),Jg(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var E=0,j=-1,B=-1,K=0,ie=0,ae=r,Z=null;t:for(;;){for(var ee;ae!==c||y!==0&&ae.nodeType!==3||(j=E+y),ae!==v||f!==0&&ae.nodeType!==3||(B=E+f),ae.nodeType===3&&(E+=ae.nodeValue.length),(ee=ae.firstChild)!==null;)Z=ae,ae=ee;for(;;){if(ae===r)break t;if(Z===c&&++K===y&&(j=E),Z===v&&++ie===f&&(B=E),(ee=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=ee}c=j===-1||B===-1?null:{start:j,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(kp={focusedElem:r,selectionRange:c},Sf=!1,ln=a;ln!==null;)if(a=ln,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,ln=r;else for(;ln!==null;){switch(a=ln,v=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=a,y=v.memoizedProps,v=v.memoizedState,f=c.stateNode;try{var Se=no(c.type,y,c.elementType===c.type);r=f.getSnapshotBeforeUpdate(Se,v),f.__reactInternalSnapshotBeforeUpdate=r}catch(we){ht(c,c.return,we)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)jp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":jp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,ln=r;break}ln=a.return}}function r2(r,a,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ur(r,c),f&4&&fu(5,c);break;case 1:if(Ur(r,c),f&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(E){ht(c,c.return,E)}else{var y=no(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(y,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ht(c,c.return,E)}}f&64&&Jw(c),f&512&&mu(c,c.return);break;case 3:if(Ur(r,c),f&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{B1(r,a)}catch(E){ht(c,c.return,E)}}break;case 27:a===null&&f&4&&i2(c);case 26:case 5:Ur(r,c),a===null&&f&4&&t2(c),f&512&&mu(c,c.return);break;case 12:Ur(r,c);break;case 13:Ur(r,c),f&4&&l2(r,c),f&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=x3.bind(null,c),P3(r,c))));break;case 22:if(f=c.memoizedState!==null||er,!f){a=a!==null&&a.memoizedState!==null||Ot,y=er;var v=Ot;er=f,(Ot=a)&&!v?Br(r,c,(c.subtreeFlags&8772)!==0):Ur(r,c),er=y,Ot=v}break;case 30:break;default:Ur(r,c)}}function a2(r){var a=r.alternate;a!==null&&(r.alternate=null,a2(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ii(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var bt=null,Gn=!1;function tr(r,a,c){for(c=c.child;c!==null;)o2(r,a,c),c=c.sibling}function o2(r,a,c){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(xt,c)}catch{}switch(c.tag){case 26:Ot||cs(c,a),tr(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ot||cs(c,a);var f=bt,y=Gn;Gr(c.type)&&(bt=c.stateNode,Gn=!1),tr(r,a,c),Tu(c.stateNode),bt=f,Gn=y;break;case 5:Ot||cs(c,a);case 6:if(f=bt,y=Gn,bt=null,tr(r,a,c),bt=f,Gn=y,bt!==null)if(Gn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(c.stateNode)}catch(v){ht(c,a,v)}else try{bt.removeChild(c.stateNode)}catch(v){ht(c,a,v)}break;case 18:bt!==null&&(Gn?(r=bt,K2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Ru(r)):K2(bt,c.stateNode));break;case 4:f=bt,y=Gn,bt=c.stateNode.containerInfo,Gn=!0,tr(r,a,c),bt=f,Gn=y;break;case 0:case 11:case 14:case 15:Ot||Lr(2,c,a),Ot||Lr(4,c,a),tr(r,a,c);break;case 1:Ot||(cs(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"&&e2(c,a,f)),tr(r,a,c);break;case 21:tr(r,a,c);break;case 22:Ot=(f=Ot)||c.memoizedState!==null,tr(r,a,c),Ot=f;break;default:tr(r,a,c)}}function l2(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ru(r)}catch(c){ht(a,a.return,c)}}function u3(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new s2),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new s2),a;default:throw Error(i(435,r.tag))}}function np(r,a){var c=u3(r);a.forEach(function(f){var y=v3.bind(null,r,f);c.has(f)||(c.add(f),f.then(y,y))})}function ni(r,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],v=r,E=a,j=E;e:for(;j!==null;){switch(j.tag){case 27:if(Gr(j.type)){bt=j.stateNode,Gn=!1;break e}break;case 5:bt=j.stateNode,Gn=!1;break e;case 3:case 4:bt=j.stateNode.containerInfo,Gn=!0;break e}j=j.return}if(bt===null)throw Error(i(160));o2(v,E,y),bt=null,Gn=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)c2(a,r),a=a.sibling}var Ui=null;function c2(r,a){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ni(a,r),ii(r),f&4&&(Lr(3,r,r.return),fu(3,r),Lr(5,r,r.return));break;case 1:ni(a,r),ii(r),f&512&&(Ot||c===null||cs(c,c.return)),f&64&&er&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=Ui;if(ni(a,r),ii(r),f&512&&(Ot||c===null||cs(c,c.return)),f&4){var v=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){e:{f=r.type,c=r.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Mi]||v[Ct]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(f),y.head.insertBefore(v,y.querySelector("head > title"))),wn(v,f,c),v[Ct]=r,Re(v),f=v;break e;case"link":var E=i_("link","href",y).get(f+(c.href||""));if(E){for(var j=0;j<E.length;j++)if(v=E[j],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(j,1);break t}}v=y.createElement(f),wn(v,f,c),y.head.appendChild(v);break;case"meta":if(E=i_("meta","content",y).get(f+(c.content||""))){for(j=0;j<E.length;j++)if(v=E[j],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(j,1);break t}}v=y.createElement(f),wn(v,f,c),y.head.appendChild(v);break;default:throw Error(i(468,f))}v[Ct]=r,Re(v),f=v}r.stateNode=f}else s_(y,r.type,r.stateNode);else r.stateNode=n_(y,f,r.memoizedProps);else v!==f?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,f===null?s_(y,r.type,r.stateNode):n_(y,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Z0(r,r.memoizedProps,c.memoizedProps)}break;case 27:ni(a,r),ii(r),f&512&&(Ot||c===null||cs(c,c.return)),c!==null&&f&4&&Z0(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ni(a,r),ii(r),f&512&&(Ot||c===null||cs(c,c.return)),r.flags&32){y=r.stateNode;try{di(y,"")}catch(ee){ht(r,r.return,ee)}}f&4&&r.stateNode!=null&&(y=r.memoizedProps,Z0(r,y,c!==null?c.memoizedProps:y)),f&1024&&(tp=!0);break;case 6:if(ni(a,r),ii(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(ee){ht(r,r.return,ee)}}break;case 3:if(wf=null,y=Ui,Ui=vf(a.containerInfo),ni(a,r),Ui=y,ii(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ru(a.containerInfo)}catch(ee){ht(r,r.return,ee)}tp&&(tp=!1,u2(r));break;case 4:f=Ui,Ui=vf(r.stateNode.containerInfo),ni(a,r),ii(r),Ui=f;break;case 12:ni(a,r),ii(r);break;case 13:ni(a,r),ii(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(lp=fn()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,np(r,f)));break;case 22:y=r.memoizedState!==null;var B=c!==null&&c.memoizedState!==null,K=er,ie=Ot;if(er=K||y,Ot=ie||B,ni(a,r),Ot=ie,er=K,ii(r),f&8192)e:for(a=r.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(c===null||B||er||Ot||io(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){B=c=a;try{if(v=B.stateNode,y)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{j=B.stateNode;var ae=B.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;j.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ee){ht(B,B.return,ee)}}}else if(a.tag===6){if(c===null){B=a;try{B.stateNode.nodeValue=y?"":B.memoizedProps}catch(ee){ht(B,B.return,ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,np(r,c))));break;case 19:ni(a,r),ii(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,np(r,f)));break;case 30:break;case 21:break;default:ni(a,r),ii(r)}}function ii(r){var a=r.flags;if(a&2){try{for(var c,f=r.return;f!==null;){if(n2(f)){c=f;break}f=f.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var y=c.stateNode,v=J0(r);af(r,v,y);break;case 5:var E=c.stateNode;c.flags&32&&(di(E,""),c.flags&=-33);var j=J0(r);af(r,j,E);break;case 3:case 4:var B=c.stateNode.containerInfo,K=J0(r);ep(r,K,B);break;default:throw Error(i(161))}}catch(ie){ht(r,r.return,ie)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function u2(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;u2(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ur(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)r2(r,a.alternate,a),a=a.sibling}function io(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Lr(4,a,a.return),io(a);break;case 1:cs(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&e2(a,a.return,c),io(a);break;case 27:Tu(a.stateNode);case 26:case 5:cs(a,a.return),io(a);break;case 22:a.memoizedState===null&&io(a);break;case 30:io(a);break;default:io(a)}r=r.sibling}}function Br(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=r,v=a,E=v.flags;switch(v.tag){case 0:case 11:case 15:Br(y,v,c),fu(4,v);break;case 1:if(Br(y,v,c),f=v,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(K){ht(f,f.return,K)}if(f=v,y=f.updateQueue,y!==null){var j=f.stateNode;try{var B=y.shared.hiddenCallbacks;if(B!==null)for(y.shared.hiddenCallbacks=null,y=0;y<B.length;y++)U1(B[y],j)}catch(K){ht(f,f.return,K)}}c&&E&64&&Jw(v),mu(v,v.return);break;case 27:i2(v);case 26:case 5:Br(y,v,c),c&&f===null&&E&4&&t2(v),mu(v,v.return);break;case 12:Br(y,v,c);break;case 13:Br(y,v,c),c&&E&4&&l2(y,v);break;case 22:v.memoizedState===null&&Br(y,v,c),mu(v,v.return);break;case 30:break;default:Br(y,v,c)}a=a.sibling}}function ip(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Jc(c))}function sp(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Jc(r))}function us(r,a,c,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)d2(r,a,c,f),a=a.sibling}function d2(r,a,c,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:us(r,a,c,f),y&2048&&fu(9,a);break;case 1:us(r,a,c,f);break;case 3:us(r,a,c,f),y&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Jc(r)));break;case 12:if(y&2048){us(r,a,c,f),r=a.stateNode;try{var v=a.memoizedProps,E=v.id,j=v.onPostCommit;typeof j=="function"&&j(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){ht(a,a.return,B)}}else us(r,a,c,f);break;case 13:us(r,a,c,f);break;case 23:break;case 22:v=a.stateNode,E=a.alternate,a.memoizedState!==null?v._visibility&2?us(r,a,c,f):gu(r,a):v._visibility&2?us(r,a,c,f):(v._visibility|=2,_l(r,a,c,f,(a.subtreeFlags&10256)!==0)),y&2048&&ip(E,a);break;case 24:us(r,a,c,f),y&2048&&sp(a.alternate,a);break;default:us(r,a,c,f)}}function _l(r,a,c,f,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=r,E=a,j=c,B=f,K=E.flags;switch(E.tag){case 0:case 11:case 15:_l(v,E,j,B,y),fu(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?_l(v,E,j,B,y):gu(v,E):(ie._visibility|=2,_l(v,E,j,B,y)),y&&K&2048&&ip(E.alternate,E);break;case 24:_l(v,E,j,B,y),y&&K&2048&&sp(E.alternate,E);break;default:_l(v,E,j,B,y)}a=a.sibling}}function gu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,f=a,y=f.flags;switch(f.tag){case 22:gu(c,f),y&2048&&ip(f.alternate,f);break;case 24:gu(c,f),y&2048&&sp(f.alternate,f);break;default:gu(c,f)}a=a.sibling}}var pu=8192;function Tl(r){if(r.subtreeFlags&pu)for(r=r.child;r!==null;)h2(r),r=r.sibling}function h2(r){switch(r.tag){case 26:Tl(r),r.flags&pu&&r.memoizedState!==null&&K3(Ui,r.memoizedState,r.memoizedProps);break;case 5:Tl(r);break;case 3:case 4:var a=Ui;Ui=vf(r.stateNode.containerInfo),Tl(r),Ui=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=pu,pu=16777216,Tl(r),pu=a):Tl(r));break;default:Tl(r)}}function f2(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function yu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];ln=f,g2(f,r)}f2(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m2(r),r=r.sibling}function m2(r){switch(r.tag){case 0:case 11:case 15:yu(r),r.flags&2048&&Lr(9,r,r.return);break;case 3:yu(r);break;case 12:yu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,of(r)):yu(r);break;default:yu(r)}}function of(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];ln=f,g2(f,r)}f2(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Lr(8,a,a.return),of(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,of(a));break;default:of(a)}r=r.sibling}}function g2(r,a){for(;ln!==null;){var c=ln;switch(c.tag){case 0:case 11:case 15:Lr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Jc(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,ln=f;else e:for(c=r;ln!==null;){f=ln;var y=f.sibling,v=f.return;if(a2(f),f===c){ln=null;break e}if(y!==null){y.return=v,ln=y;break e}ln=v}}}var d3={getCacheForType:function(r){var a=jn(Xt),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},h3=typeof WeakMap=="function"?WeakMap:Map,it=0,mt=null,Oe=null,He=0,st=0,si=null,Fr=!1,Sl=!1,rp=!1,nr=0,Dt=0,zr=0,so=0,ap=0,bi=0,El=0,xu=null,Wn=null,op=!1,lp=0,lf=1/0,cf=null,Hr=null,bn=0,qr=null,kl=null,Al=0,cp=0,up=null,p2=null,vu=0,dp=null;function ri(){if((it&2)!==0&&He!==0)return He&-He;if(z.T!==null){var r=ml;return r!==0?r:xp()}return Zi()}function y2(){bi===0&&(bi=(He&536870912)===0||Ze?Ca():536870912);var r=vi.current;return r!==null&&(r.flags|=32),bi}function ai(r,a,c){(r===mt&&(st===2||st===9)||r.cancelPendingCommit!==null)&&(Nl(r,0),$r(r,He,bi,!1)),li(r,c),((it&2)===0||r!==mt)&&(r===mt&&((it&2)===0&&(so|=c),Dt===4&&$r(r,He,bi,!1)),ds(r))}function x2(r,a,c){if((it&6)!==0)throw Error(i(327));var f=!c&&(a&124)===0&&(a&r.expiredLanes)===0||Xi(r,a),y=f?g3(r,a):mp(r,a,!0),v=f;do{if(y===0){Sl&&!f&&$r(r,a,0,!1);break}else{if(c=r.current.alternate,v&&!f3(c)){y=mp(r,a,!1),v=!1;continue}if(y===2){if(v=a,r.errorRecoveryDisabledLanes&v)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var j=r;y=xu;var B=j.current.memoizedState.isDehydrated;if(B&&(Nl(j,E).flags|=256),E=mp(j,E,!1),E!==2){if(rp&&!B){j.errorRecoveryDisabledLanes|=v,so|=v,y=4;break e}v=Wn,Wn=y,v!==null&&(Wn===null?Wn=v:Wn.push.apply(Wn,v))}y=E}if(v=!1,y!==2)continue}}if(y===1){Nl(r,0),$r(r,a,0,!0);break}e:{switch(f=r,v=y,v){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:$r(f,a,bi,!Fr);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=lp+300-fn(),10<y)){if($r(f,a,bi,!Fr),Is(f,0,!0)!==0)break e;f.timeoutHandle=W2(v2.bind(null,f,c,Wn,cf,op,a,bi,so,El,Fr,v,2,-0,0),y);break e}v2(f,c,Wn,cf,op,a,bi,so,El,Fr,v,0,-0,0)}}break}while(!0);ds(r)}function v2(r,a,c,f,y,v,E,j,B,K,ie,ae,Z,ee){if(r.timeoutHandle=-1,ae=a.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(ku={stylesheets:null,count:0,unsuspend:Y3},h2(a),ae=X3(),ae!==null)){r.cancelPendingCommit=ae(k2.bind(null,r,a,v,c,f,y,E,j,B,ie,1,Z,ee)),$r(r,v,E,!K);return}k2(r,a,v,c,f,y,E,j,B)}function f3(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],v=y.getSnapshot;y=y.value;try{if(!ei(v(),y))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $r(r,a,c,f){a&=~ap,a&=~so,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var y=a;0<y;){var v=31-Ut(y),E=1<<v;f[v]=-1,y&=~E}c!==0&&gt(r,c,a)}function uf(){return(it&6)===0?(bu(0),!1):!0}function hp(){if(Oe!==null){if(st===0)var r=Oe.return;else r=Oe,Ys=Za=null,j0(r),bl=null,uu=0,r=Oe;for(;r!==null;)Zw(r.alternate,r),r=r.return;Oe=null}}function Nl(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,R3(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),hp(),mt=r,Oe=c=$s(r.current,null),He=a,st=0,si=null,Fr=!1,Sl=Xi(r,a),rp=!1,El=bi=ap=so=zr=Dt=0,Wn=xu=null,op=!1,(a&8)!==0&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var y=31-Ut(f),v=1<<y;a|=r[y],f&=~v}return nr=a,Rh(),c}function b2(r,a){De=null,z.H=Xh,a===tu||a===Bh?(a=V1(),st=3):a===I1?(a=V1(),st=4):st=a===Lw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,si=a,Oe===null&&(Dt=1,tf(r,gi(a,r.current)))}function w2(){var r=z.H;return z.H=Xh,r===null?Xh:r}function _2(){var r=z.A;return z.A=d3,r}function fp(){Dt=4,Fr||(He&4194048)!==He&&vi.current!==null||(Sl=!0),(zr&134217727)===0&&(so&134217727)===0||mt===null||$r(mt,He,bi,!1)}function mp(r,a,c){var f=it;it|=2;var y=w2(),v=_2();(mt!==r||He!==a)&&(cf=null,Nl(r,a)),a=!1;var E=Dt;e:do try{if(st!==0&&Oe!==null){var j=Oe,B=si;switch(st){case 8:hp(),E=6;break e;case 3:case 2:case 9:case 6:vi.current===null&&(a=!0);var K=st;if(st=0,si=null,jl(r,j,B,K),c&&Sl){E=0;break e}break;default:K=st,st=0,si=null,jl(r,j,B,K)}}m3(),E=Dt;break}catch(ie){b2(r,ie)}while(!0);return a&&r.shellSuspendCounter++,Ys=Za=null,it=f,z.H=y,z.A=v,Oe===null&&(mt=null,He=0,Rh()),E}function m3(){for(;Oe!==null;)T2(Oe)}function g3(r,a){var c=it;it|=2;var f=w2(),y=_2();mt!==r||He!==a?(cf=null,lf=fn()+500,Nl(r,a)):Sl=Xi(r,a);e:do try{if(st!==0&&Oe!==null){a=Oe;var v=si;t:switch(st){case 1:st=0,si=null,jl(r,a,v,1);break;case 2:case 9:if(O1(v)){st=0,si=null,S2(a);break}a=function(){st!==2&&st!==9||mt!==r||(st=7),ds(r)},v.then(a,a);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:O1(v)?(st=0,si=null,S2(a)):(st=0,si=null,jl(r,a,v,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var j=Oe;if(!E||r_(E)){st=0,si=null;var B=j.sibling;if(B!==null)Oe=B;else{var K=j.return;K!==null?(Oe=K,df(K)):Oe=null}break t}}st=0,si=null,jl(r,a,v,5);break;case 6:st=0,si=null,jl(r,a,v,6);break;case 8:hp(),Dt=6;break e;default:throw Error(i(462))}}p3();break}catch(ie){b2(r,ie)}while(!0);return Ys=Za=null,z.H=f,z.A=y,it=c,Oe!==null?0:(mt=null,He=0,Rh(),Dt)}function p3(){for(;Oe!==null&&!Nn();)T2(Oe)}function T2(r){var a=Xw(r.alternate,r,nr);r.memoizedProps=r.pendingProps,a===null?df(r):Oe=a}function S2(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=qw(c,a,a.pendingProps,a.type,void 0,He);break;case 11:a=qw(c,a,a.pendingProps,a.type.render,a.ref,He);break;case 5:j0(a);default:Zw(c,a),a=Oe=E1(a,nr),a=Xw(c,a,nr)}r.memoizedProps=r.pendingProps,a===null?df(r):Oe=a}function jl(r,a,c,f){Ys=Za=null,j0(a),bl=null,uu=0;var y=a.return;try{if(r3(r,y,a,c,He)){Dt=1,tf(r,gi(c,r.current)),Oe=null;return}}catch(v){if(y!==null)throw Oe=y,v;Dt=1,tf(r,gi(c,r.current)),Oe=null;return}a.flags&32768?(Ze||f===1?r=!0:Sl||(He&536870912)!==0?r=!1:(Fr=r=!0,(f===2||f===9||f===3||f===6)&&(f=vi.current,f!==null&&f.tag===13&&(f.flags|=16384))),E2(a,r)):df(a)}function df(r){var a=r;do{if((a.flags&32768)!==0){E2(a,Fr);return}r=a.return;var c=o3(a.alternate,a,nr);if(c!==null){Oe=c;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=r}while(a!==null);Dt===0&&(Dt=5)}function E2(r,a){do{var c=l3(r.alternate,r);if(c!==null){c.flags&=32767,Oe=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){Oe=r;return}Oe=r=c}while(r!==null);Dt=6,Oe=null}function k2(r,a,c,f,y,v,E,j,B){r.cancelPendingCommit=null;do hf();while(bn!==0);if((it&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(v=a.lanes|a.childLanes,v|=s0,Bt(r,c,v,E,j,B),r===mt&&(Oe=mt=null,He=0),kl=a,qr=r,Al=c,cp=v,up=y,p2=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,b3(Rs,function(){return R2(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=z.T,z.T=null,y=$.p,$.p=2,E=it,it|=4;try{c3(r,a,c)}finally{it=E,$.p=y,z.T=f}}bn=1,A2(),N2(),j2()}}function A2(){if(bn===1){bn=0;var r=qr,a=kl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var f=$.p;$.p=2;var y=it;it|=4;try{c2(a,r);var v=kp,E=g1(r.containerInfo),j=v.focusedElem,B=v.selectionRange;if(E!==j&&j&&j.ownerDocument&&m1(j.ownerDocument.documentElement,j)){if(B!==null&&Jg(j)){var K=B.start,ie=B.end;if(ie===void 0&&(ie=K),"selectionStart"in j)j.selectionStart=K,j.selectionEnd=Math.min(ie,j.value.length);else{var ae=j.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),Se=j.textContent.length,we=Math.min(B.start,Se),ct=B.end===void 0?we:Math.min(B.end,Se);!ee.extend&&we>ct&&(E=ct,ct=we,we=E);var q=f1(j,we),H=f1(j,ct);if(q&&H&&(ee.rangeCount!==1||ee.anchorNode!==q.node||ee.anchorOffset!==q.offset||ee.focusNode!==H.node||ee.focusOffset!==H.offset)){var Y=ae.createRange();Y.setStart(q.node,q.offset),ee.removeAllRanges(),we>ct?(ee.addRange(Y),ee.extend(H.node,H.offset)):(Y.setEnd(H.node,H.offset),ee.addRange(Y))}}}}for(ae=[],ee=j;ee=ee.parentNode;)ee.nodeType===1&&ae.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ae.length;j++){var re=ae[j];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Sf=!!Ep,kp=Ep=null}finally{it=y,$.p=f,z.T=c}}r.current=a,bn=2}}function N2(){if(bn===2){bn=0;var r=qr,a=kl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var f=$.p;$.p=2;var y=it;it|=4;try{r2(r,a.alternate,a)}finally{it=y,$.p=f,z.T=c}}bn=3}}function j2(){if(bn===4||bn===3){bn=0,hn();var r=qr,a=kl,c=Al,f=p2;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bn=5:(bn=0,kl=qr=null,C2(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Hr=null),mn(c),a=a.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(xt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=z.T,y=$.p,$.p=2,z.T=null;try{for(var v=r.onRecoverableError,E=0;E<f.length;E++){var j=f[E];v(j.value,{componentStack:j.stack})}}finally{z.T=a,$.p=y}}(Al&3)!==0&&hf(),ds(r),y=r.pendingLanes,(c&4194090)!==0&&(y&42)!==0?r===dp?vu++:(vu=0,dp=r):vu=0,bu(0)}}function C2(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Jc(a)))}function hf(r){return A2(),N2(),j2(),R2()}function R2(){if(bn!==5)return!1;var r=qr,a=cp;cp=0;var c=mn(Al),f=z.T,y=$.p;try{$.p=32>c?32:c,z.T=null,c=up,up=null;var v=qr,E=Al;if(bn=0,kl=qr=null,Al=0,(it&6)!==0)throw Error(i(331));var j=it;if(it|=4,m2(v.current),d2(v,v.current,E,c),it=j,bu(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(xt,v)}catch{}return!0}finally{$.p=y,z.T=f,C2(r,a)}}function D2(r,a,c){a=gi(c,a),a=H0(r.stateNode,a,2),r=Ir(r,a,2),r!==null&&(li(r,2),ds(r))}function ht(r,a,c){if(r.tag===3)D2(r,r,c);else for(;a!==null;){if(a.tag===3){D2(a,r,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Hr===null||!Hr.has(f))){r=gi(c,r),c=Pw(2),f=Ir(a,c,2),f!==null&&(Vw(c,f,a,r),li(f,2),ds(f));break}}a=a.return}}function gp(r,a,c){var f=r.pingCache;if(f===null){f=r.pingCache=new h3;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(c)||(rp=!0,y.add(c),r=y3.bind(null,r,a,c),a.then(r,r))}function y3(r,a,c){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,mt===r&&(He&c)===c&&(Dt===4||Dt===3&&(He&62914560)===He&&300>fn()-lp?(it&2)===0&&Nl(r,0):ap|=c,El===He&&(El=0)),ds(r)}function M2(r,a){a===0&&(a=kr()),r=ul(r,a),r!==null&&(li(r,a),ds(r))}function x3(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),M2(r,c)}function v3(r,a){var c=0;switch(r.tag){case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),M2(r,c)}function b3(r,a){return jt(r,a)}var ff=null,Cl=null,pp=!1,mf=!1,yp=!1,ro=0;function ds(r){r!==Cl&&r.next===null&&(Cl===null?ff=Cl=r:Cl=Cl.next=r),mf=!0,pp||(pp=!0,_3())}function bu(r,a){if(!yp&&mf){yp=!0;do for(var c=!1,f=ff;f!==null;){if(r!==0){var y=f.pendingLanes;if(y===0)var v=0;else{var E=f.suspendedLanes,j=f.pingedLanes;v=(1<<31-Ut(42|r)+1)-1,v&=y&~(E&~j),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,V2(f,v))}else v=He,v=Is(f,f===mt?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Xi(f,v)||(c=!0,V2(f,v));f=f.next}while(c);yp=!1}}function w3(){I2()}function I2(){mf=pp=!1;var r=0;ro!==0&&(C3()&&(r=ro),ro=0);for(var a=fn(),c=null,f=ff;f!==null;){var y=f.next,v=O2(f,a);v===0?(f.next=null,c===null?ff=y:c.next=y,y===null&&(Cl=c)):(c=f,(r!==0||(v&3)!==0)&&(mf=!0)),f=y}bu(r)}function O2(r,a){for(var c=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var E=31-Ut(v),j=1<<E,B=y[E];B===-1?((j&c)===0||(j&f)!==0)&&(y[E]=Os(j,a)):B<=a&&(r.expiredLanes|=j),v&=~j}if(a=mt,c=He,c=Is(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,c===0||r===a&&(st===2||st===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Ge(f),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Xi(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(f!==null&&Ge(f),mn(c)){case 2:case 8:c=Er;break;case 32:c=Rs;break;case 268435456:c=Ds;break;default:c=Rs}return f=P2.bind(null,r),c=jt(c,f),r.callbackPriority=a,r.callbackNode=c,a}return f!==null&&f!==null&&Ge(f),r.callbackPriority=2,r.callbackNode=null,2}function P2(r,a){if(bn!==0&&bn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(hf()&&r.callbackNode!==c)return null;var f=He;return f=Is(r,r===mt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(x2(r,f,a),O2(r,fn()),r.callbackNode!=null&&r.callbackNode===c?P2.bind(null,r):null)}function V2(r,a){if(hf())return null;x2(r,a,!0)}function _3(){D3(function(){(it&6)!==0?jt(Sr,w3):I2()})}function xp(){return ro===0&&(ro=Ca()),ro}function L2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Zo(""+r)}function U2(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function T3(r,a,c,f,y){if(a==="submit"&&c&&c.stateNode===y){var v=L2((y[vt]||null).action),E=f.submitter;E&&(a=(a=E[vt]||null)?L2(a.formAction):E.getAttribute("formAction"),a!==null&&(v=a,E=null));var j=new Jo("action","action",null,f,y);r.push({event:j,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ro!==0){var B=E?U2(y,E):new FormData(y);L0(c,{pending:!0,data:B,method:y.method,action:v},null,B)}}else typeof v=="function"&&(j.preventDefault(),B=E?U2(y,E):new FormData(y),L0(c,{pending:!0,data:B,method:y.method,action:v},v,B))},currentTarget:y}]})}}for(var vp=0;vp<i0.length;vp++){var bp=i0[vp],S3=bp.toLowerCase(),E3=bp[0].toUpperCase()+bp.slice(1);Li(S3,"on"+E3)}Li(x1,"onAnimationEnd"),Li(v1,"onAnimationIteration"),Li(b1,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(z4,"onTransitionRun"),Li(H4,"onTransitionStart"),Li(q4,"onTransitionCancel"),Li(w1,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function B2(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],y=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var E=f.length-1;0<=E;E--){var j=f[E],B=j.instance,K=j.currentTarget;if(j=j.listener,B!==v&&y.isPropagationStopped())break e;v=j,y.currentTarget=K;try{v(y)}catch(ie){ef(ie)}y.currentTarget=null,v=B}else for(E=0;E<f.length;E++){if(j=f[E],B=j.instance,K=j.currentTarget,j=j.listener,B!==v&&y.isPropagationStopped())break e;v=j,y.currentTarget=K;try{v(y)}catch(ie){ef(ie)}y.currentTarget=null,v=B}}}}function Pe(r,a){var c=a[Ps];c===void 0&&(c=a[Ps]=new Set);var f=r+"__bubble";c.has(f)||(F2(a,r,2,!1),c.add(f))}function wp(r,a,c){var f=0;a&&(f|=4),F2(c,r,f,a)}var gf="_reactListening"+Math.random().toString(36).slice(2);function _p(r){if(!r[gf]){r[gf]=!0,pn.forEach(function(c){c!=="selectionchange"&&(k3.has(c)||wp(c,!1,r),wp(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[gf]||(a[gf]=!0,wp("selectionchange",!1,a))}}function F2(r,a,c,f){switch(d_(a)){case 2:var y=J3;break;case 8:y=eR;break;default:y=Pp}c=y.bind(null,a,c,r),y=void 0,!fi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(a,c,{capture:!0,passive:y}):r.addEventListener(a,c,!0):y!==void 0?r.addEventListener(a,c,{passive:y}):r.addEventListener(a,c,!1)}function Tp(r,a,c,f,y){var v=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var j=f.stateNode.containerInfo;if(j===y)break;if(E===4)for(E=f.return;E!==null;){var B=E.tag;if((B===3||B===4)&&E.stateNode.containerInfo===y)return;E=E.return}for(;j!==null;){if(E=Oi(j),E===null)return;if(B=E.tag,B===5||B===6||B===26||B===27){f=v=E;continue e}j=j.parentNode}}f=f.return}ph(function(){var K=v,ie=hi(c),ae=[];e:{var Z=_1.get(r);if(Z!==void 0){var ee=Jo,Se=r;switch(r){case"keypress":if(ns(c)===0)break e;case"keydown":case"keyup":ee=rl;break;case"focusin":Se="focus",ee=nl;break;case"focusout":Se="blur",ee=nl;break;case"beforeblur":case"afterblur":ee=nl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Kg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Sh;break;case x1:case v1:case b1:ee=il;break;case w1:ee=kh;break;case"scroll":case"scrollend":ee=yh;break;case"wheel":ee=al;break;case"copy":case"cut":case"paste":ee=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=$c;break;case"toggle":case"beforetoggle":ee=Nh}var we=(a&4)!==0,ct=!we&&(r==="scroll"||r==="scrollend"),q=we?Z!==null?Z+"Capture":null:Z;we=[];for(var H=K,Y;H!==null;){var re=H;if(Y=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Y===null||q===null||(re=La(H,q),re!=null&&we.push(_u(H,re,Y))),ct)break;H=H.return}0<we.length&&(Z=new ee(Z,Se,null,c,ie),ae.push({event:Z,listeners:we}))}}if((a&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",Z&&c!==Us&&(Se=c.relatedTarget||c.fromElement)&&(Oi(Se)||Se[gn]))break e;if((ee||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(Se=c.relatedTarget||c.toElement,ee=K,Se=Se?Oi(Se):null,Se!==null&&(ct=o(Se),we=Se.tag,Se!==ct||we!==5&&we!==27&&we!==6)&&(Se=null)):(ee=null,Se=K),ee!==Se)){if(we=mi,re="onMouseLeave",q="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(we=$c,re="onPointerLeave",q="onPointerEnter",H="pointer"),ct=ee==null?Z:Ae(ee),Y=Se==null?Z:Ae(Se),Z=new we(re,H+"leave",ee,c,ie),Z.target=ct,Z.relatedTarget=Y,re=null,Oi(ie)===K&&(we=new we(q,H+"enter",Se,c,ie),we.target=Y,we.relatedTarget=ct,re=we),ct=re,ee&&Se)t:{for(we=ee,q=Se,H=0,Y=we;Y;Y=Rl(Y))H++;for(Y=0,re=q;re;re=Rl(re))Y++;for(;0<H-Y;)we=Rl(we),H--;for(;0<Y-H;)q=Rl(q),Y--;for(;H--;){if(we===q||q!==null&&we===q.alternate)break t;we=Rl(we),q=Rl(q)}we=null}else we=null;ee!==null&&z2(ae,Z,ee,we,!1),Se!==null&&ct!==null&&z2(ae,ct,Se,we,!0)}}e:{if(Z=K?Ae(K):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var ge=o1;else if(Kt(Z))if(l1)ge=U4;else{ge=V4;var Ie=P4}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&Lc(K.elementType)&&(ge=o1):ge=L4;if(ge&&(ge=ge(r,K))){qs(ae,ge,c,ie);break e}Ie&&Ie(r,Z,K),r==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&jr(Z,"number",Z.value)}switch(Ie=K?Ae(K):window,r){case"focusin":(Kt(Ie)||Ie.contentEditable==="true")&&(ol=Ie,e0=K,Yc=null);break;case"focusout":Yc=e0=ol=null;break;case"mousedown":t0=!0;break;case"contextmenu":case"mouseup":case"dragend":t0=!1,p1(ae,c,ie);break;case"selectionchange":if(F4)break;case"keydown":case"keyup":p1(ae,c,ie)}var pe;if(rs)e:{switch(r){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Fe?ne(r,c)&&(_e="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(_e="onCompositionStart");_e&&(T&&c.locale!=="ko"&&(Fe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Fe&&(pe=Bc()):(ts=ie,Cr="value"in ts?ts.value:ts.textContent,Fe=!0)),Ie=pf(K,_e),0<Ie.length&&(_e=new Hc(_e,r,null,c,ie),ae.push({event:_e,listeners:Ie}),pe?_e.data=pe:(pe=de(c),pe!==null&&(_e.data=pe)))),(pe=w?Yt(r,c):ze(r,c))&&(_e=pf(K,"onBeforeInput"),0<_e.length&&(Ie=new Hc("onBeforeInput","beforeinput",null,c,ie),ae.push({event:Ie,listeners:_e}),Ie.data=pe)),T3(ae,r,K,c,ie)}B2(ae,a)})}function _u(r,a,c){return{instance:r,listener:a,currentTarget:c}}function pf(r,a){for(var c=a+"Capture",f=[];r!==null;){var y=r,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=La(r,c),y!=null&&f.unshift(_u(r,y,v)),y=La(r,a),y!=null&&f.push(_u(r,y,v))),r.tag===3)return f;r=r.return}return[]}function Rl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function z2(r,a,c,f,y){for(var v=a._reactName,E=[];c!==null&&c!==f;){var j=c,B=j.alternate,K=j.stateNode;if(j=j.tag,B!==null&&B===f)break;j!==5&&j!==26&&j!==27||K===null||(B=K,y?(K=La(c,v),K!=null&&E.unshift(_u(c,K,B))):y||(K=La(c,v),K!=null&&E.push(_u(c,K,B)))),c=c.return}E.length!==0&&r.push({event:a,listeners:E})}var A3=/\r\n?/g,N3=/\u0000|\uFFFD/g;function H2(r){return(typeof r=="string"?r:""+r).replace(A3,`
`).replace(N3,"")}function q2(r,a){return a=H2(a),H2(r)===a}function yf(){}function lt(r,a,c,f,y,v){switch(c){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||di(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&di(r,""+f);break;case"className":Ji(r,"class",f);break;case"tabIndex":Ji(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(r,c,f);break;case"style":Vc(r,f,v);break;case"data":if(a!=="object"){Ji(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=Zo(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(a!=="input"&&lt(r,a,"name",y.name,y,null),lt(r,a,"formEncType",y.formEncType,y,null),lt(r,a,"formMethod",y.formMethod,y,null),lt(r,a,"formTarget",y.formTarget,y,null)):(lt(r,a,"encType",y.encType,y,null),lt(r,a,"method",y.method,y,null),lt(r,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=Zo(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=yf);break;case"onScroll":f!=null&&Pe("scroll",r);break;case"onScrollEnd":f!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=Zo(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),Nr(r,"popover",f);break;case"xlinkActuate":yn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":yn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":yn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":yn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":yn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":yn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":yn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":yn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":yn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Nr(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Wg.get(c)||c,Nr(r,c,f))}}function Sp(r,a,c,f,y,v){switch(c){case"style":Vc(r,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof f=="string"?di(r,f):(typeof f=="number"||typeof f=="bigint")&&di(r,""+f);break;case"onScroll":f!=null&&Pe("scroll",r);break;case"onScrollEnd":f!=null&&Pe("scrollend",r);break;case"onClick":f!=null&&(r.onclick=yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sn.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),a=c.slice(2,y?c.length-7:void 0),v=r[vt]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(a,v,y),typeof f=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,f,y);break e}c in r?r[c]=f:f===!0?r.setAttribute(c,""):Nr(r,c,f)}}}function wn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var f=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var E=c[v];if(E!=null)switch(v){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,v,E,c,null)}}y&&lt(r,a,"srcSet",c.srcSet,c,null),f&&lt(r,a,"src",c.src,c,null);return;case"input":Pe("invalid",r);var j=v=E=y=null,B=null,K=null;for(f in c)if(c.hasOwnProperty(f)){var ie=c[f];if(ie!=null)switch(f){case"name":y=ie;break;case"type":E=ie;break;case"checked":B=ie;break;case"defaultChecked":K=ie;break;case"value":v=ie;break;case"defaultValue":j=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:lt(r,a,f,ie,c,null)}}Oa(r,v,j,B,K,E,y,!1),Qo(r);return;case"select":Pe("invalid",r),f=E=v=null;for(y in c)if(c.hasOwnProperty(y)&&(j=c[y],j!=null))switch(y){case"value":v=j;break;case"defaultValue":E=j;break;case"multiple":f=j;default:lt(r,a,y,j,c,null)}a=v,c=E,r.multiple=!!f,a!=null?Ls(r,!!f,a,!1):c!=null&&Ls(r,!!f,c,!0);return;case"textarea":Pe("invalid",r),v=y=f=null;for(E in c)if(c.hasOwnProperty(E)&&(j=c[E],j!=null))switch(E){case"value":f=j;break;case"defaultValue":y=j;break;case"children":v=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:lt(r,a,E,j,c,null)}Pa(r,f,y,v),Qo(r);return;case"option":for(B in c)if(c.hasOwnProperty(B)&&(f=c[B],f!=null))switch(B){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:lt(r,a,B,f,c,null)}return;case"dialog":Pe("beforetoggle",r),Pe("toggle",r),Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(f=0;f<wu.length;f++)Pe(wu[f],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in c)if(c.hasOwnProperty(K)&&(f=c[K],f!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:lt(r,a,K,f,c,null)}return;default:if(Lc(a)){for(ie in c)c.hasOwnProperty(ie)&&(f=c[ie],f!==void 0&&Sp(r,a,ie,f,c,void 0));return}}for(j in c)c.hasOwnProperty(j)&&(f=c[j],f!=null&&lt(r,a,j,f,c,null))}function j3(r,a,c,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,E=null,j=null,B=null,K=null,ie=null;for(ee in c){var ae=c[ee];if(c.hasOwnProperty(ee)&&ae!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":B=ae;default:f.hasOwnProperty(ee)||lt(r,a,ee,null,f,ae)}}for(var Z in f){var ee=f[Z];if(ae=c[Z],f.hasOwnProperty(Z)&&(ee!=null||ae!=null))switch(Z){case"type":v=ee;break;case"name":y=ee;break;case"checked":K=ee;break;case"defaultChecked":ie=ee;break;case"value":E=ee;break;case"defaultValue":j=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:ee!==ae&&lt(r,a,Z,ee,f,ae)}}Jn(r,E,j,B,K,ie,v,y);return;case"select":ee=E=j=Z=null;for(v in c)if(B=c[v],c.hasOwnProperty(v)&&B!=null)switch(v){case"value":break;case"multiple":ee=B;default:f.hasOwnProperty(v)||lt(r,a,v,null,f,B)}for(y in f)if(v=f[y],B=c[y],f.hasOwnProperty(y)&&(v!=null||B!=null))switch(y){case"value":Z=v;break;case"defaultValue":j=v;break;case"multiple":E=v;default:v!==B&&lt(r,a,y,v,f,B)}a=j,c=E,f=ee,Z!=null?Ls(r,!!c,Z,!1):!!f!=!!c&&(a!=null?Ls(r,!!c,a,!0):Ls(r,!!c,c?[]:"",!1));return;case"textarea":ee=Z=null;for(j in c)if(y=c[j],c.hasOwnProperty(j)&&y!=null&&!f.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:lt(r,a,j,null,f,y)}for(E in f)if(y=f[E],v=c[E],f.hasOwnProperty(E)&&(y!=null||v!=null))switch(E){case"value":Z=y;break;case"defaultValue":ee=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==v&&lt(r,a,E,y,f,v)}at(r,Z,ee);return;case"option":for(var Se in c)if(Z=c[Se],c.hasOwnProperty(Se)&&Z!=null&&!f.hasOwnProperty(Se))switch(Se){case"selected":r.selected=!1;break;default:lt(r,a,Se,null,f,Z)}for(B in f)if(Z=f[B],ee=c[B],f.hasOwnProperty(B)&&Z!==ee&&(Z!=null||ee!=null))switch(B){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:lt(r,a,B,Z,f,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in c)Z=c[we],c.hasOwnProperty(we)&&Z!=null&&!f.hasOwnProperty(we)&&lt(r,a,we,null,f,Z);for(K in f)if(Z=f[K],ee=c[K],f.hasOwnProperty(K)&&Z!==ee&&(Z!=null||ee!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:lt(r,a,K,Z,f,ee)}return;default:if(Lc(a)){for(var ct in c)Z=c[ct],c.hasOwnProperty(ct)&&Z!==void 0&&!f.hasOwnProperty(ct)&&Sp(r,a,ct,void 0,f,Z);for(ie in f)Z=f[ie],ee=c[ie],!f.hasOwnProperty(ie)||Z===ee||Z===void 0&&ee===void 0||Sp(r,a,ie,Z,f,ee);return}}for(var q in c)Z=c[q],c.hasOwnProperty(q)&&Z!=null&&!f.hasOwnProperty(q)&&lt(r,a,q,null,f,Z);for(ae in f)Z=f[ae],ee=c[ae],!f.hasOwnProperty(ae)||Z===ee||Z==null&&ee==null||lt(r,a,ae,Z,f,ee)}var Ep=null,kp=null;function xf(r){return r.nodeType===9?r:r.ownerDocument}function $2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G2(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Ap(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Np=null;function C3(){var r=window.event;return r&&r.type==="popstate"?r===Np?!1:(Np=r,!0):(Np=null,!1)}var W2=typeof setTimeout=="function"?setTimeout:void 0,R3=typeof clearTimeout=="function"?clearTimeout:void 0,Y2=typeof Promise=="function"?Promise:void 0,D3=typeof queueMicrotask=="function"?queueMicrotask:typeof Y2<"u"?function(r){return Y2.resolve(null).then(r).catch(M3)}:W2;function M3(r){setTimeout(function(){throw r})}function Gr(r){return r==="head"}function K2(r,a){var c=a,f=0,y=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<f&&8>f){c=f;var E=r.ownerDocument;if(c&1&&Tu(E.documentElement),c&2&&Tu(E.body),c&4)for(c=E.head,Tu(c),E=c.firstChild;E;){var j=E.nextSibling,B=E.nodeName;E[Mi]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&E.rel.toLowerCase()==="stylesheet"||c.removeChild(E),E=j}}if(y===0){r.removeChild(v),Ru(a);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:f=c.charCodeAt(0)-48;else f=0;c=v}while(c);Ru(a)}function jp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":jp(c),Ii(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function I3(r,a,c,f){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Mi])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Bi(r.nextSibling),r===null)break}return null}function O3(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Bi(r.nextSibling),r===null))return null;return r}function Cp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function P3(r,a){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")a();else{var f=function(){a(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Bi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Rp=null;function X2(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function Q2(r,a,c){switch(a=xf(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Tu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ii(r)}var wi=new Map,Z2=new Set;function vf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ir=$.d;$.d={f:V3,r:L3,D:U3,C:B3,L:F3,m:z3,X:q3,S:H3,M:$3};function V3(){var r=ir.f(),a=uf();return r||a}function L3(r){var a=ui(r);a!==null&&a.tag===5&&a.type==="form"?xw(a):ir.r(r)}var Dl=typeof document>"u"?null:document;function J2(r,a,c){var f=Dl;if(f&&typeof a=="string"&&a){var y=Ft(a);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),Z2.has(y)||(Z2.add(y),r={rel:r,crossOrigin:c,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),wn(a,"link",r),Re(a),f.head.appendChild(a)))}}function U3(r){ir.D(r),J2("dns-prefetch",r,null)}function B3(r,a){ir.C(r,a),J2("preconnect",r,a)}function F3(r,a,c){ir.L(r,a,c);var f=Dl;if(f&&r&&a){var y='link[rel="preload"][as="'+Ft(a)+'"]';a==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Ft(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Ft(c.imageSizes)+'"]')):y+='[href="'+Ft(r)+'"]';var v=y;switch(a){case"style":v=Ml(r);break;case"script":v=Il(r)}wi.has(v)||(r=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),wi.set(v,r),f.querySelector(y)!==null||a==="style"&&f.querySelector(Su(v))||a==="script"&&f.querySelector(Eu(v))||(a=f.createElement("link"),wn(a,"link",r),Re(a),f.head.appendChild(a)))}}function z3(r,a){ir.m(r,a);var c=Dl;if(c&&r){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Ft(f)+'"][href="'+Ft(r)+'"]',v=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Il(r)}if(!wi.has(v)&&(r=p({rel:"modulepreload",href:r},a),wi.set(v,r),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Eu(v)))return}f=c.createElement("link"),wn(f,"link",r),Re(f),c.head.appendChild(f)}}}function H3(r,a,c){ir.S(r,a,c);var f=Dl;if(f&&r){var y=Me(f).hoistableStyles,v=Ml(r);a=a||"default";var E=y.get(v);if(!E){var j={loading:0,preload:null};if(E=f.querySelector(Su(v)))j.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":a},c),(c=wi.get(v))&&Dp(r,c);var B=E=f.createElement("link");Re(B),wn(B,"link",r),B._p=new Promise(function(K,ie){B.onload=K,B.onerror=ie}),B.addEventListener("load",function(){j.loading|=1}),B.addEventListener("error",function(){j.loading|=2}),j.loading|=4,bf(E,a,f)}E={type:"stylesheet",instance:E,count:1,state:j},y.set(v,E)}}}function q3(r,a){ir.X(r,a);var c=Dl;if(c&&r){var f=Me(c).hoistableScripts,y=Il(r),v=f.get(y);v||(v=c.querySelector(Eu(y)),v||(r=p({src:r,async:!0},a),(a=wi.get(y))&&Mp(r,a),v=c.createElement("script"),Re(v),wn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function $3(r,a){ir.M(r,a);var c=Dl;if(c&&r){var f=Me(c).hoistableScripts,y=Il(r),v=f.get(y);v||(v=c.querySelector(Eu(y)),v||(r=p({src:r,async:!0,type:"module"},a),(a=wi.get(y))&&Mp(r,a),v=c.createElement("script"),Re(v),wn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function e_(r,a,c,f){var y=(y=Be.current)?vf(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Ml(c.href),c=Me(y).hoistableStyles,f=c.get(a),f||(f={type:"style",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Ml(c.href);var v=Me(y).hoistableStyles,E=v.get(r);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,E),(v=y.querySelector(Su(r)))&&!v._p&&(E.instance=v,E.state.loading=5),wi.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},wi.set(r,c),v||G3(y,r,c,E.state))),a&&f===null)throw Error(i(528,""));return E}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Il(c),c=Me(y).hoistableScripts,f=c.get(a),f||(f={type:"script",instance:null,count:0,state:null},c.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ml(r){return'href="'+Ft(r)+'"'}function Su(r){return'link[rel="stylesheet"]['+r+"]"}function t_(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function G3(r,a,c,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),wn(a,"link",c),Re(a),r.head.appendChild(a))}function Il(r){return'[src="'+Ft(r)+'"]'}function Eu(r){return"script[async]"+r}function n_(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+Ft(c.href)+'"]');if(f)return a.instance=f,Re(f),f;var y=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Re(f),wn(f,"style",y),bf(f,c.precedence,r),a.instance=f;case"stylesheet":y=Ml(c.href);var v=r.querySelector(Su(y));if(v)return a.state.loading|=4,a.instance=v,Re(v),v;f=t_(c),(y=wi.get(y))&&Dp(f,y),v=(r.ownerDocument||r).createElement("link"),Re(v);var E=v;return E._p=new Promise(function(j,B){E.onload=j,E.onerror=B}),wn(v,"link",f),a.state.loading|=4,bf(v,c.precedence,r),a.instance=v;case"script":return v=Il(c.src),(y=r.querySelector(Eu(v)))?(a.instance=y,Re(y),y):(f=c,(y=wi.get(v))&&(f=p({},c),Mp(f,y)),r=r.ownerDocument||r,y=r.createElement("script"),Re(y),wn(y,"link",f),r.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,bf(f,c.precedence,r));return a.instance}function bf(r,a,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,v=y,E=0;E<f.length;E++){var j=f[E];if(j.dataset.precedence===a)v=j;else if(v!==y)break}v?v.parentNode.insertBefore(r,v.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function Dp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Mp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var wf=null;function i_(r,a,c){if(wf===null){var f=new Map,y=wf=new Map;y.set(c,f)}else y=wf,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var v=c[y];if(!(v[Mi]||v[Ct]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(a)||"";E=r+E;var j=f.get(E);j?j.push(v):f.set(E,[v])}}return f}function s_(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function W3(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function r_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ku=null;function Y3(){}function K3(r,a,c){if(ku===null)throw Error(i(475));var f=ku;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=Ml(c.href),v=r.querySelector(Su(y));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=_f.bind(f),r.then(f,f)),a.state.loading|=4,a.instance=v,Re(v);return}v=r.ownerDocument||r,c=t_(c),(y=wi.get(y))&&Dp(c,y),v=v.createElement("link"),Re(v);var E=v;E._p=new Promise(function(j,B){E.onload=j,E.onerror=B}),wn(v,"link",c),a.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=_f.bind(f),r.addEventListener("load",a),r.addEventListener("error",a))}}function X3(){if(ku===null)throw Error(i(475));var r=ku;return r.stylesheets&&r.count===0&&Ip(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&Ip(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function _f(){if(this.count--,this.count===0){if(this.stylesheets)Ip(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Tf=null;function Ip(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Tf=new Map,a.forEach(Q3,r),Tf=null,_f.call(r))}function Q3(r,a){if(!(a.state.loading&4)){var c=Tf.get(r);if(c)var f=c.get(null);else{c=new Map,Tf.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var E=y[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),f=E)}f&&c.set(null,f)}y=a.instance,E=y.getAttribute("data-precedence"),v=c.get(E)||f,v===f&&c.set(null,y),c.set(E,y),this.count++,f=_f.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),v?v.parentNode.insertBefore(y,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),a.state.loading|=4}}var Au={$$typeof:F,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Z3(r,a,c,f,y,v,E,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function a_(r,a,c,f,y,v,E,j,B,K,ie,ae){return r=new Z3(r,a,c,E,j,B,K,ae),a=1,v===!0&&(a|=24),v=ti(3,null,null,a),r.current=v,v.stateNode=r,a=g0(),a.refCount++,r.pooledCache=a,a.refCount++,v.memoizedState={element:f,isDehydrated:c,cache:a},v0(v),r}function o_(r){return r?(r=dl,r):dl}function l_(r,a,c,f,y,v){y=o_(y),f.context===null?f.context=y:f.pendingContext=y,f=Mr(a),f.payload={element:c},v=v===void 0?null:v,v!==null&&(f.callback=v),c=Ir(r,f,a),c!==null&&(ai(c,r,a),iu(c,r,a))}function c_(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function Op(r,a){c_(r,a),(r=r.alternate)&&c_(r,a)}function u_(r){if(r.tag===13){var a=ul(r,67108864);a!==null&&ai(a,r,67108864),Op(r,67108864)}}var Sf=!0;function J3(r,a,c,f){var y=z.T;z.T=null;var v=$.p;try{$.p=2,Pp(r,a,c,f)}finally{$.p=v,z.T=y}}function eR(r,a,c,f){var y=z.T;z.T=null;var v=$.p;try{$.p=8,Pp(r,a,c,f)}finally{$.p=v,z.T=y}}function Pp(r,a,c,f){if(Sf){var y=Vp(f);if(y===null)Tp(r,a,f,Ef,c),h_(r,f);else if(nR(y,r,a,c,f))f.stopPropagation();else if(h_(r,f),a&4&&-1<tR.indexOf(r)){for(;y!==null;){var v=ui(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Zn(v.pendingLanes);if(E!==0){var j=v;for(j.pendingLanes|=2,j.entangledLanes|=2;E;){var B=1<<31-Ut(E);j.entanglements[1]|=B,E&=~B}ds(v),(it&6)===0&&(lf=fn()+500,bu(0))}}break;case 13:j=ul(v,2),j!==null&&ai(j,v,2),uf(),Op(v,2)}if(v=Vp(f),v===null&&Tp(r,a,f,Ef,c),v===y)break;y=v}y!==null&&f.stopPropagation()}else Tp(r,a,f,null,c)}}function Vp(r){return r=hi(r),Lp(r)}var Ef=null;function Lp(r){if(Ef=null,r=Oi(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=l(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Ef=r,null}function d_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ho()){case Sr:return 2;case Er:return 8;case Rs:case Mc:return 32;case Ds:return 268435456;default:return 32}default:return 32}}var Up=!1,Wr=null,Yr=null,Kr=null,Nu=new Map,ju=new Map,Xr=[],tR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(r,a){switch(r){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Nu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(a.pointerId)}}function Cu(r,a,c,f,y,v){return r===null||r.nativeEvent!==v?(r={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[y]},a!==null&&(a=ui(a),a!==null&&u_(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),r)}function nR(r,a,c,f,y){switch(a){case"focusin":return Wr=Cu(Wr,r,a,c,f,y),!0;case"dragenter":return Yr=Cu(Yr,r,a,c,f,y),!0;case"mouseover":return Kr=Cu(Kr,r,a,c,f,y),!0;case"pointerover":var v=y.pointerId;return Nu.set(v,Cu(Nu.get(v)||null,r,a,c,f,y)),!0;case"gotpointercapture":return v=y.pointerId,ju.set(v,Cu(ju.get(v)||null,r,a,c,f,y)),!0}return!1}function f_(r){var a=Oi(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){r.blockedOn=a,Ar(r.priority,function(){if(c.tag===13){var f=ri();f=Ye(f);var y=ul(c,f);y!==null&&ai(y,c,f),Op(c,f)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Vp(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);Us=f,c.target.dispatchEvent(f),Us=null}else return a=ui(c),a!==null&&u_(a),r.blockedOn=c,!1;a.shift()}return!0}function m_(r,a,c){kf(r)&&c.delete(a)}function iR(){Up=!1,Wr!==null&&kf(Wr)&&(Wr=null),Yr!==null&&kf(Yr)&&(Yr=null),Kr!==null&&kf(Kr)&&(Kr=null),Nu.forEach(m_),ju.forEach(m_)}function Af(r,a){r.blockedOn===a&&(r.blockedOn=null,Up||(Up=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iR)))}var Nf=null;function g_(r){Nf!==r&&(Nf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nf===r&&(Nf=null);for(var a=0;a<r.length;a+=3){var c=r[a],f=r[a+1],y=r[a+2];if(typeof f!="function"){if(Lp(f||c)===null)continue;break}var v=ui(c);v!==null&&(r.splice(a,3),a-=3,L0(v,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function Ru(r){function a(B){return Af(B,r)}Wr!==null&&Af(Wr,r),Yr!==null&&Af(Yr,r),Kr!==null&&Af(Kr,r),Nu.forEach(a),ju.forEach(a);for(var c=0;c<Xr.length;c++){var f=Xr[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Xr.length&&(c=Xr[0],c.blockedOn===null);)f_(c),c.blockedOn===null&&Xr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],v=c[f+1],E=y[vt]||null;if(typeof v=="function")E||g_(c);else if(E){var j=null;if(v&&v.hasAttribute("formAction")){if(y=v,E=v[vt]||null)j=E.formAction;else if(Lp(y)!==null)continue}else j=E.action;typeof j=="function"?c[f+1]=j:(c.splice(f,3),f-=3),g_(c)}}}function Bp(r){this._internalRoot=r}jf.prototype.render=Bp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,f=ri();l_(c,f,r,a,null,null)},jf.prototype.unmount=Bp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;l_(r.current,2,null,r,null,null),uf(),a[gn]=null}};function jf(r){this._internalRoot=r}jf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Zi();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Xr.length&&a!==0&&a<Xr[c].priority;c++);Xr.splice(c,0,r),c===0&&f_(r)}};var p_=e.version;if(p_!=="19.1.1")throw Error(i(527,p_,"19.1.1"));$.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var sR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{xt=Cf.inject(sR),Qe=Cf}catch{}}return Mu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,f="",y=Dw,v=Mw,E=Iw,j=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks)),a=a_(r,1,!1,null,null,c,f,y,v,E,j,null),r[gn]=a.current,_p(r),new Bp(a)},Mu.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var f=!1,y="",v=Dw,E=Mw,j=Iw,B=null,K=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(B=c.unstable_transitionCallbacks),c.formState!==void 0&&(K=c.formState)),a=a_(r,1,!0,a,c??null,f,y,v,E,j,B,K),a.context=o_(null),c=a.current,f=ri(),f=Ye(f),y=Mr(f),y.callback=null,Ir(c,y,f),c=f,a.current.lanes=c,li(a,c),ds(a),r[gn]=a.current,_p(r),new jf(a)},Mu.version="19.1.1",Mu}var __;function fR(){if(__)return zp.exports;__=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zp.exports=hR(),zp.exports}var mR=fR();const gR=av(mR),pR=()=>{};var T_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],u=t[n++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},t5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,u=l?t[s+1]:0,h=s+2<t.length,m=h?t[s+2]:0,p=o>>2,x=(o&3)<<4|u>>4;let b=(u&15)<<2|m>>6,_=m&63;h||(_=64,l||(b=64)),i.push(n[p],n[x],n[b],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const x=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||m==null||x==null)throw new xR;const b=o<<2|u>>4;if(i.push(b),m!==64){const _=u<<4&240|m>>2;if(i.push(_),x!==64){const A=m<<6&192|x;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(t){const e=e5(t);return t5.encodeByteArray(e,!0)},km=function(t){return vR(t).replace(/\./g,"")},n5=function(t){try{return t5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=()=>bR().__FIREBASE_DEFAULTS__,_R=()=>{if(typeof process>"u"||typeof T_>"u")return;const t=T_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n5(t[1]);return e&&JSON.parse(e)},ug=()=>{try{return pR()||wR()||_R()||TR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i5=t=>ug()?.emulatorHosts?.[t],SR=t=>{const e=i5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},s5=()=>ug()?.config,r5=t=>ug()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a5(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[km(JSON.stringify(n)),km(JSON.stringify(l)),""].join(".")}const Qu={};function AR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qu))Qu[e]?t.emulator.push(e):t.prod.push(e);return t}function NR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let S_=!1;function o5(t,e){if(typeof window>"u"||typeof document>"u"||!yc(window.location.host)||Qu[t]===e||Qu[t]||S_)return;Qu[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=AR().prod.length>0;function l(){const b=document.getElementById(i);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{S_=!0,l()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=NR(i),_=n("text"),A=document.getElementById(_)||document.createElement("span"),R=n("learnmore"),C=document.getElementById(R)||document.createElement("a"),L=n("preprendIcon"),U=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;u(F),p(C,R);const G=m();h(U,L),F.append(U,A,C,G),document.body.appendChild(F)}o?(A.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function CR(){const t=ug()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IR(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OR(){return!CR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PR(){try{return typeof indexedDB=="object"}catch{return!1}}function VR(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="FirebaseError";class _r extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=LR,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zd.prototype.create)}}class zd{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?UR(o,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new _r(s,u,i)}}function UR(t,e){return t.replace(BR,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const BR=/\{\$([^}]+)}/g;function FR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Co(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(E_(o)&&E_(l)){if(!Co(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function E_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zR(t,e){const n=new HR(t,e);return n.subscribe.bind(n)}class HR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");qR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=$p),s.error===void 0&&(s.error=$p),s.complete===void 0&&(s.complete=$p);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ER;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WR(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GR(t){return t===mo?void 0:t}function WR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $R(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const KR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},XR=Ve.INFO,QR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},ZR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=QR[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ov{constructor(e){this.name=e,this._logLevel=XR,this._logHandler=ZR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const JR=(t,e)=>e.some(n=>t instanceof n);let k_,A_;function e6(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t6(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l5=new WeakMap,$y=new WeakMap,c5=new WeakMap,Gp=new WeakMap,lv=new WeakMap;function n6(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(oa(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&l5.set(n,t)}).catch(()=>{}),lv.set(e,t),e}function i6(t){if($y.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});$y.set(t,e)}let Gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $y.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s6(t){Gy=t(Gy)}function r6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Wp(this),e,...n);return c5.set(i,e.sort?e.sort():[e]),oa(i)}:t6().includes(t)?function(...e){return t.apply(Wp(this),e),oa(l5.get(this))}:function(...e){return oa(t.apply(Wp(this),e))}}function a6(t){return typeof t=="function"?r6(t):(t instanceof IDBTransaction&&i6(t),JR(t,e6())?new Proxy(t,Gy):t)}function oa(t){if(t instanceof IDBRequest)return n6(t);if(Gp.has(t))return Gp.get(t);const e=a6(t);return e!==t&&(Gp.set(t,e),lv.set(e,t)),e}const Wp=t=>lv.get(t);function o6(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),u=oa(l);return i&&l.addEventListener("upgradeneeded",h=>{i(oa(l.result),h.oldVersion,h.newVersion,oa(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const l6=["get","getKey","getAll","getAllKeys","count"],c6=["put","add","delete","clear"],Yp=new Map;function N_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=c6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||l6.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,s?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),s&&h.done]))[0]};return Yp.set(e,o),o}s6(t=>({...t,get:(e,n,i)=>N_(e,n)||t.get(e,n,i),has:(e,n)=>!!N_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function d6(t){return t.getComponent()?.type==="VERSION"}const Wy="@firebase/app",j_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new ov("@firebase/app"),h6="@firebase/app-compat",f6="@firebase/analytics-compat",m6="@firebase/analytics",g6="@firebase/app-check-compat",p6="@firebase/app-check",y6="@firebase/auth",x6="@firebase/auth-compat",v6="@firebase/database",b6="@firebase/data-connect",w6="@firebase/database-compat",_6="@firebase/functions",T6="@firebase/functions-compat",S6="@firebase/installations",E6="@firebase/installations-compat",k6="@firebase/messaging",A6="@firebase/messaging-compat",N6="@firebase/performance",j6="@firebase/performance-compat",C6="@firebase/remote-config",R6="@firebase/remote-config-compat",D6="@firebase/storage",M6="@firebase/storage-compat",I6="@firebase/firestore",O6="@firebase/ai",P6="@firebase/firestore-compat",V6="firebase",L6="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",U6={[Wy]:"fire-core",[h6]:"fire-core-compat",[m6]:"fire-analytics",[f6]:"fire-analytics-compat",[p6]:"fire-app-check",[g6]:"fire-app-check-compat",[y6]:"fire-auth",[x6]:"fire-auth-compat",[v6]:"fire-rtdb",[b6]:"fire-data-connect",[w6]:"fire-rtdb-compat",[_6]:"fire-fn",[T6]:"fire-fn-compat",[S6]:"fire-iid",[E6]:"fire-iid-compat",[k6]:"fire-fcm",[A6]:"fire-fcm-compat",[N6]:"fire-perf",[j6]:"fire-perf-compat",[C6]:"fire-rc",[R6]:"fire-rc-compat",[D6]:"fire-gcs",[M6]:"fire-gcs-compat",[I6]:"fire-fst",[P6]:"fire-fst-compat",[O6]:"fire-vertex","fire-js":"fire-js",[V6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map,B6=new Map,Ky=new Map;function C_(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nc(t){const e=t.name;if(Ky.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Ky.set(e,t);for(const n of Am.values())C_(n,t);for(const n of B6.values())C_(n,t);return!0}function cv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new zd("app","Firebase",F6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=L6;function u5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Yy,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw la.create("bad-app-name",{appName:String(s)});if(n||(n=s5()),!n)throw la.create("no-options");const o=Am.get(s);if(o){if(Co(n,o.options)&&Co(i,o.config))return o;throw la.create("duplicate-app",{appName:s})}const l=new YR(s);for(const h of Ky.values())l.addComponent(h);const u=new z6(n,i,l);return Am.set(s,u),u}function d5(t=Yy){const e=Am.get(t);if(!e&&t===Yy&&s5())return u5();if(!e)throw la.create("no-app",{appName:t});return e}function ca(t,e,n){let i=U6[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(l.join(" "));return}nc(new Ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="firebase-heartbeat-database",q6=1,md="firebase-heartbeat-store";let Kp=null;function h5(){return Kp||(Kp=o6(H6,q6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(md)}catch(n){console.warn(n)}}}}).catch(t=>{throw la.create("idb-open",{originalErrorMessage:t.message})})),Kp}async function $6(t){try{const n=(await h5()).transaction(md),i=await n.objectStore(md).get(f5(t));return await n.done,i}catch(e){if(e instanceof _r)mr.warn(e.message);else{const n=la.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function R_(t,e){try{const i=(await h5()).transaction(md,"readwrite");await i.objectStore(md).put(e,f5(t)),await i.done}catch(n){if(n instanceof _r)mr.warn(n.message);else{const i=la.create("idb-set",{originalErrorMessage:n?.message});mr.warn(i.message)}}}function f5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=1024,W6=30;class Y6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=D_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>W6){const s=Q6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=D_(),{heartbeatsToSend:n,unsentEntries:i}=K6(this._heartbeatsCache.heartbeats),s=km(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return mr.warn(e),""}}}function D_(){return new Date().toISOString().substring(0,10)}function K6(t,e=G6){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),M_(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),M_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class X6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PR()?VR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function M_(t){return km(JSON.stringify({version:2,heartbeats:t})).length}function Q6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){nc(new Ro("platform-logger",e=>new u6(e),"PRIVATE")),nc(new Ro("heartbeat",e=>new Y6(e),"PRIVATE")),ca(Wy,j_,t),ca(Wy,j_,"esm2020"),ca("fire-js","")}Z6("");var J6="firebase",eD="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ca(J6,eD,"app");function m5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tD=m5,g5=new zd("auth","Firebase",m5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new ov("@firebase/auth");function nD(t,...e){Nm.logLevel<=Ve.WARN&&Nm.warn(`Auth (${xc}): ${t}`,...e)}function om(t,...e){Nm.logLevel<=Ve.ERROR&&Nm.error(`Auth (${xc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,...e){throw dv(t,...e)}function Wi(t,...e){return dv(t,...e)}function uv(t,e,n){const i={...tD(),[e]:n};return new zd("auth","Firebase",i).create(e,{appName:t.name})}function _o(t){return uv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iD(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&As(t,"argument-error"),uv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return g5.create(t,...e)}function Ne(t,e,...n){if(!t)throw dv(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw om(e),new Error(e)}function gr(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(){return typeof self<"u"&&self.location?.href||""}function sD(){return I_()==="http:"||I_()==="https:"}function I_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sD()||DR()||"connection"in navigator)?navigator.onLine:!0}function aD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=jR()||MR()}get(){return rD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cD=new qd(3e4,6e4);function fv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function vc(t,e,n,i,s={}){return y5(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const u=Hd({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:h,...o};return RR()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&yc(t.emulatorConfig.host)&&(m.credentials="include"),p5.fetch()(await x5(t,t.config.apiHost,n,u),m)})}async function y5(t,e,n){t._canInitEmulator=!1;const i={...oD,...e};try{const s=new dD(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Rf(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rf(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Rf(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Rf(t,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw uv(t,p,m);As(t,p)}}catch(s){if(s instanceof _r)throw s;As(t,"network-request-failed",{message:String(s)})}}async function uD(t,e,n,i,s={}){const o=await vc(t,e,n,i,s);return"mfaPendingCredential"in o&&As(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function x5(t,e,n,i){const s=`${e}${n}?${i}`,o=t,l=o.config.emulator?hv(t.config,s):`${t.config.apiScheme}://${s}`;return lD.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class dD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Wi(this.auth,"network-request-failed")),cD.get())})}}function Rf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Wi(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e){return vc(t,"POST","/v1/accounts:delete",e)}async function jm(t,e){return vc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fD(t,e=!1){const n=ji(t),i=await n.getIdToken(e),s=mv(i);Ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:i,authTime:Zu(Xp(s.auth_time)),issuedAtTime:Zu(Xp(s.iat)),expirationTime:Zu(Xp(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Xp(t){return Number(t)*1e3}function mv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return om("JWT malformed, contained fewer than 3 sections"),null;try{const s=n5(n);return s?JSON.parse(s):(om("Failed to decode base64 JWT payload"),null)}catch(s){return om("Caught error parsing JWT payload as JSON",s?.toString()),null}}function O_(t){const e=mv(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof _r&&mD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function mD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(t){const e=t.auth,n=await t.getIdToken(),i=await gd(t,jm(e,{idToken:n}));Ne(i?.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?v5(s.providerUserInfo):[],l=yD(t.providerData,o),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!l?.length,m=u?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Qy(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function pD(t){const e=ji(t);await Cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yD(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function v5(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){const n=await y5(t,{},async()=>{const i=Hd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await x5(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return t.emulatorConfig&&yc(t.emulatorConfig.host)&&(h.credentials="include"),p5.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vD(t,e){return vc(t,"POST","/v2/accounts:revokeToken",fv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):O_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=O_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await xD(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new Kl;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Ne(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ne(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hi{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new gD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await gd(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fD(this,e)}reload(){return pD(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Cm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject(_o(this.auth));const e=await this.getIdToken();return await gd(this,hD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,m=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:x,emailVerified:b,isAnonymous:_,providerData:A,stsTokenManager:R}=n;Ne(x&&R,e,"internal-error");const C=Kl.fromJSON(this.name,R);Ne(typeof x=="string",e,"internal-error"),Zr(i,e.name),Zr(s,e.name),Ne(typeof b=="boolean",e,"internal-error"),Ne(typeof _=="boolean",e,"internal-error"),Zr(o,e.name),Zr(l,e.name),Zr(u,e.name),Zr(h,e.name),Zr(m,e.name),Zr(p,e.name);const L=new Hi({uid:x,auth:e,email:s,emailVerified:b,displayName:i,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:m,lastLoginAt:p});return A&&Array.isArray(A)&&(L.providerData=A.map(U=>({...U}))),h&&(L._redirectEventId=h),L}static async _fromIdTokenResponse(e,n,i=!1){const s=new Kl;s.updateFromServerResponse(n);const o=new Hi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Cm(o),o}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Ne(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?v5(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,u=new Kl;u.updateFromIdToken(i);const h=new Hi({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Qy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function dr(t){gr(t instanceof Function,"Expected a class definition");let e=P_.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,P_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}b5.type="NONE";const V_=b5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t,e,n){return`firebase:${t}:${e}:${n}`}class Xl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=lm(this.userKey,s.apiKey,o),this.fullPersistenceKey=lm("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jm(this.auth,{idToken:e}).catch(()=>{});return n?Hi._fromGetAccountInfoResponse(this.auth,n,e):null}return Hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Xl(dr(V_),e,i);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||dr(V_);const l=lm(i,e.config.apiKey,e.name);let u=null;for(const m of n)try{const p=await m._get(l);if(p){let x;if(typeof p=="string"){const b=await jm(e,{idToken:p}).catch(()=>{});if(!b)break;x=await Hi._fromGetAccountInfoResponse(e,b,p)}else x=Hi._fromJSON(e,p);m!==o&&(u=x),o=m;break}}catch{}const h=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Xl(o,e,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(l)}catch{}})),new Xl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k5(e))return"Blackberry";if(A5(e))return"Webos";if(_5(e))return"Safari";if((e.includes("chrome/")||T5(e))&&!e.includes("edge/"))return"Chrome";if(E5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function w5(t=Vn()){return/firefox\//i.test(t)}function _5(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T5(t=Vn()){return/crios\//i.test(t)}function S5(t=Vn()){return/iemobile/i.test(t)}function E5(t=Vn()){return/android/i.test(t)}function k5(t=Vn()){return/blackberry/i.test(t)}function A5(t=Vn()){return/webos/i.test(t)}function gv(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bD(t=Vn()){return gv(t)&&!!window.navigator?.standalone}function wD(){return IR()&&document.documentMode===10}function N5(t=Vn()){return gv(t)||E5(t)||A5(t)||k5(t)||/windows phone/i.test(t)||S5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t,e=[]){let n;switch(t){case"Browser":n=L_(Vn());break;case"Worker":n=`${L_(Vn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e={}){return vc(t,"GET","/v2/passwordPolicy",fv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=6;class ED{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??SD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new _D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jm(this,{idToken:e}),i=await Hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zi(this.app))return Promise.reject(_o(this));const n=e?ji(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject(_o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zi(this.app)?Promise.reject(_o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TD(this),n=new ED(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zd("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await vD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Xl.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&nD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function dg(t){return ji(t)}class U_{constructor(e){this.auth=e,this.observer=null,this.addObserver=zR(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AD(t){pv=t}function ND(t){return pv.loadJS(t)}function jD(){return pv.gapiScript}function CD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e){const n=cv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Co(o,e??{}))return s;As(s,"already-initialized")}return n.initialize({options:e})}function DD(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function MD(t,e,n){const i=dg(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=C5(e),{host:l,port:u}=ID(e),h=u===null?"":`:${u}`,m={url:`${o}//${l}${h}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Co(m,i.config.emulator)&&Co(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,yc(l)?(a5(`${o}//${l}${h}`),o5("Auth",!0)):OD()}function C5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ID(t){const e=C5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:B_(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:B_(l)}}}function B_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e){return uD(t,"POST","/v1/accounts:signInWithIdp",fv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="http://localhost";class Do extends R5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):As("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=n;if(!i||!s)return null;const l=new Do(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ql(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ql(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ql(e,n)}buildRequest(){const e={requestUri:PD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends yv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends $d{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends $d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Do._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return cr.credential(n,i)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends $d{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends $d{constructor(){super("twitter.com")}static credential(e,n){return Do._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return na.credential(n,i)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await Hi._fromIdTokenResponse(e,i,s),l=F_(i);return new ic({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=F_(i);return new ic({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function F_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends _r{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Rm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Rm(e,n,i,s)}}function D5(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rm._fromErrorAndOperation(t,o,e,i):o})}async function VD(t,e,n=!1){const i=await gd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ic._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t,e,n=!1){const{auth:i}=t;if(zi(i.app))return Promise.reject(_o(i));const s="reauthenticate";try{const o=await gd(t,D5(i,s,e,t),n);Ne(o.idToken,i,"internal-error");const l=mv(o.idToken);Ne(l,i,"internal-error");const{sub:u}=l;return Ne(t.uid===u,i,"user-mismatch"),ic._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&As(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e,n=!1){if(zi(t.app))return Promise.reject(_o(t));const i="signIn",s=await D5(t,i,e),o=await ic._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}function BD(t,e,n,i){return ji(t).onIdTokenChanged(e,n,i)}function FD(t,e,n){return ji(t).beforeAuthStateChanged(e,n)}function zD(t,e,n,i){return ji(t).onAuthStateChanged(e,n,i)}function HD(t){return ji(t).signOut()}const Dm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dm,"1"),this.storage.removeItem(Dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=1e3,$D=10;class I5 extends M5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);wD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$D):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},qD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I5.type="LOCAL";const GD=I5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5 extends M5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O5.type="SESSION";const P5=O5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new hg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async m=>m(n.origin,o)),h=await WD(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const m=xv("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(x){const b=x;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return window}function KD(t){vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(){return typeof vs().WorkerGlobalScope<"u"&&typeof vs().importScripts=="function"}async function XD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QD(){return navigator?.serviceWorker?.controller||null}function ZD(){return V5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="firebaseLocalStorageDb",JD=1,Mm="firebaseLocalStorage",U5="fbase_key";class Gd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fg(t,e){return t.transaction([Mm],e?"readwrite":"readonly").objectStore(Mm)}function eM(){const t=indexedDB.deleteDatabase(L5);return new Gd(t).toPromise()}function Zy(){const t=indexedDB.open(L5,JD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Mm,{keyPath:U5})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Mm)?e(i):(i.close(),await eM(),e(await Zy()))})})}async function z_(t,e,n){const i=fg(t,!0).put({[U5]:e,value:n});return new Gd(i).toPromise()}async function tM(t,e){const n=fg(t,!1).get(e),i=await new Gd(n).toPromise();return i===void 0?null:i.value}function H_(t,e){const n=fg(t,!0).delete(e);return new Gd(n).toPromise()}const nM=800,iM=3;class B5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>iM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hg._getInstance(ZD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XD(),!this.activeServiceWorker)return;this.sender=new YD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zy();return await z_(e,Dm,"1"),await H_(e,Dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>z_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>tM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>H_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=fg(s,!1).getAll();return new Gd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B5.type="LOCAL";const sM=B5;new qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e){return e?dr(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends R5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rM(t){return UD(t.auth,new vv(t),t.bypassAuthState)}function aM(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),LD(n,new vv(t),t.bypassAuthState)}async function oM(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),VD(n,new vv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rM;case"linkViaPopup":case"linkViaRedirect":return oM;case"reauthViaPopup":case"reauthViaRedirect":return aM;default:As(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new qd(2e3,1e4);async function cM(t,e,n){if(zi(t.app))return Promise.reject(Wi(t,"operation-not-supported-in-this-environment"));const i=dg(t);iD(t,e,yv);const s=F5(i,n);return new yo(i,"signInViaPopup",e,s).executeNotNull()}class yo extends z5{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lM.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="pendingRedirect",cm=new Map;class dM extends z5{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=cm.get(this.auth._key());if(!e){try{const i=await hM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}cm.set(this.auth._key(),e)}return this.bypassAuthState||cm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hM(t,e){const n=gM(e),i=mM(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function fM(t,e){cm.set(t._key(),e)}function mM(t){return dr(t._redirectPersistence)}function gM(t){return lm(uM,t.config.apiKey,t.name)}async function pM(t,e,n=!1){if(zi(t.app))return Promise.reject(_o(t));const i=dg(t),s=F5(i,e),l=await new dM(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=600*1e3;class xM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!H5(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yM&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(e))}saveEventToCache(e){this.cachedEventUids.add(q_(e)),this.lastProcessedEventTime=Date.now()}}function q_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function H5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e={}){return vc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_M=/^https?/;async function TM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bM(t);for(const n of e)try{if(SM(n))return}catch{}As(t,"unauthorized-domain")}function SM(t){const e=Xy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!_M.test(n))return!1;if(wM.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=new qd(3e4,6e4);function $_(){const t=vs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kM(t){return new Promise((e,n)=>{function i(){$_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$_(),n(Wi(t,"network-request-failed"))},timeout:EM.get()})}if(vs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vs().gapi?.load)i();else{const s=CD("iframefcb");return vs()[s]=()=>{gapi.load?i():n(Wi(t,"network-request-failed"))},ND(`${jD()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw um=null,e})}let um=null;function AM(t){return um=um||kM(t),um}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new qd(5e3,15e3),jM="__/auth/iframe",CM="emulator/auth/iframe",RM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MM(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hv(e,CM):`https://${t.config.authDomain}/${jM}`,i={apiKey:e.apiKey,appName:t.name,v:xc},s=DM.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Hd(i).slice(1)}`}async function IM(t){const e=await AM(t),n=vs().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:MM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RM,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Wi(t,"network-request-failed"),u=vs().setTimeout(()=>{o(l)},NM.get());function h(){vs().clearTimeout(u),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PM=500,VM=600,LM="_blank",UM="http://localhost";class G_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BM(t,e,n,i=PM,s=VM){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={...OM,width:i.toString(),height:s.toString(),top:o,left:l},m=Vn().toLowerCase();n&&(u=T5(m)?LM:n),w5(m)&&(e=e||UM,h.scrollbars="yes");const p=Object.entries(h).reduce((b,[_,A])=>`${b}${_}=${A},`,"");if(bD(m)&&u!=="_self")return FM(e||"",u),new G_(null);const x=window.open(e||"",u,p);Ne(x,t,"popup-blocked");try{x.focus()}catch{}return new G_(x)}function FM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="__/auth/handler",HM="emulator/auth/handler",qM=encodeURIComponent("fac");async function W_(t,e,n,i,s,o){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:xc,eventId:s};if(e instanceof yv){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",FR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,x]of Object.entries({}))l[p]=x}if(e instanceof $d){const p=e.getScopes().filter(x=>x!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const h=await t._getAppCheckToken(),m=h?`#${qM}=${encodeURIComponent(h)}`:"";return`${$M(t)}?${Hd(u).slice(1)}${m}`}function $M({config:t}){return t.emulator?hv(t,HM):`https://${t.authDomain}/${zM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="webStorageSupport";class GM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P5,this._completeRedirectFn=pM,this._overrideRedirectResult=fM}async _openPopup(e,n,i,s){gr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await W_(e,n,i,Xy(),s);return BM(e,o,xv())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await W_(e,n,i,Xy(),s);return KD(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(gr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await IM(e),i=new xM(e);return n.register("authEvent",s=>(Ne(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qp,{type:Qp},s=>{const o=s?.[0]?.[Qp];o!==void 0&&n(!!o),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return N5()||_5()||gv()}}const WM=GM;var Y_="@firebase/auth",K_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XM(t){nc(new Ro("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j5(t)},m=new kD(i,s,o,h);return DD(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),nc(new Ro("auth-internal",e=>{const n=dg(e.getProvider("auth").getImmediate());return(i=>new YM(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ca(Y_,K_,KM(t)),ca(Y_,K_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=300,ZM=r5("authIdTokenMaxAge")||QM;let X_=null;const JM=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>ZM)return;const s=n?.token;X_!==s&&(X_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eI(t=d5()){const e=cv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RD(t,{popupRedirectResolver:WM,persistence:[sM,GD,P5]}),i=r5("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=JM(o.toString());FD(n,l,()=>l(n.currentUser)),BD(n,u=>l(u))}}const s=i5("auth");return s&&MD(n,`http://${s}`),n}function tI(){return document.getElementsByTagName("head")?.[0]??document}AD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=Wi("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",tI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XM("Browser");const nI={apiKey:"AIzaSyDKJtsmqxjWzivN7mq_2-szJ6dBh5tEEH8",authDomain:"caresync-b2ac1.firebaseapp.com",projectId:"caresync-b2ac1",storageBucket:"caresync-b2ac1.appspot.com",messagingSenderId:"314234275561",appId:"1:314234275561:web:4294c9ab603b7987159278"},iI=u5(nI),bv=eI(iI),sI=new cr;async function rI(){return cM(bv,sI)}async function aI(){return HD(bv)}var Q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ua,q5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,k){function N(){}N.prototype=k.prototype,V.D=k.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(D,I,O){for(var P=Array(arguments.length-2),X=2;X<arguments.length;X++)P[X-2]=arguments[X];return k.prototype[I].apply(D,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,k,N){N||(N=0);var D=Array(16);if(typeof k=="string")for(var I=0;16>I;++I)D[I]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(I=0;16>I;++I)D[I]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=V.g[0],N=V.g[1],I=V.g[2];var O=V.g[3],P=k+(O^N&(I^O))+D[0]+3614090360&4294967295;k=N+(P<<7&4294967295|P>>>25),P=O+(I^k&(N^I))+D[1]+3905402710&4294967295,O=k+(P<<12&4294967295|P>>>20),P=I+(N^O&(k^N))+D[2]+606105819&4294967295,I=O+(P<<17&4294967295|P>>>15),P=N+(k^I&(O^k))+D[3]+3250441966&4294967295,N=I+(P<<22&4294967295|P>>>10),P=k+(O^N&(I^O))+D[4]+4118548399&4294967295,k=N+(P<<7&4294967295|P>>>25),P=O+(I^k&(N^I))+D[5]+1200080426&4294967295,O=k+(P<<12&4294967295|P>>>20),P=I+(N^O&(k^N))+D[6]+2821735955&4294967295,I=O+(P<<17&4294967295|P>>>15),P=N+(k^I&(O^k))+D[7]+4249261313&4294967295,N=I+(P<<22&4294967295|P>>>10),P=k+(O^N&(I^O))+D[8]+1770035416&4294967295,k=N+(P<<7&4294967295|P>>>25),P=O+(I^k&(N^I))+D[9]+2336552879&4294967295,O=k+(P<<12&4294967295|P>>>20),P=I+(N^O&(k^N))+D[10]+4294925233&4294967295,I=O+(P<<17&4294967295|P>>>15),P=N+(k^I&(O^k))+D[11]+2304563134&4294967295,N=I+(P<<22&4294967295|P>>>10),P=k+(O^N&(I^O))+D[12]+1804603682&4294967295,k=N+(P<<7&4294967295|P>>>25),P=O+(I^k&(N^I))+D[13]+4254626195&4294967295,O=k+(P<<12&4294967295|P>>>20),P=I+(N^O&(k^N))+D[14]+2792965006&4294967295,I=O+(P<<17&4294967295|P>>>15),P=N+(k^I&(O^k))+D[15]+1236535329&4294967295,N=I+(P<<22&4294967295|P>>>10),P=k+(I^O&(N^I))+D[1]+4129170786&4294967295,k=N+(P<<5&4294967295|P>>>27),P=O+(N^I&(k^N))+D[6]+3225465664&4294967295,O=k+(P<<9&4294967295|P>>>23),P=I+(k^N&(O^k))+D[11]+643717713&4294967295,I=O+(P<<14&4294967295|P>>>18),P=N+(O^k&(I^O))+D[0]+3921069994&4294967295,N=I+(P<<20&4294967295|P>>>12),P=k+(I^O&(N^I))+D[5]+3593408605&4294967295,k=N+(P<<5&4294967295|P>>>27),P=O+(N^I&(k^N))+D[10]+38016083&4294967295,O=k+(P<<9&4294967295|P>>>23),P=I+(k^N&(O^k))+D[15]+3634488961&4294967295,I=O+(P<<14&4294967295|P>>>18),P=N+(O^k&(I^O))+D[4]+3889429448&4294967295,N=I+(P<<20&4294967295|P>>>12),P=k+(I^O&(N^I))+D[9]+568446438&4294967295,k=N+(P<<5&4294967295|P>>>27),P=O+(N^I&(k^N))+D[14]+3275163606&4294967295,O=k+(P<<9&4294967295|P>>>23),P=I+(k^N&(O^k))+D[3]+4107603335&4294967295,I=O+(P<<14&4294967295|P>>>18),P=N+(O^k&(I^O))+D[8]+1163531501&4294967295,N=I+(P<<20&4294967295|P>>>12),P=k+(I^O&(N^I))+D[13]+2850285829&4294967295,k=N+(P<<5&4294967295|P>>>27),P=O+(N^I&(k^N))+D[2]+4243563512&4294967295,O=k+(P<<9&4294967295|P>>>23),P=I+(k^N&(O^k))+D[7]+1735328473&4294967295,I=O+(P<<14&4294967295|P>>>18),P=N+(O^k&(I^O))+D[12]+2368359562&4294967295,N=I+(P<<20&4294967295|P>>>12),P=k+(N^I^O)+D[5]+4294588738&4294967295,k=N+(P<<4&4294967295|P>>>28),P=O+(k^N^I)+D[8]+2272392833&4294967295,O=k+(P<<11&4294967295|P>>>21),P=I+(O^k^N)+D[11]+1839030562&4294967295,I=O+(P<<16&4294967295|P>>>16),P=N+(I^O^k)+D[14]+4259657740&4294967295,N=I+(P<<23&4294967295|P>>>9),P=k+(N^I^O)+D[1]+2763975236&4294967295,k=N+(P<<4&4294967295|P>>>28),P=O+(k^N^I)+D[4]+1272893353&4294967295,O=k+(P<<11&4294967295|P>>>21),P=I+(O^k^N)+D[7]+4139469664&4294967295,I=O+(P<<16&4294967295|P>>>16),P=N+(I^O^k)+D[10]+3200236656&4294967295,N=I+(P<<23&4294967295|P>>>9),P=k+(N^I^O)+D[13]+681279174&4294967295,k=N+(P<<4&4294967295|P>>>28),P=O+(k^N^I)+D[0]+3936430074&4294967295,O=k+(P<<11&4294967295|P>>>21),P=I+(O^k^N)+D[3]+3572445317&4294967295,I=O+(P<<16&4294967295|P>>>16),P=N+(I^O^k)+D[6]+76029189&4294967295,N=I+(P<<23&4294967295|P>>>9),P=k+(N^I^O)+D[9]+3654602809&4294967295,k=N+(P<<4&4294967295|P>>>28),P=O+(k^N^I)+D[12]+3873151461&4294967295,O=k+(P<<11&4294967295|P>>>21),P=I+(O^k^N)+D[15]+530742520&4294967295,I=O+(P<<16&4294967295|P>>>16),P=N+(I^O^k)+D[2]+3299628645&4294967295,N=I+(P<<23&4294967295|P>>>9),P=k+(I^(N|~O))+D[0]+4096336452&4294967295,k=N+(P<<6&4294967295|P>>>26),P=O+(N^(k|~I))+D[7]+1126891415&4294967295,O=k+(P<<10&4294967295|P>>>22),P=I+(k^(O|~N))+D[14]+2878612391&4294967295,I=O+(P<<15&4294967295|P>>>17),P=N+(O^(I|~k))+D[5]+4237533241&4294967295,N=I+(P<<21&4294967295|P>>>11),P=k+(I^(N|~O))+D[12]+1700485571&4294967295,k=N+(P<<6&4294967295|P>>>26),P=O+(N^(k|~I))+D[3]+2399980690&4294967295,O=k+(P<<10&4294967295|P>>>22),P=I+(k^(O|~N))+D[10]+4293915773&4294967295,I=O+(P<<15&4294967295|P>>>17),P=N+(O^(I|~k))+D[1]+2240044497&4294967295,N=I+(P<<21&4294967295|P>>>11),P=k+(I^(N|~O))+D[8]+1873313359&4294967295,k=N+(P<<6&4294967295|P>>>26),P=O+(N^(k|~I))+D[15]+4264355552&4294967295,O=k+(P<<10&4294967295|P>>>22),P=I+(k^(O|~N))+D[6]+2734768916&4294967295,I=O+(P<<15&4294967295|P>>>17),P=N+(O^(I|~k))+D[13]+1309151649&4294967295,N=I+(P<<21&4294967295|P>>>11),P=k+(I^(N|~O))+D[4]+4149444226&4294967295,k=N+(P<<6&4294967295|P>>>26),P=O+(N^(k|~I))+D[11]+3174756917&4294967295,O=k+(P<<10&4294967295|P>>>22),P=I+(k^(O|~N))+D[2]+718787259&4294967295,I=O+(P<<15&4294967295|P>>>17),P=N+(O^(I|~k))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+k&4294967295,V.g[1]=V.g[1]+(I+(P<<21&4294967295|P>>>11))&4294967295,V.g[2]=V.g[2]+I&4294967295,V.g[3]=V.g[3]+O&4294967295}i.prototype.u=function(V,k){k===void 0&&(k=V.length);for(var N=k-this.blockSize,D=this.B,I=this.h,O=0;O<k;){if(I==0)for(;O<=N;)s(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<k;)if(D[I++]=V.charCodeAt(O++),I==this.blockSize){s(this,D),I=0;break}}else for(;O<k;)if(D[I++]=V[O++],I==this.blockSize){s(this,D),I=0;break}}this.h=I,this.o+=k},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var k=1;k<V.length-8;++k)V[k]=0;var N=8*this.o;for(k=V.length-8;k<V.length;++k)V[k]=N&255,N/=256;for(this.u(V),V=Array(16),k=N=0;4>k;++k)for(var D=0;32>D;D+=8)V[N++]=this.g[k]>>>D&255;return V};function o(V,k){var N=u;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=k(V)}function l(V,k){this.h=k;for(var N=[],D=!0,I=V.length-1;0<=I;I--){var O=V[I]|0;D&&O==k||(N[I]=O,D=!1)}this.g=N}var u={};function h(V){return-128<=V&&128>V?o(V,function(k){return new l([k|0],0>k?-1:0)}):new l([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return x;if(0>V)return C(m(-V));for(var k=[],N=1,D=0;V>=N;D++)k[D]=V/N|0,N*=4294967296;return new l(k,0)}function p(V,k){if(V.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(V.charAt(0)=="-")return C(p(V.substring(1),k));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(k,8)),D=x,I=0;I<V.length;I+=8){var O=Math.min(8,V.length-I),P=parseInt(V.substring(I,I+O),k);8>O?(O=m(Math.pow(k,O)),D=D.j(O).add(m(P))):(D=D.j(N),D=D.add(m(P)))}return D}var x=h(0),b=h(1),_=h(16777216);t=l.prototype,t.m=function(){if(R(this))return-C(this).m();for(var V=0,k=1,N=0;N<this.g.length;N++){var D=this.i(N);V+=(0<=D?D:4294967296+D)*k,k*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(A(this))return"0";if(R(this))return"-"+C(this).toString(V);for(var k=m(Math.pow(V,6)),N=this,D="";;){var I=G(N,k).g;N=L(N,I.j(k));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=I,A(N))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function A(V){if(V.h!=0)return!1;for(var k=0;k<V.g.length;k++)if(V.g[k]!=0)return!1;return!0}function R(V){return V.h==-1}t.l=function(V){return V=L(this,V),R(V)?-1:A(V)?0:1};function C(V){for(var k=V.g.length,N=[],D=0;D<k;D++)N[D]=~V.g[D];return new l(N,~V.h).add(b)}t.abs=function(){return R(this)?C(this):this},t.add=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],D=0,I=0;I<=k;I++){var O=D+(this.i(I)&65535)+(V.i(I)&65535),P=(O>>>16)+(this.i(I)>>>16)+(V.i(I)>>>16);D=P>>>16,O&=65535,P&=65535,N[I]=P<<16|O}return new l(N,N[N.length-1]&-2147483648?-1:0)};function L(V,k){return V.add(C(k))}t.j=function(V){if(A(this)||A(V))return x;if(R(this))return R(V)?C(this).j(C(V)):C(C(this).j(V));if(R(V))return C(this.j(C(V)));if(0>this.l(_)&&0>V.l(_))return m(this.m()*V.m());for(var k=this.g.length+V.g.length,N=[],D=0;D<2*k;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<V.g.length;I++){var O=this.i(D)>>>16,P=this.i(D)&65535,X=V.i(I)>>>16,se=V.i(I)&65535;N[2*D+2*I]+=P*se,U(N,2*D+2*I),N[2*D+2*I+1]+=O*se,U(N,2*D+2*I+1),N[2*D+2*I+1]+=P*X,U(N,2*D+2*I+1),N[2*D+2*I+2]+=O*X,U(N,2*D+2*I+2)}for(D=0;D<k;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=k;D<2*k;D++)N[D]=0;return new l(N,0)};function U(V,k){for(;(V[k]&65535)!=V[k];)V[k+1]+=V[k]>>>16,V[k]&=65535,k++}function F(V,k){this.g=V,this.h=k}function G(V,k){if(A(k))throw Error("division by zero");if(A(V))return new F(x,x);if(R(V))return k=G(C(V),k),new F(C(k.g),C(k.h));if(R(k))return k=G(V,C(k)),new F(C(k.g),k.h);if(30<V.g.length){if(R(V)||R(k))throw Error("slowDivide_ only works with positive integers.");for(var N=b,D=k;0>=D.l(V);)N=Q(N),D=Q(D);var I=te(N,1),O=te(D,1);for(D=te(D,2),N=te(N,2);!A(D);){var P=O.add(D);0>=P.l(V)&&(I=I.add(N),O=P),D=te(D,1),N=te(N,1)}return k=L(V,I.j(k)),new F(I,k)}for(I=x;0<=V.l(k);){for(N=Math.max(1,Math.floor(V.m()/k.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=m(N),P=O.j(k);R(P)||0<P.l(V);)N-=D,O=m(N),P=O.j(k);A(O)&&(O=b),I=I.add(O),V=L(V,P)}return new F(I,V)}t.A=function(V){return G(this,V).h},t.and=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],D=0;D<k;D++)N[D]=this.i(D)&V.i(D);return new l(N,this.h&V.h)},t.or=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],D=0;D<k;D++)N[D]=this.i(D)|V.i(D);return new l(N,this.h|V.h)},t.xor=function(V){for(var k=Math.max(this.g.length,V.g.length),N=[],D=0;D<k;D++)N[D]=this.i(D)^V.i(D);return new l(N,this.h^V.h)};function Q(V){for(var k=V.g.length+1,N=[],D=0;D<k;D++)N[D]=V.i(D)<<1|V.i(D-1)>>>31;return new l(N,V.h)}function te(V,k){var N=k>>5;k%=32;for(var D=V.g.length-N,I=[],O=0;O<D;O++)I[O]=0<k?V.i(O+N)>>>k|V.i(O+N+1)<<32-k:V.i(O+N);return new l(I,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,q5=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=p,ua=l}).apply(typeof Q_<"u"?Q_:typeof self<"u"?self:typeof window<"u"?window:{});var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $5,Fu,G5,dm,Jy,W5,Y5,K5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,T){return g==Array.prototype||g==Object.prototype||(g[w]=T.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Df=="object"&&Df];for(var w=0;w<g.length;++w){var T=g[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function s(g,w){if(w)e:{var T=i;g=g.split(".");for(var M=0;M<g.length-1;M++){var W=g[M];if(!(W in T))break e;T=T[W]}g=g[g.length-1],M=T[g],w=w(M),w!=M&&w!=null&&e(T,g,{configurable:!0,writable:!0,value:w})}}function o(g,w){g instanceof String&&(g+="");var T=0,M=!1,W={next:function(){if(!M&&T<g.length){var ne=T++;return{value:w(ne,g[ne]),done:!1}}return M=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(g){return g||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function m(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function p(g,w,T){return g.call.apply(g.bind,arguments)}function x(g,w,T){if(!g)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,M),g.apply(w,W)}}return function(){return g.apply(w,arguments)}}function b(g,w,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:x,b.apply(null,arguments)}function _(g,w){var T=Array.prototype.slice.call(arguments,1);return function(){var M=T.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function A(g,w){function T(){}T.prototype=w.prototype,g.aa=w.prototype,g.prototype=new T,g.prototype.constructor=g,g.Qb=function(M,W,ne){for(var de=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)de[Fe-2]=arguments[Fe];return w.prototype[W].apply(M,de)}}function R(g){const w=g.length;if(0<w){const T=Array(w);for(let M=0;M<w;M++)T[M]=g[M];return T}return[]}function C(g,w){for(let T=1;T<arguments.length;T++){const M=arguments[T];if(h(M)){const W=g.length||0,ne=M.length||0;g.length=W+ne;for(let de=0;de<ne;de++)g[W+de]=M[de]}else g.push(M)}}class L{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function U(g){return/^[\s\xa0]*$/.test(g)}function F(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function G(g){return G[" "](g),g}G[" "]=function(){};var Q=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function te(g,w,T){for(const M in g)w.call(T,g[M],M,g)}function V(g,w){for(const T in g)w.call(void 0,g[T],T,g)}function k(g){const w={};for(const T in g)w[T]=g[T];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(g,w){let T,M;for(let W=1;W<arguments.length;W++){M=arguments[W];for(T in M)g[T]=M[T];for(let ne=0;ne<N.length;ne++)T=N[ne],Object.prototype.hasOwnProperty.call(M,T)&&(g[T]=M[T])}}function I(g){var w=1;g=g.split(":");const T=[];for(;0<w&&g.length;)T.push(g.shift()),w--;return g.length&&T.push(g.join(":")),T}function O(g){u.setTimeout(()=>{throw g},0)}function P(){var g=fe;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class X{constructor(){this.h=this.g=null}add(w,T){const M=se.get();M.set(w,T),this.h?this.h.next=M:this.g=M,this.h=M}}var se=new L(()=>new z,g=>g.reset());class z{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,le=!1,fe=new X,ue=()=>{const g=u.Promise.resolve(void 0);$=()=>{g.then(ve)}};var ve=()=>{for(var g;g=P();){try{g.h.call(g.g)}catch(T){O(T)}var w=se;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}le=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ke=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return g})();function $e(g,w){if(he.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var T=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(Q){e:{try{G(w.nodeName);var W=!0;break e}catch{}W=!1}W||(w=null)}}else T=="mouseover"?w=g.fromElement:T=="mouseout"&&(w=g.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Be[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&$e.aa.h.call(this)}}A($e,he);var Be={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function ut(g,w,T,M,W){this.listener=g,this.proxy=null,this.src=w,this.type=T,this.capture=!!M,this.ha=W,this.key=++Nt,this.da=this.fa=!1}function nn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Wt(g){this.src=g,this.g={},this.h=0}Wt.prototype.add=function(g,w,T,M,W){var ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);var de=jt(g,w,M,W);return-1<de?(w=g[de],T||(w.fa=!1)):(w=new ut(w,this.src,ne,!!M,W),w.fa=T,g.push(w)),w};function An(g,w){var T=w.type;if(T in g.g){var M=g.g[T],W=Array.prototype.indexOf.call(M,w,void 0),ne;(ne=0<=W)&&Array.prototype.splice.call(M,W,1),ne&&(nn(w),g.g[T].length==0&&(delete g.g[T],g.h--))}}function jt(g,w,T,M){for(var W=0;W<g.length;++W){var ne=g[W];if(!ne.da&&ne.listener==w&&ne.capture==!!T&&ne.ha==M)return W}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),Nn={};function hn(g,w,T,M,W){if(Array.isArray(w)){for(var ne=0;ne<w.length;ne++)hn(g,w[ne],T,M,W);return null}return T=qo(T),g&&g[At]?g.K(w,T,m(M)?!!M.capture:!1,W):fn(g,w,T,!1,M,W)}function fn(g,w,T,M,W,ne){if(!w)throw Error("Invalid event type");var de=m(W)?!!W.capture:!!W,Fe=Ds(g);if(Fe||(g[Ge]=Fe=new Wt(g)),T=Fe.add(w,T,M,de,ne),T.proxy)return T;if(M=Ho(),T.proxy=M,M.src=g,M.listener=T,g.addEventListener)ke||(W=de),W===void 0&&(W=!1),g.addEventListener(w.toString(),M,W);else if(g.attachEvent)g.attachEvent(Rs(w.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ho(){function g(T){return w.call(g.src,g.listener,T)}const w=Mc;return g}function Sr(g,w,T,M,W){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)Sr(g,w[ne],T,M,W);else M=m(M)?!!M.capture:!!M,T=qo(T),g&&g[At]?(g=g.i,w=String(w).toString(),w in g.g&&(ne=g.g[w],T=jt(ne,T,M,W),-1<T&&(nn(ne[T]),Array.prototype.splice.call(ne,T,1),ne.length==0&&(delete g.g[w],g.h--)))):g&&(g=Ds(g))&&(w=g.g[w.toString()],g=-1,w&&(g=jt(w,T,M,W)),(T=-1<g?w[g]:null)&&Er(T))}function Er(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[At])An(w.i,g);else{var T=g.type,M=g.proxy;w.removeEventListener?w.removeEventListener(T,M,g.capture):w.detachEvent?w.detachEvent(Rs(T),M):w.addListener&&w.removeListener&&w.removeListener(M),(T=Ds(w))?(An(T,g),T.h==0&&(T.src=null,w[Ge]=null)):nn(g)}}}function Rs(g){return g in Nn?Nn[g]:Nn[g]="on"+g}function Mc(g,w){if(g.da)g=!0;else{w=new $e(w,this);var T=g.listener,M=g.ha||g.src;g.fa&&Er(g),g=T.call(M,w)}return g}function Ds(g){return g=g[Ge],g instanceof Wt?g:null}var Na="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(g){return typeof g=="function"?g:(g[Na]||(g[Na]=function(w){return g.handleEvent(w)}),g[Na])}function xt(){xe.call(this),this.i=new Wt(this),this.M=this,this.F=null}A(xt,xe),xt.prototype[At]=!0,xt.prototype.removeEventListener=function(g,w,T,M){Sr(this,g,w,T,M)};function Qe(g,w){var T,M=g.F;if(M)for(T=[];M;M=M.F)T.push(M);if(g=g.M,M=w.type||w,typeof w=="string")w=new he(w,g);else if(w instanceof he)w.target=w.target||g;else{var W=w;w=new he(M,g),D(w,W)}if(W=!0,T)for(var ne=T.length-1;0<=ne;ne--){var de=w.g=T[ne];W=Ln(de,M,!0,w)&&W}if(de=w.g=g,W=Ln(de,M,!0,w)&&W,W=Ln(de,M,!1,w)&&W,T)for(ne=0;ne<T.length;ne++)de=w.g=T[ne],W=Ln(de,M,!1,w)&&W}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var T=g.g[w],M=0;M<T.length;M++)nn(T[M]);delete g.g[w],g.h--}}this.F=null},xt.prototype.K=function(g,w,T,M){return this.i.add(String(g),w,!1,T,M)},xt.prototype.L=function(g,w,T,M){return this.i.add(String(g),w,!0,T,M)};function Ln(g,w,T,M){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var W=!0,ne=0;ne<w.length;++ne){var de=w[ne];if(de&&!de.da&&de.capture==T){var Fe=de.listener,Yt=de.ha||de.src;de.fa&&An(g.i,de),W=Fe.call(Yt,M)!==!1&&W}}return W&&!M.defaultPrevented}function Ut(g,w,T){if(typeof g=="function")T&&(g=b(g,T));else if(g&&typeof g.handleEvent=="function")g=b(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(g,w||0)}function ja(g){g.g=Ut(()=>{g.g=null,g.i&&(g.i=!1,ja(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class $o extends xe{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ja(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(g){xe.call(this),this.h=g,this.g={}}A(Ms,xe);var oi=[];function Ki(g){te(g.g,function(w,T){this.g.hasOwnProperty(T)&&Er(w)},g),g.g={}}Ms.prototype.N=function(){Ms.aa.N.call(this),Ki(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=u.JSON.stringify,Is=u.JSON.parse,Xi=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Os(){}Os.prototype.h=null;function Ca(g){return g.h||(g.h=g.i())}function kr(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){he.call(this,"d")}A(li,he);function Bt(){he.call(this,"c")}A(Bt,he);var gt={},Qi=null;function Ye(){return Qi=Qi||new xt}gt.La="serverreachability";function mn(g){he.call(this,gt.La,g)}A(mn,he);function Zi(g){const w=Ye();Qe(w,new mn(w))}gt.STAT_EVENT="statevent";function Ar(g,w){he.call(this,gt.STAT_EVENT,g),this.stat=w}A(Ar,he);function dt(g){const w=Ye();Qe(w,new Ar(w,g))}gt.Ma="timingevent";function Ct(g,w){he.call(this,gt.Ma,g),this.size=w}A(Ct,he);function vt(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},w)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Ps(g,w,T,M,W,ne){g.info(function(){if(g.g)if(ne)for(var de="",Fe=ne.split("&"),Yt=0;Yt<Fe.length;Yt++){var ze=Fe[Yt].split("=");if(1<ze.length){var an=ze[0];ze=ze[1];var Kt=an.split("_");de=2<=Kt.length&&Kt[1]=="type"?de+(an+"="+ze+"&"):de+(an+"=redacted&")}}else de=null;else de=ne;return"XMLHTTP REQ ("+M+") [attempt "+W+"]: "+w+`
`+T+`
`+de})}function Ra(g,w,T,M,W,ne,de){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+W+"]: "+w+`
`+T+`
`+ne+" "+de})}function ci(g,w,T,M){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+Mi(g,T)+(M?" "+M:"")})}function Go(g,w){g.info(function(){return"TIMEOUT: "+w})}gn.prototype.info=function(){};function Mi(g,w){if(!g.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(g=0;g<T.length;g++)if(Array.isArray(T[g])){var M=T[g];if(!(2>M.length)){var W=M[1];if(Array.isArray(W)&&!(1>W.length)){var ne=W[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var de=1;de<W.length;de++)W[de]=""}}}}return Zn(T)}catch{return w}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function Ae(){}A(Ae,Os),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},ui=new Ae;function Me(g,w,T,M){this.j=g,this.i=w,this.l=T,this.R=M||1,this.U=new Ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var pn={},sn={};function Un(g,w,T){g.L=1,g.v=Pa(Jn(w)),g.m=T,g.P=!0,Pi(g,null)}function Pi(g,w){g.F=Date.now(),Da(g),g.A=Jn(g.v);var T=g.A,M=g.R;Array.isArray(M)||(M=[String(M)]),Uc(T.i,"t",M),g.C=0,T=g.j.J,g.h=new Re,g.g=kh(g.j,T?w:null,!g.m),0<g.O&&(g.M=new $o(b(g.Y,g,g.g),g.O)),w=g.U,T=g.g,M=g.ca;var W="readystatechange";Array.isArray(W)||(W&&(oi[0]=W.toString()),W=oi);for(var ne=0;ne<W.length;ne++){var de=hn(T,W[ne],M||w.handleEvent,!1,w.h||w);if(!de)break;w.g[de.key]=de}w=g.H?k(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),Zi(),Ps(g.i,g.u,g.A,g.l,g.R,g.m)}Me.prototype.ca=function(g){g=g.target;const w=this.M;w&&mi(g)==3?w.j():this.Y(g)},Me.prototype.Y=function(g){try{if(g==this.g)e:{const Kt=mi(this.g);var w=this.g.Ba();const qs=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||xh(this.g)))){this.J||Kt!=4||w==7||(w==8||0>=qs?Zi(3):Zi(2)),Nr(this);var T=this.g.Z();this.X=T;t:if(Wo(this)){var M=xh(this.g);g="";var W=M.length,ne=mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Ji(this);var de="";break t}this.h.i=new u.TextDecoder}for(w=0;w<W;w++)this.h.h=!0,g+=this.h.i.decode(M[w],{stream:!(ne&&w==W-1)});M.length=0,this.h.g+=g,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=T==200,Ra(this.i,this.u,this.A,this.l,this.R,Kt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Yt=this.g;if((Fe=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Fe)){var ze=Fe;break t}}ze=null}if(T=ze)ci(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ma(this,T);else{this.o=!1,this.s=3,dt(12),yn(this),Ji(this);break e}}if(this.P){T=!0;let xn;for(;!this.J&&this.C<de.length;)if(xn=hh(this,de),xn==sn){Kt==4&&(this.s=4,dt(14),T=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==pn){this.s=4,dt(15),ci(this.i,this.l,de,"[Invalid Chunk]"),T=!1;break}else ci(this.i,this.l,xn,null),Ma(this,xn);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||de.length!=0||this.h.h||(this.s=1,dt(16),T=!1),this.o=this.o&&T,!T)ci(this.i,this.l,de,"[Invalid Chunked Response]"),yn(this),Ji(this);else if(0<de.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),qa(an),an.M=!0,dt(11))}}else ci(this.i,this.l,de,null),Ma(this,de);Kt==4&&yn(this),this.o&&!this.J&&(Kt==4?Th(this.j,this):(this.o=!1,Da(this)))}else Kg(this.g),T==400&&0<de.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),yn(this),Ji(this)}}}catch{}finally{}};function Wo(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function hh(g,w){var T=g.C,M=w.indexOf(`
`,T);return M==-1?sn:(T=Number(w.substring(T,M)),isNaN(T)?pn:(M+=1,M+T>w.length?sn:(w=w.slice(M,M+T),g.C=M+T,w)))}Me.prototype.cancel=function(){this.J=!0,yn(this)};function Da(g){g.S=Date.now()+g.I,fh(g,g.I)}function fh(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=vt(b(g.ba,g),w)}function Nr(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Me.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Go(this.i,this.A),this.L!=2&&(Zi(),dt(17)),yn(this),this.s=2,Ji(this)):fh(this,this.S-g)};function Ji(g){g.j.G==0||g.J||Th(g.j,g)}function yn(g){Nr(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,Ki(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function Ma(g,w){try{var T=g.j;if(T.G!=0&&(T.g==g||Ic(T.h,g))){if(!g.K&&Ic(T.h,g)&&T.G==3){try{var M=T.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var W=M;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<g.F)rl(T),il(T);else break e;qc(T),dt(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=vt(b(T.Za,T),6e3));if(1>=Ko(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Hs(T,11)}else if((g.K||T.g==g)&&rl(T),!U(w))for(W=T.Da.g.parse(w),w=0;w<W.length;w++){let ze=W[w];if(T.T=ze[0],ze=ze[1],T.G==2)if(ze[0]=="c"){T.K=ze[1],T.ia=ze[2];const an=ze[3];an!=null&&(T.la=an,T.j.info("VER="+T.la));const Kt=ze[4];Kt!=null&&(T.Aa=Kt,T.j.info("SVER="+T.Aa));const qs=ze[5];qs!=null&&typeof qs=="number"&&0<qs&&(M=1.5*qs,T.L=M,T.j.info("backChannelRequestTimeoutMs_="+M)),M=T;const xn=g.g;if(xn){const as=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(as){var ne=M.h;ne.g||as.indexOf("spdy")==-1&&as.indexOf("quic")==-1&&as.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Xo(ne,ne.h),ne.h=null))}if(M.D){const Gc=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gc&&(M.ya=Gc,at(M.I,M.D,Gc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-g.F,T.j.info("Handshake RTT: "+T.R+"ms")),M=T;var de=g;if(M.qa=Eh(M,M.J?M.ia:null,M.W),de.K){Bn(M.h,de);var Fe=de,Yt=M.L;Yt&&(Fe.I=Yt),Fe.B&&(Nr(Fe),Da(Fe)),M.g=de}else wh(M);0<T.i.length&&sl(T)}else ze[0]!="stop"&&ze[0]!="close"||Hs(T,7);else T.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Hs(T,7):zc(T):ze[0]!="noop"&&T.l&&T.l.ta(ze),T.v=0)}}Zi(4)}catch{}}var mh=class{constructor(g,w){this.g=g,this.map=w}};function Vs(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yo(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ko(g){return g.h?1:g.g?g.g.size:0}function Ic(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Xo(g,w){g.g?g.g.add(w):g.h=w}function Bn(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}Vs.prototype.cancel=function(){if(this.i=Oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Oc(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const T of g.g.values())w=w.concat(T.D);return w}return R(g.i)}function $g(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(h(g)){for(var w=[],T=g.length,M=0;M<T;M++)w.push(g[M]);return w}w=[],T=0;for(M in g)w[T++]=g[M];return w}function Qo(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(h(g)||typeof g=="string"){var w=[];g=g.length;for(var T=0;T<g;T++)w.push(T);return w}w=[],T=0;for(const M in g)w[T++]=M;return w}}}function Pc(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(h(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var T=Qo(g),M=$g(g),W=M.length,ne=0;ne<W;ne++)w.call(void 0,M[ne],T&&T[ne],g)}var Ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gg(g,w){if(g){g=g.split("&");for(var T=0;T<g.length;T++){var M=g[T].indexOf("="),W=null;if(0<=M){var ne=g[T].substring(0,M);W=g[T].substring(M+1)}else ne=g[T];w(ne,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ft(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ft){this.h=g.h,Oa(this,g.j),this.o=g.o,this.g=g.g,jr(this,g.s),this.l=g.l;var w=g.i,T=new Us;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Ls(this,T),this.m=g.m}else g&&(w=String(g).match(Ia))?(this.h=!1,Oa(this,w[1]||"",!0),this.o=di(w[2]||""),this.g=di(w[3]||"",!0),jr(this,w[4]),this.l=di(w[5]||"",!0),Ls(this,w[6]||"",!0),this.m=di(w[7]||"")):(this.h=!1,this.i=new Us(null,this.h))}Ft.prototype.toString=function(){var g=[],w=this.j;w&&g.push(Va(w,Vc,!0),":");var T=this.g;return(T||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Va(w,Vc,!0),"@"),g.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&g.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(Va(T,T.charAt(0)=="/"?Wg:Lc,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",Va(T,Zo)),g.join("")};function Jn(g){return new Ft(g)}function Oa(g,w,T){g.j=T?di(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function jr(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function Ls(g,w,T){w instanceof Us?(g.i=w,ph(g.i,g.h)):(T||(w=Va(w,Yg)),g.i=new Us(w,g.h))}function at(g,w,T){g.i.set(w,T)}function Pa(g){return at(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function di(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Va(g,w,T){return typeof g=="string"?(g=encodeURI(g).replace(w,gh),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function gh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Vc=/[#\/\?@]/g,Lc=/[#\?:]/g,Wg=/[#\?]/g,Yg=/[#\?@]/g,Zo=/#/g;function Us(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function hi(g){g.g||(g.g=new Map,g.h=0,g.i&&Gg(g.i,function(w,T){g.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Us.prototype,t.add=function(g,w){hi(this),this.i=null,g=es(this,g);var T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(w),this.h+=1,this};function Bs(g,w){hi(g),w=es(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function Fs(g,w){return hi(g),w=es(g,w),g.g.has(w)}t.forEach=function(g,w){hi(this),this.g.forEach(function(T,M){T.forEach(function(W){g.call(w,W,M,this)},this)},this)},t.na=function(){hi(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let M=0;M<w.length;M++){const W=g[M];for(let ne=0;ne<W.length;ne++)T.push(w[M])}return T},t.V=function(g){hi(this);let w=[];if(typeof g=="string")Fs(this,g)&&(w=w.concat(this.g.get(es(this,g))));else{g=Array.from(this.g.values());for(let T=0;T<g.length;T++)w=w.concat(g[T])}return w},t.set=function(g,w){return hi(this),this.i=null,g=es(this,g),Fs(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function Uc(g,w,T){Bs(g,w),0<T.length&&(g.i=null,g.g.set(es(g,w),R(T)),g.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var M=w[T];const ne=encodeURIComponent(String(M)),de=this.V(M);for(M=0;M<de.length;M++){var W=ne;de[M]!==""&&(W+="="+encodeURIComponent(String(de[M]))),g.push(W)}}return this.i=g.join("&")};function es(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function ph(g,w){w&&!g.j&&(hi(g),g.i=null,g.g.forEach(function(T,M){var W=M.toLowerCase();M!=W&&(Bs(this,M),Uc(this,W,T))},g)),g.j=w}function La(g,w){const T=new gn;if(u.Image){const M=new Image;M.onload=_(fi,T,"TestLoadImage: loaded",!0,w,M),M.onerror=_(fi,T,"TestLoadImage: error",!1,w,M),M.onabort=_(fi,T,"TestLoadImage: abort",!1,w,M),M.ontimeout=_(fi,T,"TestLoadImage: timeout",!1,w,M),u.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else w(!1)}function Vi(g,w){const T=new gn,M=new AbortController,W=setTimeout(()=>{M.abort(),fi(T,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:M.signal}).then(ne=>{clearTimeout(W),ne.ok?fi(T,"TestPingServer: ok",!0,w):fi(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),fi(T,"TestPingServer: error",!1,w)})}function fi(g,w,T,M,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),M(T)}catch{}}function Ua(){this.g=new Xi}function ts(g,w,T){const M=T||"";try{Pc(g,function(W,ne){let de=W;m(W)&&(de=Zn(W)),w.push(M+ne+"="+encodeURIComponent(de))})}catch(W){throw w.push(M+"type="+encodeURIComponent("_badmap")),W}}function Cr(g){this.l=g.Ub||null,this.j=g.eb||!1}A(Cr,Os),Cr.prototype.g=function(){return new zs(this.l,this.j)},Cr.prototype.i=(function(g){return function(){return g}})({});function zs(g,w){xt.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(zs,xt),t=zs.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,is(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?ns(this):is(this),this.readyState==3&&Bc(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ns(this))},t.Qa=function(g){this.g&&(this.response=g,ns(this))},t.ga=function(){this.g&&ns(this)};function ns(g){g.readyState=4,g.l=null,g.j=null,g.v=null,is(g)}t.setRequestHeader=function(g,w){this.u.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=w.next();return g.join(`\r
`)};function is(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Fc(g){let w="";return te(g,function(T,M){w+=M,w+=":",w+=T,w+=`\r
`}),w}function rn(g,w,T){e:{for(M in T){var M=!1;break e}M=!0}M||(T=Fc(T),typeof g=="string"?T!=null&&encodeURIComponent(String(T)):at(g,w,T))}function et(g){xt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(et,xt);var Jo=/^https?$/i,Ba=["POST","PUT"];t=et.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,w,T,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?Ca(this.o):Ca(ui),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ne){yh(this,ne);return}if(g=T||"",T=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var W in M)T.set(W,M[W]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ne of M.keys())T.set(ne,M.get(ne));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),W=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ba,w,void 0))||M||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,de]of T)this.g.setRequestHeader(ne,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(g),this.u=!1}catch(ne){yh(this,ne)}};function yh(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,el(g),ss(g)}function el(g){g.A||(g.A=!0,Qe(g,"complete"),Qe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Qe(this,"complete"),Qe(this,"abort"),ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tl(this):this.bb())},t.bb=function(){tl(this)};function tl(g){if(g.h&&typeof l<"u"&&(!g.v[1]||mi(g)!=4||g.Z()!=2)){if(g.u&&mi(g)==4)Ut(g.Ea,0,g);else if(Qe(g,"readystatechange"),mi(g)==4){g.h=!1;try{const de=g.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var M;if(M=de===0){var W=String(g.D).match(Ia)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),M=!Jo.test(W?W.toLowerCase():"")}T=M}if(T)Qe(g,"complete"),Qe(g,"success");else{g.m=6;try{var ne=2<mi(g)?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.Z()+"]",el(g)}}finally{ss(g)}}}}function ss(g,w){if(g.g){Fa(g);const T=g.g,M=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||Qe(g,"ready");try{T.onreadystatechange=M}catch{}}}function Fa(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function mi(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<mi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),Is(w)}};function xh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Kg(g){const w={};g=(g.g&&2<=mi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(U(g[M]))continue;var T=I(g[M]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=w[W]||[];w[W]=ne,ne.push(T)}V(w,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(g,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||w}function nl(g){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,g),this.cb=za("retryDelaySeedMs",1e4,g),this.Wa=za("forwardChannelMaxRetries",2,g),this.wa=za("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Vs(g&&g.concurrentRequestLimit),this.Da=new Ua,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nl.prototype,t.la=8,t.G=1,t.connect=function(g,w,T,M){dt(0),this.W=g,this.H=w||{},T&&M!==void 0&&(this.H.OSID=T,this.H.OAID=M),this.F=this.X,this.I=Eh(this,null,this.W),sl(this)};function zc(g){if(vh(g),g.G==3){var w=g.U++,T=Jn(g.I);if(at(T,"SID",g.K),at(T,"RID",w),at(T,"TYPE","terminate"),Ha(g,T),w=new Me(g,g.j,w),w.L=2,w.v=Pa(Jn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.v,T=!0),T||(w.g=kh(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Da(w)}Sh(g)}function il(g){g.g&&(qa(g),g.g.cancel(),g.g=null)}function vh(g){il(g),g.u&&(u.clearTimeout(g.u),g.u=null),rl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function sl(g){if(!Yo(g.h)&&!g.s){g.s=!0;var w=g.Ga;$||ue(),le||($(),le=!0),fe.add(w,g),g.B=0}}function Xg(g,w){return Ko(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=vt(b(g.Ga,g,w),$c(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const W=new Me(this,this.j,g);let ne=this.o;if(this.S&&(ne?(ne=k(ne),D(ne,this.S)):ne=this.S),this.m!==null||this.O||(W.H=ne,ne=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var M=this.i[T];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=bh(this,W,w),T=Jn(this.I),at(T,"RID",g),at(T,"CVER",22),this.D&&at(T,"X-HTTP-Session-Id",this.D),Ha(this,T),ne&&(this.O?w="headers="+encodeURIComponent(String(Fc(ne)))+"&"+w:this.m&&rn(T,this.m,ne)),Xo(this.h,W),this.Ua&&at(T,"TYPE","init"),this.P?(at(T,"$req",w),at(T,"SID","null"),W.T=!0,Un(W,T,null)):Un(W,T,w),this.G=2}}else this.G==3&&(g?Hc(this,g):this.i.length==0||Yo(this.h)||Hc(this))};function Hc(g,w){var T;w?T=w.l:T=g.U++;const M=Jn(g.I);at(M,"SID",g.K),at(M,"RID",T),at(M,"AID",g.T),Ha(g,M),g.m&&g.o&&rn(M,g.m,g.o),T=new Me(g,g.j,T,g.B+1),g.m===null&&(T.H=g.o),w&&(g.i=w.D.concat(g.i)),w=bh(g,T,1e3),T.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Xo(g.h,T),Un(T,M,w)}function Ha(g,w){g.H&&te(g.H,function(T,M){at(w,M,T)}),g.l&&Pc({},function(T,M){at(w,M,T)})}function bh(g,w,T){T=Math.min(g.i.length,T);var M=g.l?b(g.l.Na,g.l,g):null;e:{var W=g.i;let ne=-1;for(;;){const de=["count="+T];ne==-1?0<T?(ne=W[0].g,de.push("ofs="+ne)):ne=0:de.push("ofs="+ne);let Fe=!0;for(let Yt=0;Yt<T;Yt++){let ze=W[Yt].g;const an=W[Yt].map;if(ze-=ne,0>ze)ne=Math.max(0,W[Yt].g-100),Fe=!1;else try{ts(an,de,"req"+ze+"_")}catch{M&&M(an)}}if(Fe){M=de.join("&");break e}}}return g=g.i.splice(0,T),w.D=g,M}function wh(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;$||ue(),le||($(),le=!0),fe.add(w,g),g.v=0}}function qc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=vt(b(g.Fa,g),$c(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,_h(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=vt(b(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),il(this),_h(this))};function qa(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function _h(g){g.g=new Me(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Jn(g.qa);at(w,"RID","rpc"),at(w,"SID",g.K),at(w,"AID",g.T),at(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&at(w,"TO",g.ja),at(w,"TYPE","xmlhttp"),Ha(g,w),g.m&&g.o&&rn(w,g.m,g.o),g.L&&(g.g.I=g.L);var T=g.g;g=g.ia,T.L=1,T.v=Pa(Jn(w)),T.m=null,T.P=!0,Pi(T,g)}t.Za=function(){this.C!=null&&(this.C=null,il(this),qc(this),dt(19))};function rl(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Th(g,w){var T=null;if(g.g==w){rl(g),qa(g),g.g=null;var M=2}else if(Ic(g.h,w))T=w.D,Bn(g.h,w),M=1;else return;if(g.G!=0){if(w.o)if(M==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var W=g.B;M=Ye(),Qe(M,new Ct(M,T)),sl(g)}else wh(g);else if(W=w.s,W==3||W==0&&0<w.X||!(M==1&&Xg(g,w)||M==2&&qc(g)))switch(T&&0<T.length&&(w=g.h,w.i=w.i.concat(T)),W){case 1:Hs(g,5);break;case 4:Hs(g,10);break;case 3:Hs(g,6);break;default:Hs(g,2)}}}function $c(g,w){let T=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(T*=2),T*w}function Hs(g,w){if(g.j.info("Error code "+w),w==2){var T=b(g.fb,g),M=g.Xa;const W=!M;M=new Ft(M||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Oa(M,"https"),Pa(M),W?La(M.toString(),T):Vi(M.toString(),T)}else dt(2);g.G=0,g.l&&g.l.sa(w),Sh(g),vh(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Sh(g){if(g.G=0,g.ka=[],g.l){const w=Oc(g.h);(w.length!=0||g.i.length!=0)&&(C(g.ka,w),C(g.ka,g.i),g.h.i.length=0,R(g.i),g.i.length=0),g.l.ra()}}function Eh(g,w,T){var M=T instanceof Ft?Jn(T):new Ft(T);if(M.g!="")w&&(M.g=w+"."+M.g),jr(M,M.s);else{var W=u.location;M=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;var ne=new Ft(null);M&&Oa(ne,M),w&&(ne.g=w),W&&jr(ne,W),T&&(ne.l=T),M=ne}return T=g.D,w=g.ya,T&&w&&at(M,T,w),at(M,"VER",g.la),Ha(g,M),M}function kh(g,w,T){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new et(new Cr({eb:T})):new et(g.pa),w.Ha(g.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ah(){}t=Ah.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function al(){}al.prototype.g=function(g,w){return new Fn(g,w)};function Fn(g,w){xt.call(this),this.g=new nl(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!U(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!U(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new rs(this)}A(Fn,xt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){zc(this.g)},Fn.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.u&&(T={},T.__data__=Zn(g),g=T);w.i.push(new mh(w.Ya++,g)),w.G==3&&sl(w)},Fn.prototype.N=function(){this.g.l=null,delete this.j,zc(this.g),delete this.g,Fn.aa.N.call(this)};function Nh(g){li.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const T in w){g=T;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}A(Nh,li);function jh(){Bt.call(this),this.status=1}A(jh,Bt);function rs(g){this.g=g}A(rs,Ah),rs.prototype.ua=function(){Qe(this.g,"a")},rs.prototype.ta=function(g){Qe(this.g,new Nh(g))},rs.prototype.sa=function(g){Qe(this.g,new jh)},rs.prototype.ra=function(){Qe(this.g,"b")},al.prototype.createWebChannel=al.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,K5=function(){return new al},Y5=function(){return Ye()},W5=gt,Jy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,dm=Ii,Oi.COMPLETE="complete",G5=Oi,kr.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Fu=kr,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,$5=et}).apply(typeof Df<"u"?Df:typeof self<"u"?self:typeof window<"u"?window:{});const Z_="@firebase/firestore",J_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new ov("@firebase/firestore");function Vl(){return Mo.logLevel}function me(t,...e){if(Mo.logLevel<=Ve.DEBUG){const n=e.map(wv);Mo.debug(`Firestore (${bc}): ${t}`,...n)}}function pr(t,...e){if(Mo.logLevel<=Ve.ERROR){const n=e.map(wv);Mo.error(`Firestore (${bc}): ${t}`,...n)}}function sc(t,...e){if(Mo.logLevel<=Ve.WARN){const n=e.map(wv);Mo.warn(`Firestore (${bc}): ${t}`,...n)}}function wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,X5(t,i,n)}function X5(t,e,n){let i=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw pr(i),new Error(i)}function nt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||X5(e,s,i)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class lI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cI{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new da;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new da,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new da)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt(typeof i.accessToken=="string",31837,{l:i}),new Q5(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class uI{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dI{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new uI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0,3512);const i=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(nt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=fI(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function Le(t,e){return t<e?-1:t>e?1:0}function ex(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),o=e.charAt(i);if(s!==o)return Zp(s)===Zp(o)?Le(s,o):Zp(s)?1:-1}return Le(t.length,e.length)}const mI=55296,gI=57343;function Zp(t){const e=t.charCodeAt(0);return e>=mI&&e<=gI}function rc(t,e,n){return t.length===e.length&&t.every(((i,s)=>n(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__name__";class ps{constructor(e,n,i){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Te(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=ps.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Le(e.length,n.length)}static compareSegments(e,n){const i=ps.isNumericId(e),s=ps.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?ps.extractNumericId(e).compare(ps.extractNumericId(n)):ex(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class St extends ps{construct(e,n,i){return new St(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const pI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends ps{construct(e,n,i){return new Sn(e,n,i)}static isValidIdentifier(e){return pI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tT}static keyField(){return new Sn([tT])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ye(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ye(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ye(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(o(),s++)}if(o(),l)throw new ye(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(St.fromString(e))}static fromName(e){return new be(St.fromString(e).popFirst(5))}static empty(){return new be(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e,n){if(!n)throw new ye(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xI(t,e,n,i){if(e===!0&&i===!0)throw new ye(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nT(t){if(!be.isDocumentKey(t))throw new ye(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function pd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tv(t);throw new ye(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wd(t,e){if(!Z5(t))throw new ye(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const l=t[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new ye(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=-62135596800,sT=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*sT);return new yt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iT)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sT}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wd(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Gt("string",yt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new yt(0,0))}static max(){return new je(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;function vI(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=je.fromTimestamp(i===1e9?new yt(n+1,0):new yt(n,i));return new ga(s,be.empty(),e)}function bI(t){return new ga(t.readTime,t.key,yd)}class ga{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ga(je.min(),be.empty(),yd)}static max(){return new ga(je.max(),be.empty(),yd)}}function wI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==_I)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,i)=>{n(e)}))}static reject(e){return new oe(((n,i)=>{i(e)}))}static waitFor(e){return new oe(((n,i)=>{let s=0,o=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++o,l&&o===s&&n()}),(h=>i(h)))})),l=!0,o===s&&n()}))}static or(e){let n=oe.resolve(!1);for(const i of e)n=n.next((s=>s?oe.resolve(s):i()));return n}static forEach(e,n){const i=[];return e.forEach(((s,o)=>{i.push(n.call(this,s,o))})),this.waitFor(i)}static mapArray(e,n){return new oe(((i,s)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const m=h;n(e[m]).next((p=>{l[m]=p,++u,u===o&&i(l)}),(p=>s(p)))}}))}static doWhile(e,n){return new oe(((i,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):i()};o()}))}}function SI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _c(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function gg(t){return t==null}function Im(t){return t===0&&1/t==-1/0}function EI(t){return typeof t=="number"&&Number.isInteger(t)&&!Im(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="";function kI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rT(e)),e=AI(t.get(n),e);return rT(e)}function AI(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case J5:n+="";break;default:n+=o}}return n}function rT(t){return t+J5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mf(this.root,e,this.comparator,!0)}}class Mf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??Tn.RED,this.left=s??Tn.EMPTY,this.right=o??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new Tn(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Tn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(e){return new oT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class oT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new qi([])}unionWith(e){let n=new tn(Sn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tA("Invalid base64 string: "+o):o}})(e);return new kn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const NI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(t){if(nt(!!t,39018),typeof t=="string"){let e=0;const n=NI.exec(t);if(nt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ya(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="server_timestamp",iA="__type__",sA="__previous_value__",rA="__local_write_time__";function Ev(t){return(t?.mapValue?.fields||{})[iA]?.stringValue===nA}function pg(t){const e=t.mapValue.fields[sA];return Ev(e)?pg(e):e}function xd(t){const e=pa(t.mapValue.fields[rA].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,i,s,o,l,u,h,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=p}}const Om="(default)";class vd{constructor(e,n){this.projectId=e,this.database=n||Om}static empty(){return new vd("","")}get isDefaultDatabase(){return this.database===Om}isEqual(e){return e instanceof vd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="__type__",CI="__max__",If={mapValue:{}},oA="__vector__",Pm="value";function xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ev(t)?4:DI(t)?9007199254740991:RI(t)?10:11:Te(28295,{value:t})}function Ns(t,e){if(t===e)return!0;const n=xa(t);if(n!==xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xd(t).isEqual(xd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=pa(s.timestampValue),u=pa(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return ya(s.bytesValue).isEqual(ya(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Vt(s.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Vt(s.integerValue)===Vt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Vt(s.doubleValue),u=Vt(o.doubleValue);return l===u?Im(l)===Im(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return rc(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(aT(l)!==aT(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Ns(l[h],u[h])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function bd(t,e){return(t.values||[]).find((n=>Ns(n,e)))!==void 0}function ac(t,e){if(t===e)return 0;const n=xa(t),i=xa(e);if(n!==i)return Le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Vt(o.integerValue||o.doubleValue),h=Vt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return lT(t.timestampValue,e.timestampValue);case 4:return lT(xd(t),xd(e));case 5:return ex(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=ya(o),h=ya(l);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),h=l.split("/");for(let m=0;m<u.length&&m<h.length;m++){const p=Le(u[m],h[m]);if(p!==0)return p}return Le(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=Le(Vt(o.latitude),Vt(l.latitude));return u!==0?u:Le(Vt(o.longitude),Vt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return cT(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},h=l.fields||{},m=u[Pm]?.arrayValue,p=h[Pm]?.arrayValue,x=Le(m?.values?.length||0,p?.values?.length||0);return x!==0?x:cT(m,p)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===If.mapValue&&l===If.mapValue)return 0;if(o===If.mapValue)return 1;if(l===If.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),m=l.fields||{},p=Object.keys(m);h.sort(),p.sort();for(let x=0;x<h.length&&x<p.length;++x){const b=ex(h[x],p[x]);if(b!==0)return b;const _=ac(u[h[x]],m[p[x]]);if(_!==0)return _}return Le(h.length,p.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function lT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=pa(t),i=pa(e),s=Le(n.seconds,i.seconds);return s!==0?s:Le(n.nanos,i.nanos)}function cT(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=ac(n[s],i[s]);if(o)return o}return Le(n.length,i.length)}function oc(t){return tx(t)}function tx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=pa(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ya(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=tx(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${tx(n.fields[l])}`;return s+"}"})(t.mapValue):Te(61005,{value:t})}function hm(t){switch(xa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pg(t);return e?16+hm(e):16;case 5:return 2*t.stringValue.length;case 6:return ya(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+hm(o)),0)})(t.arrayValue);case 10:case 11:return(function(i){let s=0;return Po(i.fields,((o,l)=>{s+=o.length+hm(l)})),s})(t.mapValue);default:throw Te(13486,{value:t})}}function nx(t){return!!t&&"integerValue"in t}function kv(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function dT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fm(t){return!!t&&"mapValue"in t}function RI(t){return(t?.mapValue?.fields||{})[aA]?.stringValue===oA}function Ju(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Ju(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ju(t.arrayValue.values[n]);return e}return{...t}}function DI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!fm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(n)}setAll(e){let n=Sn.emptyPath(),i={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=u.popLast()}l?i[u.lastSegment()]=Ju(l):s.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());fm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];fm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Po(n,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new Ei(Ju(this.value))}}function lA(t){const e=[];return Po(t.fields,((n,i)=>{const s=new Sn([n]);if(fm(i)){const o=lA(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,i,s,o,l,u){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Mn(e,0,je.min(),je.min(),je.min(),Ei.empty(),0)}static newFoundDocument(e,n,i,s){return new Mn(e,1,n,je.min(),i,s,0)}static newNoDocument(e,n){return new Mn(e,2,n,je.min(),je.min(),Ei.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,je.min(),je.min(),Ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.position=e,this.inclusive=n}}function hT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=be.comparator(be.fromName(l.referenceValue),n.key):i=ac(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n="asc"){this.field=e,this.dir=n}}function MI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{}class Jt extends cA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new OI(e,n,i):n==="array-contains"?new LI(e,i):n==="in"?new UI(e,i):n==="not-in"?new BI(e,i):n==="array-contains-any"?new FI(e,i):new Jt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new PI(e,i):new VI(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ac(n,this.value)):n!==null&&xa(this.value)===xa(n)&&this.matchesComparison(ac(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class js extends cA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new js(e,n)}matches(e){return uA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uA(t){return t.op==="and"}function dA(t){return II(t)&&uA(t)}function II(t){for(const e of t.filters)if(e instanceof js)return!1;return!0}function ix(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+oc(t.value);if(dA(t))return t.filters.map((e=>ix(e))).join(",");{const e=t.filters.map((n=>ix(n))).join(",");return`${t.op}(${e})`}}function hA(t,e){return t instanceof Jt?(function(i,s){return s instanceof Jt&&i.op===s.op&&i.field.isEqual(s.field)&&Ns(i.value,s.value)})(t,e):t instanceof js?(function(i,s){return s instanceof js&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,l,u)=>o&&hA(l,s.filters[u])),!0):!1})(t,e):void Te(19439)}function fA(t){return t instanceof Jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${oc(n.value)}`})(t):t instanceof js?(function(n){return n.op.toString()+" {"+n.getFilters().map(fA).join(" ,")+"}"})(t):"Filter"}class OI extends Jt{constructor(e,n,i){super(e,n,i),this.key=be.fromName(i.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class PI extends Jt{constructor(e,n){super(e,"in",n),this.keys=mA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VI extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=mA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mA(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class LI extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kv(n)&&bd(n.arrayValue,this.value)}}class UI extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bd(this.value.arrayValue,n)}}class BI extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bd(this.value.arrayValue,n)}}class FI extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>bd(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n=null,i=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function mT(t,e=null,n=[],i=[],s=null,o=null,l=null){return new zI(t,e,n,i,s,o,l)}function Av(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ix(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),gg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>oc(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>oc(i))).join(",")),e.Te=n}return e.Te}function Nv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function sx(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n=null,i=[],s=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HI(t,e,n,i,s,o,l,u){return new yg(t,e,n,i,s,o,l,u)}function jv(t){return new yg(t)}function gT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qI(t){return t.collectionGroup!==null}function ed(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new tn(Sn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Lm(o,i))})),n.has(Sn.keyField().canonicalString())||e.Ie.push(new Lm(Sn.keyField(),i))}return e.Ie}function bs(t){const e=Ce(t);return e.Ee||(e.Ee=$I(e,ed(t))),e.Ee}function $I(t,e){if(t.limitType==="F")return mT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Lm(s.field,o)}));const n=t.endAt?new Vm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Vm(t.startAt.position,t.startAt.inclusive):null;return mT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function rx(t,e,n){return new yg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xg(t,e){return Nv(bs(t),bs(e))&&t.limitType===e.limitType}function gA(t){return`${Av(bs(t))}|lt:${t.limitType}`}function Ll(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>fA(s))).join(", ")}]`),gg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>oc(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>oc(s))).join(",")),`Target(${i})`})(bs(t))}; limitType=${t.limitType})`}function vg(t,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):be.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,s){for(const o of ed(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(i,s){return!(i.startAt&&!(function(l,u,h){const m=hT(l,u,h);return l.inclusive?m<=0:m<0})(i.startAt,ed(i),s)||i.endAt&&!(function(l,u,h){const m=hT(l,u,h);return l.inclusive?m>=0:m>0})(i.endAt,ed(i),s))})(t,e)}function GI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pA(t){return(e,n)=>{let i=!1;for(const s of ed(t)){const o=WI(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function WI(t,e,n){const i=t.field.isKeyField()?be.comparator(e.key,n.key):(function(o,l,u){const h=l.data.field(o),m=u.data.field(o);return h!==null&&m!==null?ac(h,m):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,((n,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new kt(be.comparator);function yr(){return YI}const yA=new kt(be.comparator);function zu(...t){let e=yA;for(const n of t)e=e.insert(n.key,n);return e}function xA(t){let e=yA;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function xo(){return td()}function vA(){return td()}function td(){return new Vo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const KI=new kt(be.comparator),XI=new tn(be.comparator);function Ue(...t){let e=XI;for(const n of t)e=e.add(n);return e}const QI=new tn(Le);function ZI(){return QI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Im(e)?"-0":e}}function bA(t){return{integerValue:""+t}}function JI(t,e){return EI(e)?bA(e):Cv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this._=void 0}}function eO(t,e,n){return t instanceof Um?(function(s,o){const l={fields:{[iA]:{stringValue:nA},[rA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Ev(o)&&(o=pg(o)),o&&(l.fields[sA]=o),{mapValue:l}})(n,e):t instanceof wd?_A(t,e):t instanceof _d?TA(t,e):(function(s,o){const l=wA(s,o),u=pT(l)+pT(s.Ae);return nx(l)&&nx(s.Ae)?bA(u):Cv(s.serializer,u)})(t,e)}function tO(t,e,n){return t instanceof wd?_A(t,e):t instanceof _d?TA(t,e):n}function wA(t,e){return t instanceof Bm?(function(i){return nx(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Um extends bg{}class wd extends bg{constructor(e){super(),this.elements=e}}function _A(t,e){const n=SA(e);for(const i of t.elements)n.some((s=>Ns(s,i)))||n.push(i);return{arrayValue:{values:n}}}class _d extends bg{constructor(e){super(),this.elements=e}}function TA(t,e){let n=SA(e);for(const i of t.elements)n=n.filter((s=>!Ns(s,i)));return{arrayValue:{values:n}}}class Bm extends bg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function pT(t){return Vt(t.integerValue||t.doubleValue)}function SA(t){return kv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nO(t,e){return t.field.isEqual(e.field)&&(function(i,s){return i instanceof wd&&s instanceof wd||i instanceof _d&&s instanceof _d?rc(i.elements,s.elements,Ns):i instanceof Bm&&s instanceof Bm?Ns(i.Ae,s.Ae):i instanceof Um&&s instanceof Um})(t.transform,e.transform)}class iO{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wg{}function EA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new AA(t.key,hr.none()):new Yd(t.key,t.data,hr.none());{const n=t.data,i=Ei.empty();let s=new tn(Sn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Lo(t.key,i,new qi(s.toArray()),hr.none())}}function sO(t,e,n){t instanceof Yd?(function(s,o,l){const u=s.value.clone(),h=xT(s.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Lo?(function(s,o,l){if(!mm(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=xT(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(kA(s)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function nd(t,e,n,i){return t instanceof Yd?(function(o,l,u,h){if(!mm(o.precondition,l))return u;const m=o.value.clone(),p=vT(o.fieldTransforms,h,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof Lo?(function(o,l,u,h){if(!mm(o.precondition,l))return u;const m=vT(o.fieldTransforms,h,l),p=l.data;return p.setAll(kA(o)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(t,e,n,i):(function(o,l,u){return mm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function rO(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=wA(i.transform,s||null);o!=null&&(n===null&&(n=Ei.empty()),n.set(i.field,o))}return n||null}function yT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&rc(i,s,((o,l)=>nO(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yd extends wg{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Lo extends wg{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function xT(t,e,n){const i=new Map;nt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,u=e.data.field(o.field);i.set(o.field,tO(l,u,n[s]))}return i}function vT(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,eO(o,l,e))}return i}class AA extends wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aO extends wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&sO(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=nd(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=nd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=vA();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(s.key)?null:u;const h=EA(l,u);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(je.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,((n,i)=>yT(n,i)))&&rc(this.baseMutations,e.baseMutations,((n,i)=>yT(n,i)))}}class Rv{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){nt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return KI})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new Rv(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,qe;function uO(t){switch(t){case ce.OK:return Te(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function NA(t){if(t===void 0)return pr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case qt.OK:return ce.OK;case qt.CANCELLED:return ce.CANCELLED;case qt.UNKNOWN:return ce.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ce.INTERNAL;case qt.UNAVAILABLE:return ce.UNAVAILABLE;case qt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case qt.NOT_FOUND:return ce.NOT_FOUND;case qt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case qt.ABORTED:return ce.ABORTED;case qt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case qt.DATA_LOSS:return ce.DATA_LOSS;default:return Te(39323,{code:t})}}(qe=qt||(qt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new ua([4294967295,4294967295],0);function bT(t){const e=dO().encode(t),n=new q5;return n.update(e),new Uint8Array(n.digest())}function wT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ua([n,i],0),new ua([s,o],0)]}class Dv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(i<0)throw new Hu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ua.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(ua.fromNumber(i)));return s.compare(hO)===1&&(s=new ua([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bT(e),[i,s]=wT(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,s,o);if(!this.we(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Dv(o,s,n);return i.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=bT(e),[i,s]=wT(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,s,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Kd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new _g(je.min(),s,new kt(Le),yr(),Ue())}}class Kd{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Kd(i,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n,i,s){this.be=e,this.removedTargetIds=n,this.key=i,this.De=s}}class jA{constructor(e,n){this.targetId=e,this.Ce=n}}class CA{constructor(e,n,i=kn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class _T{constructor(){this.ve=0,this.Fe=TT(),this.Me=kn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),i=Ue();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Te(38017,{changeType:o})}})),new Kd(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=TT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fO{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.Je=Of(),this.He=Of(),this.Ye=new kt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(sx(o))if(i===0){const l=new be(o.path);this.et(n,l,Mn.newNoDocument(l,je.min()))}else nt(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,u;try{l=ya(i).toUint8Array()}catch(h){if(h instanceof tA)return sc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Dv(l,s,o)}catch(h){return sc(h instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&sx(u.target)){const h=new be(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,Mn.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let i=Ue();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((h=>{const m=this.ot(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new _g(e,n,this.Ye,this.je,i);return this.je=yr(),this.Je=Of(),this.He=Of(),this.Ye=new kt(Le),s}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _T,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new tn(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new tn(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _T),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Of(){return new kt(be.comparator)}function TT(){return new kt(be.comparator)}const mO={asc:"ASCENDING",desc:"DESCENDING"},gO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pO={and:"AND",or:"OR"};class yO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ax(t,e){return t.useProto3Json||gg(e)?e:{value:e}}function Fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xO(t,e){return Fm(t,e.toTimestamp())}function ws(t){return nt(!!t,49232),je.fromTimestamp((function(n){const i=pa(n);return new yt(i.seconds,i.nanos)})(t))}function Mv(t,e){return ox(t,e).canonicalString()}function ox(t,e){const n=(function(s){return new St(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function DA(t){const e=St.fromString(t);return nt(VA(e),10190,{key:e.toString()}),e}function lx(t,e){return Mv(t.databaseId,e.path)}function Jp(t,e){const n=DA(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(IA(n))}function MA(t,e){return Mv(t.databaseId,e)}function vO(t){const e=DA(t);return e.length===4?St.emptyPath():IA(e)}function cx(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IA(t){return nt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ST(t,e,n){return{name:lx(t,e),fields:n.value.mapValue.fields}}function bO(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Te(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(m,p){return m.useProto3Json?(nt(p===void 0||typeof p=="string",58123),kn.fromBase64String(p||"")):(nt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),kn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const p=m.code===void 0?ce.UNKNOWN:NA(m.code);return new ye(p,m.message||"")})(l);n=new CA(i,s,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Jp(t,i.document.name),o=ws(i.document.updateTime),l=i.document.createTime?ws(i.document.createTime):je.min(),u=new Ei({mapValue:{fields:i.document.fields}}),h=Mn.newFoundDocument(s,o,l,u),m=i.targetIds||[],p=i.removedTargetIds||[];n=new gm(m,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Jp(t,i.document),o=i.readTime?ws(i.readTime):je.min(),l=Mn.newNoDocument(s,o),u=i.removedTargetIds||[];n=new gm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Jp(t,i.document),o=i.removedTargetIds||[];n=new gm([],o,s,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new cO(s,o),u=i.targetId;n=new jA(u,l)}}return n}function wO(t,e){let n;if(e instanceof Yd)n={update:ST(t,e.key,e.value)};else if(e instanceof AA)n={delete:lx(t,e.key)};else if(e instanceof Lo)n={update:ST(t,e.key,e.data),updateMask:CO(e.fieldMask)};else{if(!(e instanceof aO))return Te(16599,{Vt:e.type});n={verify:lx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof Um)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof wd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof _d)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Bm)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Te(20930,{transform:l.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:xO(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te(27497)})(t,e.precondition)),n}function _O(t,e){return t&&t.length>0?(nt(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?ws(s.updateTime):ws(o);return l.isEqual(je.min())&&(l=ws(o)),new iO(l,s.transformResults||[])})(n,e)))):[]}function TO(t,e){return{documents:[MA(t,e.path)]}}function SO(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=MA(t,s);const o=(function(m){if(m.length!==0)return PA(js.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(m){if(m.length!==0)return m.map((p=>(function(b){return{field:Ul(b.field),direction:AO(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=ax(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:s}}function EO(t){let e=vO(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){nt(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(x){const b=OA(x);return b instanceof js&&dA(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(x){return x.map((b=>(function(A){return new Lm(Bl(A.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(x){let b;return b=typeof x=="object"?x.value:x,gg(b)?null:b})(n.limit));let h=null;n.startAt&&(h=(function(x){const b=!!x.before,_=x.values||[];return new Vm(_,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(x){const b=!x.before,_=x.values||[];return new Vm(_,b)})(n.endAt)),HI(e,s,l,o,u,"F",h,m)}function kO(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Bl(n.unaryFilter.field);return Jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Bl(n.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bl(n.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Bl(n.unaryFilter.field);return Jt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Jt.create(Bl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return js.create(n.compositeFilter.filters.map((i=>OA(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function AO(t){return mO[t]}function NO(t){return gO[t]}function jO(t){return pO[t]}function Ul(t){return{fieldPath:t.canonicalString()}}function Bl(t){return Sn.fromServerFormat(t.fieldPath)}function PA(t){return t instanceof Jt?(function(n){if(n.op==="=="){if(dT(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NAN"}};if(uT(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dT(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NAN"}};if(uT(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(n.field),op:NO(n.op),value:n.value}}})(t):t instanceof js?(function(n){const i=n.getFilters().map((s=>PA(s)));return i.length===1?i[0]:{compositeFilter:{op:jO(n.op),filters:i}}})(t):Te(54877,{filter:t})}function CO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function VA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,i,s,o=je.min(),l=je.min(),u=kn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.yt=e}}function DO(t){const e=EO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.Cn=new IO}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(ga.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(ga.min())}updateCollectionGroup(e,n,i){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class IO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new tn(St.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new tn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LA=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(LA,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lc(0)}static cr(){return new lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="LruGarbageCollector",OO=1048576;function AT([t,e],[n,i]){const s=Le(t,n);return s===0?Le(e,i):s}class PO{constructor(e){this.Ir=e,this.buffer=new tn(AT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();AT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(kT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_c(n)?me(kT,"Ignoring IndexedDB error during garbage collection: ",n):await wc(n)}await this.Vr(3e5)}))}}class LO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(mg.ce);const i=new PO(n);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(ET)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ET):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,o,l,u,h,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,l=Date.now(),this.nthSequenceNumber(e,s)))).next((x=>(i=x,u=Date.now(),this.removeTargets(e,i,n)))).next((x=>(o=x,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((x=>(m=Date.now(),Vl()<=Ve.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${x} documents in `+(m-h)+`ms
Total Duration: ${m-p}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:x}))))}}function UO(t,e){return new LO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.changes=new Vo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?oe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(i!==null&&nd(i.mutation,s,qi.empty(),yt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ue()){const s=xo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,i).next((o=>{let l=zu();return o.forEach(((u,h)=>{l=l.insert(u,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const i=xo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ue())))}populateOverlays(e,n,i){const s=[];return i.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,i,s){let o=yr();const l=td(),u=(function(){return td()})();return n.forEach(((h,m)=>{const p=i.get(m.key);s.has(m.key)&&(p===void 0||p.mutation instanceof Lo)?o=o.insert(m.key,m):p!==void 0?(l.set(m.key,p.mutation.getFieldMask()),nd(p.mutation,m,p.mutation.getFieldMask(),yt.now())):l.set(m.key,qi.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((m,p)=>l.set(m,p))),n.forEach(((m,p)=>u.set(m,new FO(p,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,n){const i=td();let s=new kt(((l,u)=>l-u)),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((h=>{const m=n.get(h);if(m===null)return;let p=i.get(h)||qi.empty();p=u.applyToLocalView(m,p),i.set(h,p);const x=(s.get(u.batchId)||Ue()).add(h);s=s.insert(u.batchId,x)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,p=h.value,x=vA();p.forEach((b=>{if(!o.has(b)){const _=EA(n.get(b),i.get(b));_!==null&&x.set(b,_),o=o.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,x))}return oe.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,s){return(function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):oe.resolve(xo());let u=yd,h=o;return l.next((m=>oe.forEach(m,((p,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),o.get(p)?oe.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{h=h.insert(p,b)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,h,m,Ue()))).next((p=>({batchId:u,changes:xA(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((i=>{let s=zu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=zu();return this.indexManager.getCollectionParents(e,o).next((u=>oe.forEach(u,(h=>{const m=(function(x,b){return new yg(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next((p=>{p.forEach(((x,b)=>{l=l.insert(x,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s)))).next((l=>{o.forEach(((h,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,Mn.newInvalidDocument(p)))}));let u=zu();return l.forEach(((h,m)=>{const p=o.get(h);p!==void 0&&nd(p.mutation,m,qi.empty(),yt.now()),vg(n,m)&&(u=u.insert(h,m))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:ws(s.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:DO(s.bundledQuery),readTime:ws(s.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.overlays=new kt(be.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=xo();return oe.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((s,o)=>{this.St(e,n,o)})),oe.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),oe.resolve()}getOverlaysForCollection(e,n,i){const s=xo(),o=n.length+1,l=new be(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new kt(((m,p)=>m-p));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let p=o.get(m.largestBatchId);p===null&&(p=xo(),o=o.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const u=xo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((m,p)=>u.set(m,p))),!(u.size()>=s)););return oe.resolve(u)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new lO(n,i));let o=this.qr.get(n);o===void 0&&(o=Ue(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.Qr=new tn(un.$r),this.Ur=new tn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new un(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new be(new St([])),i=new un(n,e),s=new un(n,e+1),o=[];return this.Ur.forEachInRange([i,s],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new St([])),i=new un(n,e),s=new un(n,e+1);let o=Ue();return this.Ur.forEachInRange([i,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new un(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tn(un.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new oO(o,n,i,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new un(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),o=s<0?0:s;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Sv:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new un(n,0),s=new un(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],(l=>{const u=this.Xr(l.Yr);o.push(u)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new tn(Le);return n.forEach((s=>{const o=new un(s,0),l=new un(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{i=i.add(u.Yr)}))})),oe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;be.isDocumentKey(o)||(o=o.child(""));const l=new un(new be(o),0);let u=new tn(Le);return this.Zr.forEachWhile((h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(u=u.add(h.Yr)),!0)}),l),oe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){nt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return oe.forEach(n.mutations,(s=>{const o=new un(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new un(n,0),s=this.Zr.firstAfterOrEqual(i);return oe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.ri=e,this.docs=(function(){return new kt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return oe.resolve(i?i.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let i=yr();return n.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Mn.newInvalidDocument(s))})),oe.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=yr();const l=n.path,u=new be(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:p}}=h.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||wI(bI(p),i)<=0||(s.has(p.key)||vg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Te(9500)}ii(e,n){return oe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new YO(this)}getSize(e){return oe.resolve(this.size)}}class YO extends BO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.persistence=e,this.si=new Vo((n=>Av(n)),Nv),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new Iv,this.targetCount=0,this.ai=lc.ur()}forEachTarget(e,n){return this.si.forEach(((i,s)=>n(s))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),oe.waitFor(o).next((()=>s))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return oe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),oe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return oe.resolve(i)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.ui={},this.overlays={},this.ci=new mg(0),this.li=!1,this.li=!0,this.hi=new $O,this.referenceDelegate=e(this),this.Pi=new KO(this),this.indexManager=new MO,this.remoteDocumentCache=(function(s){return new WO(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new RO(n),this.Ii=new HO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new GO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const s=new XO(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return oe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class XO extends TI{constructor(e){super(),this.currentSequenceNumber=e}}class Ov{constructor(e){this.persistence=e,this.Ri=new Iv,this.Vi=null}static mi(e){return new Ov(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),oe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(i=>{const s=be.fromPath(i);return this.gi(e,s).next((o=>{o||n.removeEntry(s,je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zm{constructor(e,n){this.persistence=e,this.pi=new Vo((i=>kI(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=UO(this,n)}static mi(e,n){return new zm(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((s=>i+s))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((i,s)=>this.br(e,i,s).next((o=>o?oe.resolve():n(s)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((u=>{u||(i++,o.removeEntry(l,je.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hm(e.data.value)),n}br(e,n,i){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return oe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=Ue(),s=Ue();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Pv(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return OR()?8:SI(Vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,s,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new QO;return this.Ss(e,n,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>o.result))}bs(e,n,i,s){return i.documentReadCount<this.fs?(Vl()<=Ve.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Vl()<=Ve.DEBUG&&me("QueryEngine","Query:",Ll(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Vl()<=Ve.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(n))):oe.resolve())}ys(e,n){if(gT(n))return oe.resolve(null);let i=bs(n);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=rx(n,null,"F"),i=bs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const l=Ue(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,i).next((h=>{const m=this.Ds(n,u);return this.Cs(n,m,l,h.readTime)?this.ys(e,rx(n,null,"F")):this.vs(e,m,n,h)}))))})))))}ws(e,n,i,s){return gT(n)||s.isEqual(je.min())?oe.resolve(null):this.ps.getDocuments(e,i).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,i,s)?oe.resolve(null):(Vl()<=Ve.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ll(n)),this.vs(e,l,n,vI(s,yd)).next((u=>u)))}))}Ds(e,n){let i=new tn(pA(e));return n.forEach(((s,o)=>{vg(e,o)&&(i=i.add(o))})),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,i){return Vl()<=Ve.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ll(n)),this.ps.getDocumentsMatchingQuery(e,n,ga.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="LocalStore",JO=3e8;class eP{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new kt(Le),this.xs=new Vo((o=>Av(o)),Nv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function tP(t,e,n,i){return new eP(t,e,n,i)}async function BA(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let h=Ue();for(const m of s){l.push(m.batchId);for(const p of m.mutations)h=h.add(p.key)}for(const m of o){u.push(m.batchId);for(const p of m.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function nP(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,m,p){const x=m.batch,b=x.keys();let _=oe.resolve();return b.forEach((A=>{_=_.next((()=>p.getEntry(h,A))).next((R=>{const C=m.docVersions.get(A);nt(C!==null,48541),R.version.compareTo(C)<0&&(x.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),p.addEntry(R)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(h,x)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let h=Ue();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function FA(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function iP(t,e){const n=Ce(t),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((p,x)=>{const b=s.get(x);if(!b)return;u.push(n.Pi.removeMatchingKeys(o,p.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(o,p.addedDocuments,x))));let _=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?_=_.withResumeToken(kn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,i)),s=s.insert(x,_),(function(R,C,L){return R.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=JO?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(b,_,p)&&u.push(n.Pi.updateTargetData(o,_))}));let h=yr(),m=Ue();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push(sP(o,l,e.documentUpdates).next((p=>{h=p.ks,m=p.qs}))),!i.isEqual(je.min())){const p=n.Pi.getLastRemoteSnapshotVersion(o).next((x=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(p)}return oe.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,m))).next((()=>h))})).then((o=>(n.Ms=s,o)))}function sP(t,e,n){let i=Ue(),s=Ue();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let l=yr();return n.forEach(((u,h)=>{const m=o.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):me(Vv,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function rP(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Sv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function aP(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,e).next((o=>o?(s=o,oe.resolve(s)):n.Pi.allocateTargetId(i).next((l=>(s=new sa(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function ux(t,e,n){const i=Ce(t),s=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!_c(l))throw l;me(Vv,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function NT(t,e,n){const i=Ce(t);let s=je.min(),o=Ue();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,m,p){const x=Ce(h),b=x.xs.get(p);return b!==void 0?oe.resolve(x.Ms.get(b)):x.Pi.getTargetData(m,p)})(i,l,bs(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next((h=>{o=h}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,e,n?s:je.min(),n?o:Ue()))).next((u=>(oP(i,GI(e),u),{documents:u,Qs:o})))))}function oP(t,e,n){let i=t.Os.get(e)||je.min();n.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.Os.set(e,i)}class jT{constructor(){this.activeTargetIds=ZI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lP{constructor(){this.Mo=new jT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="ConnectivityMonitor";class RT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(CT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(CT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=null;function dx(){return Pf===null?Pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pf++,"0x"+Pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="RestConnection",uP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Om?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,o){const l=dx(),u=this.zo(e,n.toUriEncodedString());me(ey,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,o);const{host:m}=new URL(u),p=yc(m);return this.Jo(e,u,h,i,p).then((x=>(me(ey,`Received RPC '${e}' ${l}: `,x),x)),(x=>{throw sc(ey,`RPC '${e}' ${l} failed with error: `,x,"url: ",u,"request:",i),x}))}Ho(e,n,i,s,o,l){return this.Go(e,n,i,s,o)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const i=uP[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class fP extends dP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,o){const l=dx();return new Promise(((u,h)=>{const m=new $5;m.setWithCredentials(!0),m.listenOnce(G5.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case dm.NO_ERROR:const x=m.getResponseJson();me(Cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),u(x);break;case dm.TIMEOUT:me(Cn,`RPC '${e}' ${l} timed out`),h(new ye(ce.DEADLINE_EXCEEDED,"Request time out"));break;case dm.HTTP_ERROR:const b=m.getStatus();if(me(Cn,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const A=_?.error;if(A&&A.status&&A.message){const R=(function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(U)>=0?U:ce.UNKNOWN})(A.status);h(new ye(R,A.message))}else h(new ye(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new ye(ce.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(Cn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(s);me(Cn,`RPC '${e}' ${l} sending request:`,s),m.send(n,"POST",p,i,15)}))}T_(e,n,i){const s=dx(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=K5(),u=Y5(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=o.join("");me(Cn,`Creating RPC '${e}' stream ${s}: ${p}`,h);const x=l.createWebChannel(p,h);this.I_(x);let b=!1,_=!1;const A=new hP({Yo:C=>{_?me(Cn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(b||(me(Cn,`Opening RPC '${e}' stream ${s} transport.`),x.open(),b=!0),me(Cn,`RPC '${e}' stream ${s} sending:`,C),x.send(C))},Zo:()=>x.close()}),R=(C,L,U)=>{C.listen(L,(F=>{try{U(F)}catch(G){setTimeout((()=>{throw G}),0)}}))};return R(x,Fu.EventType.OPEN,(()=>{_||(me(Cn,`RPC '${e}' stream ${s} transport opened.`),A.o_())})),R(x,Fu.EventType.CLOSE,(()=>{_||(_=!0,me(Cn,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(x))})),R(x,Fu.EventType.ERROR,(C=>{_||(_=!0,sc(Cn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),A.a_(new ye(ce.UNAVAILABLE,"The operation could not be completed")))})),R(x,Fu.EventType.MESSAGE,(C=>{if(!_){const L=C.data[0];nt(!!L,16349);const U=L,F=U?.error||U[0]?.error;if(F){me(Cn,`RPC '${e}' stream ${s} received error:`,F);const G=F.status;let Q=(function(k){const N=qt[k];if(N!==void 0)return NA(N)})(G),te=F.message;Q===void 0&&(Q=ce.INTERNAL,te="Unknown error status: "+G+" with message "+F.message),_=!0,A.a_(new ye(Q,te)),x.close()}else me(Cn,`RPC '${e}' stream ${s} received:`,L),A.u_(L)}})),R(u,W5.STAT_EVENT,(C=>{C.stat===Jy.PROXY?me(Cn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Jy.NOPROXY&&me(Cn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ty(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){return new yO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="PersistentStream";class HA{constructor(e,n,i,s,o,l,u,h){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{e((()=>{const s=new ye(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(DT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(DT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mP extends HA{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bO(this.serializer,e),i=(function(o){if(!("targetChange"in o))return je.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?ws(l.readTime):je.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=cx(this.serializer),n.addTarget=(function(o,l){let u;const h=l.target;if(u=sx(h)?{documents:TO(o,h)}:{query:SO(o,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=RA(o,l.resumeToken);const m=ax(o,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=Fm(o,l.snapshotVersion.toTimestamp());const m=ax(o,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const i=kO(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=cx(this.serializer),n.removeTarget=e,this.q_(n)}}class gP extends HA{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_O(e.writeResults,e.commitTime),i=ws(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=cx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>wO(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{}class yP extends pP{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,ox(n,i),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(ce.UNKNOWN,o.toString())}))}Ho(e,n,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,ox(n,i),s,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ce.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class vP{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{Uo(this)&&(me(Io,"Restarting streams for network reachability change."),await(async function(h){const m=Ce(h);m.Ea.add(4),await Xd(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Sg(m)})(this))}))})),this.Ra=new xP(i,s)}}async function Sg(t){if(Uo(t))for(const e of t.da)await e(!0)}async function Xd(t){for(const e of t.da)await e(!1)}function qA(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fv(n)?Bv(n):Tc(n).O_()&&Uv(n,e))}function Lv(t,e){const n=Ce(t),i=Tc(n);n.Ia.delete(e),i.O_()&&$A(n,e),n.Ia.size===0&&(i.O_()?i.L_():Uo(n)&&n.Ra.set("Unknown"))}function Uv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tc(t).Y_(e)}function $A(t,e){t.Va.Ue(e),Tc(t).Z_(e)}function Bv(t){t.Va=new fO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Tc(t).start(),t.Ra.ua()}function Fv(t){return Uo(t)&&!Tc(t).x_()&&t.Ia.size>0}function Uo(t){return Ce(t).Ea.size===0}function GA(t){t.Va=void 0}async function bP(t){t.Ra.set("Online")}async function wP(t){t.Ia.forEach(((e,n)=>{Uv(t,e)}))}async function _P(t,e){GA(t),Fv(t)?(t.Ra.ha(e),Bv(t)):t.Ra.set("Unknown")}async function TP(t,e,n){if(t.Ra.set("Online"),e instanceof CA&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(t,e)}catch(i){me(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Hm(t,i)}else if(e instanceof gm?t.Va.Ze(e):e instanceof jA?t.Va.st(e):t.Va.tt(e),!n.isEqual(je.min()))try{const i=await FA(t.localStore);n.compareTo(i)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const p=o.Ia.get(m);p&&o.Ia.set(m,p.withResumeToken(h.resumeToken,l))}})),u.targetMismatches.forEach(((h,m)=>{const p=o.Ia.get(h);if(!p)return;o.Ia.set(h,p.withResumeToken(kn.EMPTY_BYTE_STRING,p.snapshotVersion)),$A(o,h);const x=new sa(p.target,h,m,p.sequenceNumber);Uv(o,x)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(i){me(Io,"Failed to raise snapshot:",i),await Hm(t,i)}}async function Hm(t,e,n){if(!_c(e))throw e;t.Ea.add(1),await Xd(t),t.Ra.set("Offline"),n||(n=()=>FA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sg(t)}))}function WA(t,e){return e().catch((n=>Hm(t,n,e)))}async function Eg(t){const e=Ce(t),n=va(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sv;for(;SP(e);)try{const s=await rP(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,EP(e,s)}catch(s){await Hm(e,s)}YA(e)&&KA(e)}function SP(t){return Uo(t)&&t.Ta.length<10}function EP(t,e){t.Ta.push(e);const n=va(t);n.O_()&&n.X_&&n.ea(e.mutations)}function YA(t){return Uo(t)&&!va(t).x_()&&t.Ta.length>0}function KA(t){va(t).start()}async function kP(t){va(t).ra()}async function AP(t){const e=va(t);for(const n of t.Ta)e.ea(n.mutations)}async function NP(t,e,n){const i=t.Ta.shift(),s=Rv.from(i,e,n);await WA(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Eg(t)}async function jP(t,e){e&&va(t).X_&&await(async function(i,s){if((function(l){return uO(l)&&l!==ce.ABORTED})(s.code)){const o=i.Ta.shift();va(i).B_(),await WA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Eg(i)}})(t,e),YA(t)&&KA(t)}async function MT(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),me(Io,"RemoteStore received new credentials");const i=Uo(n);n.Ea.add(3),await Xd(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sg(n)}async function CP(t,e){const n=Ce(t);e?(n.Ea.delete(2),await Sg(n)):e||(n.Ea.add(2),await Xd(n),n.Ra.set("Unknown"))}function Tc(t){return t.ma||(t.ma=(function(n,i,s){const o=Ce(n);return o.sa(),new mP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:bP.bind(null,t),t_:wP.bind(null,t),r_:_P.bind(null,t),H_:TP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Fv(t)?Bv(t):t.Ra.set("Unknown")):(await t.ma.stop(),GA(t))}))),t.ma}function va(t){return t.fa||(t.fa=(function(n,i,s){const o=Ce(n);return o.sa(),new gP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:kP.bind(null,t),r_:jP.bind(null,t),ta:AP.bind(null,t),na:NP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Eg(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,u=new zv(e,n,l,s,o);return u.start(i),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hv(t,e){if(pr("AsyncQueue",`${e}: ${t}`),_c(t))return new ye(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(e){return new Zl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||be.comparator(n.key,i.key):(n,i)=>be.comparator(n.key,i.key),this.keyedMap=zu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Zl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.ga=new kt(be.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class cc{constructor(e,n,i,s,o,l,u,h,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new cc(e,n,Zl.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DP{constructor(){this.queries=OT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Ce(n),o=s.queries;s.queries=OT(),o.forEach(((l,u)=>{for(const h of u.Sa)h.onError(i)}))})(this,new ye(ce.ABORTED,"Firestore shutting down"))}}function OT(){return new Vo((t=>gA(t)),xg)}async function MP(t,e){const n=Ce(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(i=2):(o=new RP,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=Hv(l,`Initialization of query '${Ll(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&qv(n)}async function IP(t,e){const n=Ce(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function OP(t,e){const n=Ce(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(s)&&(i=!0);l.wa=s}}i&&qv(n)}function PP(t,e,n){const i=Ce(t),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);i.queries.delete(e)}function qv(t){t.Ca.forEach((e=>{e.next()}))}var hx,PT;(PT=hx||(hx={})).Ma="default",PT.Cache="cache";class VP{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new cc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.key=e}}class QA{constructor(e){this.key=e}}class LP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=pA(e),this.tu=new Zl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new IT,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,x)=>{const b=s.get(p),_=vg(this.query,x)?x:null,A=!!b&&this.mutatedKeys.has(b.key),R=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;b&&_?b.data.isEqual(_.data)?A!==R&&(i.track({type:3,doc:_}),C=!0):this.su(b,_)||(i.track({type:2,doc:_}),C=!0,(h&&this.eu(_,h)>0||m&&this.eu(_,m)<0)&&(u=!0)):!b&&_?(i.track({type:0,doc:_}),C=!0):b&&!_&&(i.track({type:1,doc:b}),C=!0,(h||m)&&(u=!0)),C&&(_?(l=l.add(_),o=R?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,x)=>(function(_,A){const R=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:C})}};return R(_)-R(A)})(p.type,x.type)||this.eu(p.doc,x.doc))),this.ou(i),s=s??!1;const u=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,m=h!==this.Za;return this.Za=h,l.length!==0||m?{snapshot:new cc(this.query,e.tu,o,l,e.mutatedKeys,h===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new QA(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new XA(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $v="SyncEngine";class UP{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class BP{constructor(e){this.key=e,this.hu=!1}}class FP{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Vo((u=>gA(u)),xg),this.Iu=new Map,this.Eu=new Set,this.du=new kt(be.comparator),this.Au=new Map,this.Ru=new Iv,this.Vu={},this.mu=new Map,this.fu=lc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zP(t,e,n=!0){const i=iN(t);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await ZA(i,e,n,!0),s}async function HP(t,e){const n=iN(t);await ZA(n,e,!0,!1)}async function ZA(t,e,n,i){const s=await aP(t.localStore,bs(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return i&&(u=await qP(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&qA(t.remoteStore,s),u}async function qP(t,e,n,i,s){t.pu=(x,b,_)=>(async function(R,C,L,U){let F=C.view.ru(L);F.Cs&&(F=await NT(R.localStore,C.query,!1).then((({documents:V})=>C.view.ru(V,F))));const G=U&&U.targetChanges.get(C.targetId),Q=U&&U.targetMismatches.get(C.targetId)!=null,te=C.view.applyChanges(F,R.isPrimaryClient,G,Q);return LT(R,C.targetId,te.au),te.snapshot})(t,x,b,_);const o=await NT(t.localStore,e,!0),l=new LP(e,o.Qs),u=l.ru(o.documents),h=Kd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),m=l.applyChanges(u,t.isPrimaryClient,h);LT(t,n,m.au);const p=new UP(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function $P(t,e,n){const i=Ce(t),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((l=>!xg(l,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await ux(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Lv(i.remoteStore,s.targetId),fx(i,s.targetId)})).catch(wc)):(fx(i,s.targetId),await ux(i.localStore,s.targetId,!0))}async function GP(t,e){const n=Ce(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Lv(n.remoteStore,i.targetId))}async function WP(t,e,n){const i=e9(t);try{const s=await(function(l,u){const h=Ce(l),m=yt.now(),p=u.reduce(((_,A)=>_.add(A.key)),Ue());let x,b;return h.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let A=yr(),R=Ue();return h.Ns.getEntries(_,p).next((C=>{A=C,A.forEach(((L,U)=>{U.isValidDocument()||(R=R.add(L))}))})).next((()=>h.localDocuments.getOverlayedDocuments(_,A))).next((C=>{x=C;const L=[];for(const U of u){const F=rO(U,x.get(U.key).overlayedDocument);F!=null&&L.push(new Lo(U.key,F,lA(F.value.mapValue),hr.exists(!0)))}return h.mutationQueue.addMutationBatch(_,m,L,u)})).next((C=>{b=C;const L=C.applyToLocalDocumentSet(x,R);return h.documentOverlayCache.saveOverlays(_,C.batchId,L)}))})).then((()=>({batchId:b.batchId,changes:xA(x)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(l,u,h){let m=l.Vu[l.currentUser.toKey()];m||(m=new kt(Le)),m=m.insert(u,h),l.Vu[l.currentUser.toKey()]=m})(i,s.batchId,n),await Qd(i,s.changes),await Eg(i.remoteStore)}catch(s){const o=Hv(s,"Failed to persist write");n.reject(o)}}async function JA(t,e){const n=Ce(t);try{const i=await iP(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=n.Au.get(o);l&&(nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?nt(l.hu,14607):s.removedDocuments.size>0&&(nt(l.hu,42227),l.hu=!1))})),await Qd(n,i,e)}catch(i){await wc(i)}}function VT(t,e,n){const i=Ce(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const h=Ce(l);h.onlineState=u;let m=!1;h.queries.forEach(((p,x)=>{for(const b of x.Sa)b.va(u)&&(m=!0)})),m&&qv(h)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function YP(t,e,n){const i=Ce(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),o=s&&s.key;if(o){let l=new kt(be.comparator);l=l.insert(o,Mn.newNoDocument(o,je.min()));const u=Ue().add(o),h=new _g(je.min(),new Map,new kt(Le),l,u);await JA(i,h),i.du=i.du.remove(o),i.Au.delete(e),Gv(i)}else await ux(i.localStore,e,!1).then((()=>fx(i,e,n))).catch(wc)}async function KP(t,e){const n=Ce(t),i=e.batch.batchId;try{const s=await nP(n.localStore,e);tN(n,i,null),eN(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Qd(n,s)}catch(s){await wc(s)}}async function XP(t,e,n){const i=Ce(t);try{const s=await(function(l,u){const h=Ce(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return h.mutationQueue.lookupMutationBatch(m,u).next((x=>(nt(x!==null,37113),p=x.keys(),h.mutationQueue.removeMutationBatch(m,x)))).next((()=>h.mutationQueue.performConsistencyCheck(m))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(m,p,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>h.localDocuments.getDocuments(m,p)))}))})(i.localStore,e);tN(i,e,n),eN(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Qd(i,s)}catch(s){await wc(s)}}function eN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function tN(t,e,n){const i=Ce(t);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function fx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||nN(t,i)}))}function nN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Lv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Gv(t))}function LT(t,e,n){for(const i of n)i instanceof XA?(t.Ru.addReference(i.key,e),QP(t,i)):i instanceof QA?(me($v,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||nN(t,i.key)):Te(19791,{wu:i})}function QP(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(me($v,"New document in limbo: "+n),t.Eu.add(i),Gv(t))}function Gv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(St.fromString(e)),i=t.fu.next();t.Au.set(i,new BP(n)),t.du=t.du.insert(n,i),qA(t.remoteStore,new sa(bs(jv(n.path)),i,"TargetPurposeLimboResolution",mg.ce))}}async function Qd(t,e,n){const i=Ce(t),s=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,h)=>{l.push(i.pu(h,e,n).then((m=>{if((m||n)&&i.isPrimaryClient){const p=m?!m.fromCache:n?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,p?"current":"not-current")}if(m){s.push(m);const p=Pv.As(h.targetId,m);o.push(p)}})))})),await Promise.all(l),i.Pu.H_(s),await(async function(h,m){const p=Ce(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>oe.forEach(m,(b=>oe.forEach(b.Es,(_=>p.persistence.referenceDelegate.addReference(x,b.targetId,_))).next((()=>oe.forEach(b.ds,(_=>p.persistence.referenceDelegate.removeReference(x,b.targetId,_)))))))))}catch(x){if(!_c(x))throw x;me(Vv,"Failed to update sequence numbers: "+x)}for(const x of m){const b=x.targetId;if(!x.fromCache){const _=p.Ms.get(b),A=_.snapshotVersion,R=_.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(b,R)}}})(i.localStore,o))}async function ZP(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){me($v,"User change. New user:",e.toKey());const i=await BA(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((h=>{h.reject(new ye(ce.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Qd(n,i.Ls)}}function JP(t,e){const n=Ce(t),i=n.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let s=Ue();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function iN(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YP.bind(null,e),e.Pu.H_=OP.bind(null,e.eventManager),e.Pu.yu=PP.bind(null,e.eventManager),e}function e9(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XP.bind(null,e),e}class qm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tP(this.persistence,new ZO,e.initialUser,this.serializer)}Cu(e){return new UA(Ov.mi,this.serializer)}Du(e){return new lP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qm.provider={build:()=>new qm};class t9 extends qm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){nt(this.persistence.referenceDelegate instanceof zm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new VO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new UA((i=>zm.mi(i,n)),this.serializer)}}class mx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZP.bind(null,this.syncEngine),await CP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DP})()}createDatastore(e){const n=Tg(e.databaseInfo.databaseId),i=(function(o){return new fP(o)})(e.databaseInfo);return(function(o,l,u,h){return new yP(o,l,u,h)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,s,o,l,u){return new vP(i,s,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>VT(this.syncEngine,n,0)),(function(){return RT.v()?new RT:new cP})())}createSyncEngine(e,n){return(function(s,o,l,u,h,m,p){const x=new FP(s,o,l,u,h,m);return p&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ce(n);me(Io,"RemoteStore shutting down."),i.Ea.add(5),await Xd(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mx.provider={build:()=>new mx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class i9{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Dn.UNAUTHENTICATED,this.clientId=_v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{me(ba,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(me(ba,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Hv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ny(t,e){t.asyncQueue.verifyOperationInProgress(),me(ba,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async s=>{i.isEqual(s)||(await BA(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function UT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await s9(t);me(ba,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>MT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,s)=>MT(e.remoteStore,s))),t._onlineComponents=e}async function s9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ba,"Using user provided OfflineComponentProvider");try{await ny(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ce.FAILED_PRECONDITION||s.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;sc("Error using user provided cache. Falling back to memory cache: "+n),await ny(t,new qm)}}else me(ba,"Using default OfflineComponentProvider"),await ny(t,new t9(void 0));return t._offlineComponents}async function sN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ba,"Using user provided OnlineComponentProvider"),await UT(t,t._uninitializedComponentsProvider._online)):(me(ba,"Using default OnlineComponentProvider"),await UT(t,new mx))),t._onlineComponents}function r9(t){return sN(t).then((e=>e.syncEngine))}async function a9(t){const e=await sN(t),n=e.eventManager;return n.onListen=zP.bind(null,e.syncEngine),n.onUnlisten=$P.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GP.bind(null,e.syncEngine),n}function o9(t,e,n={}){const i=new da;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,h,m){const p=new n9({next:b=>{p.Nu(),l.enqueueAndForget((()=>IP(o,x)));const _=b.docs.has(u);!_&&b.fromCache?m.reject(new ye(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&h&&h.source==="server"?m.reject(new ye(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new VP(jv(u.path),p,{includeMetadataChanges:!0,qa:!0});return MP(o,x)})(await a9(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="firestore.googleapis.com",FT=!0;class zT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aN,this.ssl=FT}else this.host=e.host,this.ssl=e.ssl??FT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OO)throw new ye(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rN(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wv{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new oI;switch(i.type){case"firstParty":return new dI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=BT.get(n);i&&(me("ComponentProvider","Removing Datastore"),BT.delete(n),i.terminate())})(this),Promise.resolve()}}function l9(t,e,n,i={}){t=pd(t,Wv);const s=yc(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(a5(`https://${u}`),o5("Firestore",!0)),o.host!==aN&&o.host!==u&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:s,emulatorOptions:i};if(!Co(h,l)&&(t._setSettings(h),i.mockUserToken)){let m,p;if(typeof i.mockUserToken=="string")m=i.mockUserToken,p=Dn.MOCK_USER;else{m=kR(i.mockUserToken,t._app?.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new ye(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Dn(x)}t._authCredentials=new lI(new Q5(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yv(this.firestore,e,this._query)}}class dn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Td(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Wd(n,dn._jsonSchema))return new dn(e,i||null,new be(St.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:Gt("string",dn._jsonSchemaVersion),referencePath:Gt("string")};class Td extends Yv{constructor(e,n,i){super(e,n,jv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new be(e))}withConverter(e){return new Td(this.firestore,e,this._path)}}function oN(t,e,...n){if(t=ji(t),arguments.length===1&&(e=_v.newId()),yI("doc","path",e),t instanceof Wv){const i=St.fromString(e,...n);return nT(i),new dn(t,null,new be(i))}{if(!(t instanceof dn||t instanceof Td))throw new ye(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(St.fromString(e,...n));return nT(i),new dn(t.firestore,t instanceof Td?t.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="AsyncQueue";class qT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zA(this,"async_queue_retry"),this._c=()=>{const i=ty();i&&me(HT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ty();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ty();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new da;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_c(e))throw e;me(HT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",$T(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=zv.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Te(47125,{Pc:$T(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $T(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Kv extends Wv{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new qT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qT(e),this._firestoreClient=void 0,await e}}}function c9(t,e){const n=d5(),i=Om,s=cv(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=SR("firestore");o&&l9(s,...o)}return s}function lN(t){if(t._terminated)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||u9(t),t._firestoreClient}function u9(t){const e=t._freezeSettings(),n=(function(s,o,l,u){return new jI(s,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,rN(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new i9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(kn.fromBase64String(e))}catch(n){throw new ye(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wd(e,ki._jsonSchema))return ki.fromBase64String(e.bytes)}}ki._jsonSchemaVersion="firestore/bytes/1.0",ki._jsonSchema={type:Gt("string",ki._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_s._jsonSchemaVersion}}static fromJSON(e){if(Wd(e,_s._jsonSchema))return new _s(e.latitude,e.longitude)}}_s._jsonSchemaVersion="firestore/geoPoint/1.0",_s._jsonSchema={type:Gt("string",_s._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wd(e,Ts._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ts(e.vectorValues);throw new ye(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ts._jsonSchemaVersion="firestore/vectorValue/1.0",Ts._jsonSchema={type:Gt("string",Ts._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=/^__.*__$/;class h9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yd(e,this.data,n,this.fieldTransforms)}}function uN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class Qv{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $m(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uN(this.Ac)&&d9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class f9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Tg(e)}Cc(e,n,i,s=!1){return new Qv({Ac:e,methodName:n,Dc:i,path:Sn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function m9(t){const e=t._freezeSettings(),n=Tg(t._databaseId);return new f9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g9(t,e,n,i,s,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);mN("Data must be an object, but it was:",l,i);const u=hN(i,l);let h,m;if(o.merge)h=new qi(l.fieldMask),m=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const x of o.mergeFields){const b=p9(e,x,n);if(!l.contains(b))throw new ye(ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);x9(p,b)||p.push(b)}h=new qi(p),m=l.fieldTransforms.filter((x=>h.covers(x.field)))}else h=null,m=l.fieldTransforms;return new h9(new Ei(u),h,m)}function dN(t,e){if(fN(t=ji(t)))return mN("Unsupported field value:",e,t),hN(t,e);if(t instanceof cN)return(function(i,s){if(!uN(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const o=[];let l=0;for(const u of i){let h=dN(u,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(t,e)}return(function(i,s){if((i=ji(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JI(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=yt.fromDate(i);return{timestampValue:Fm(s.serializer,o)}}if(i instanceof yt){const o=new yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fm(s.serializer,o)}}if(i instanceof _s)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ki)return{bytesValue:RA(s.serializer,i._byteString)};if(i instanceof dn){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Mv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Ts)return(function(l,u){return{mapValue:{fields:{[aA]:{stringValue:oA},[Pm]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return Cv(u.serializer,m)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${Tv(i)}`)})(t,e)}function hN(t,e){const n={};return eA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,((i,s)=>{const o=dN(s,e.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function fN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof _s||t instanceof ki||t instanceof dn||t instanceof cN||t instanceof Ts)}function mN(t,e,n){if(!fN(n)||!Z5(n)){const i=Tv(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function p9(t,e,n){if((e=ji(e))instanceof Xv)return e._internalPath;if(typeof e=="string")return gN(t,e);throw $m("Field path arguments must be of type string or ",t,!1,void 0,n)}const y9=new RegExp("[~\\*/\\[\\]]");function gN(t,e,n){if(e.search(y9)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xv(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $m(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new ye(ce.INVALID_ARGUMENT,u+t+h)}function x9(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v9 extends pN{data(){return super.data()}}function yN(t,e){return typeof e=="string"?gN(t,e):e instanceof Xv?e._internalPath:e._delegate._internalPath}class b9{convertValue(e,n="none"){switch(xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Po(e,((s,o)=>{i[s]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[Pm].arrayValue?.values?.map((i=>Vt(i.doubleValue)));return new Ts(n)}convertGeoPoint(e){return new _s(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=pg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const n=pa(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=St.fromString(e);nt(VA(i),9688,{name:e});const s=new vd(i.get(1),i.get(3)),o=new be(i.popFirst(5));return s.isEqual(n)||pr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class To extends pN{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(yN("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=To._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}To._jsonSchemaVersion="firestore/documentSnapshot/1.0",To._jsonSchema={type:Gt("string",To._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class pm extends To{data(e={}){return super.data(e)}}class id{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new qu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new pm(this._firestore,this._userDataWriter,i.key,i,new qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const h=new pm(s._firestore,s._userDataWriter,u.doc.key,u.doc,new qu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const h=new pm(s._firestore,s._userDataWriter,u.doc.key,u.doc,new qu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,p=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:_9(u.type),doc:h,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=id._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_v.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){t=pd(t,dn);const e=pd(t.firestore,Kv);return o9(lN(e),t._key).then((n=>k9(e,t,n)))}id._jsonSchemaVersion="firestore/querySnapshot/1.0",id._jsonSchema={type:Gt("string",id._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class T9 extends b9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function S9(t,e,n){t=pd(t,dn);const i=pd(t.firestore,Kv),s=w9(t.converter,e);return E9(i,[g9(m9(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,hr.none())])}function E9(t,e){return(function(i,s){const o=new da;return i.asyncQueue.enqueueAndForget((async()=>WP(await r9(i),s,o))),o.promise})(lN(t),e)}function k9(t,e,n){const i=n.docs.get(e._key),s=new T9(t);return new To(t,s,e._key,i,new qu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){bc=s})(xc),nc(new Ro("firestore",((i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new Kv(new cI(i.getProvider("auth-internal")),new hI(l,i.getProvider("app-check-internal")),(function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(m.options.projectId,p)})(l,s),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),ca(Z_,J_,e),ca(Z_,J_,"esm2020")})();const uc="password123";let Sd=[{id:"doc1",role:"doctor",email:"sarah.j@caresync.com",password:uc,name:"Dr. Sarah Johnson",specialization:"Cardiology",availability:["09:00 AM","11:00 AM","02:00 PM"]},{id:"doc2",role:"doctor",email:"emily.w@caresync.com",password:uc,name:"Dr. Emily White",specialization:"Dermatology",availability:["10:00 AM","12:00 PM","03:00 PM"]}],Gm=[{id:"pat1",role:"patient",email:"john.d@caresync.com",password:uc,name:"John Doe"},{id:"pat2",role:"patient",email:"jane.s@caresync.com",password:uc,name:"Jane Smith"}],Wm=[{id:"pharma1",role:"pharmacist",email:"mike.w@caresync.com",password:uc,name:"Mike Wilson"},{id:"pharma2",role:"pharmacist",email:"susan.c@caresync.com",password:uc,name:"Susan Clark"}],GT=[{id:"apt1",patientId:"pat1",doctorId:"doc1",date:"2025-08-15",time:"09:00 AM",status:"Confirmed"},{id:"apt2",patientId:"pat2",doctorId:"doc2",date:"2025-08-16",time:"10:00 AM",status:"Pending"}],dc=[...Gm,...Sd,...Wm],A9=dc.reduce((t,e)=>(t[e.email]=e,t),{});const N9=t=>dc.find(e=>e.id===t&&e.role==="doctor"),j9=t=>dc.find(e=>e.id===t&&e.role==="patient"),C9=t=>{t.role==="patient"?Gm.push(t):t.role==="doctor"?Sd.push(t):t.role==="pharmacist"&&Wm.push(t),dc.push(t),A9[t.email]=t},vN=c9(),bN=S.createContext(),qn=()=>{const t=S.useContext(bN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},WT=async(t,e="patient")=>{try{const n=oN(vN,"users",t.uid);(await xN(n)).exists()||await S9(n,{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,role:e,createdAt:new Date})}catch(n){console.error("Error creating user document:",n)}},YT=async t=>{try{const e=oN(vN,"users",t),n=await xN(e);return n.exists()&&n.data().role||null}catch(e){return console.error("Failed to fetch user role:",e),null}},R9=({children:t})=>{const[e,n]=S.useState(null),[i,s]=S.useState(!0),[o,l]=S.useState(()=>{try{const b=localStorage.getItem("users");return b?JSON.parse(b):dc}catch(b){return console.error("Error parsing users from localStorage",b),dc}});S.useEffect(()=>{(()=>{try{const _=localStorage.getItem("caresync_user");if(console.log("Checking localStorage for user:",_),_){const A=JSON.parse(_);console.log("Found stored user:",A),n(A)}else console.log("No stored user found in localStorage")}catch(_){console.error("Error checking existing session:",_),localStorage.removeItem("caresync_user")}s(!1)})()},[]),S.useEffect(()=>{try{localStorage.setItem("users",JSON.stringify(o))}catch(b){console.error("Error saving users to localStorage",b)}},[o]),S.useEffect(()=>e&&!e.uid?.startsWith("firebase_")?void 0:zD(bv,async _=>{if(_){await WT(_);const A=await YT(_.uid);n({uid:_.uid,email:_.email,displayName:_.displayName,photoURL:_.photoURL,role:A})}else e&&e.uid?.startsWith("firebase_")&&n(null);s(!1)}),[e]);const x={user:e,loading:i,allUsers:o,loginWithGoogle:async()=>{s(!0);try{const b=await rI();await WT(b.user);const _=await YT(b.user.uid),A={uid:b.user.uid,email:b.user.email,displayName:b.user.displayName,photoURL:b.user.photoURL,role:_};return n(A),{success:!0,user:A}}catch(b){throw console.error("Login failed:",b),b}finally{s(!1)}},login:async(b,_,A)=>{s(!0);try{await new Promise(F=>setTimeout(F,1e3));const R=o.find(F=>F.email===b);if(!R)throw new Error("User not found");if(R.password!==_)throw new Error("Invalid password");if(R.role!==A)throw new Error("Invalid role selected");const{password:C,...L}=R,U={...L,isLocalUser:!0};return console.log("Setting user in context:",U),n(U),console.log("Storing user in localStorage"),localStorage.setItem("caresync_user",JSON.stringify(U)),console.log("User stored successfully"),{success:!0,user:U}}catch(R){throw new Error(R.message)}finally{s(!1)}},register:async b=>{s(!0);try{if(await new Promise(U=>setTimeout(U,1e3)),o.find(U=>U.email===b.email))throw new Error("User already exists with this email");const _={id:`user${Date.now()}`,name:`${b.firstName} ${b.lastName}`,...b};C9(_),l(U=>[...U,_]);const{password:A,confirmPassword:R,...C}=_,L={...C,isLocalUser:!0};return n(L),localStorage.setItem("caresync_user",JSON.stringify(L)),{success:!0,user:L}}catch(_){throw new Error(_.message)}finally{s(!1)}},logout:async()=>{s(!0);try{if(e&&!e.isLocalUser)try{await aI()}catch{console.log("Firebase logout failed, continuing with local logout")}return n(null),localStorage.removeItem("caresync_user"),{success:!0}}catch(b){throw console.error("Logout failed:",b),b}finally{s(!1)}}};return d.jsx(bN.Provider,{value:x,children:t})};function D9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const M9=S.forwardRef(D9);function I9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const O9=S.forwardRef(I9);function P9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const sd=S.forwardRef(P9);function V9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Zv=S.forwardRef(V9);function L9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const U9=S.forwardRef(L9);function B9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Ed=S.forwardRef(B9);function F9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const z9=S.forwardRef(F9);function H9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const q9=S.forwardRef(H9);function $9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const G9=S.forwardRef($9);function W9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Y9=S.forwardRef(W9);function K9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const iy=S.forwardRef(K9);function X9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const wN=S.forwardRef(X9);function Q9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const kg=S.forwardRef(Q9);function Z9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ag=S.forwardRef(Z9);function J9({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const sy=S.forwardRef(J9);function eV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const tV=S.forwardRef(eV);function nV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const iV=S.forwardRef(nV);function sV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const hc=S.forwardRef(sV);function rV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const xr=S.forwardRef(rV);function aV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const oV=S.forwardRef(aV);function lV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const Ym=S.forwardRef(lV);function cV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Jv=S.forwardRef(cV);function uV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const dV=S.forwardRef(uV);function hV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-2.25-1.313M21 7.5v2.25m0-2.25-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3 2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75 2.25-1.313M12 21.75V19.5m0 2.25-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"}))}const _N=S.forwardRef(hV);function fV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const mV=S.forwardRef(fV);function gV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const kd=S.forwardRef(gV);function pV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const yV=S.forwardRef(pV);function xV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const vV=S.forwardRef(xV);function bV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const wV=S.forwardRef(bV);function _V({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const gx=S.forwardRef(_V);function TV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const px=S.forwardRef(TV);function SV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"}))}const EV=S.forwardRef(SV);function kV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const AV=S.forwardRef(kV);function NV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const fr=S.forwardRef(NV);function jV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Zd=S.forwardRef(jV);function CV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const KT=S.forwardRef(CV);function RV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const TN=S.forwardRef(RV);function DV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const MV=S.forwardRef(DV);function IV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Ad=S.forwardRef(IV);function OV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const XT=S.forwardRef(OV);function PV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const VV=S.forwardRef(PV);function LV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const QT=S.forwardRef(LV);function UV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const BV=S.forwardRef(UV);function FV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const zV=S.forwardRef(FV);function HV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const So=S.forwardRef(HV);function qV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const ZT=S.forwardRef(qV);function $V({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Nd=S.forwardRef($V);function GV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const JT=S.forwardRef(GV);function WV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const YV=S.forwardRef(WV);function KV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const XV=S.forwardRef(KV);function QV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Cs=S.forwardRef(QV);function ZV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Vf=S.forwardRef(ZV);function JV({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const SN=S.forwardRef(JV);function e7({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Jd=S.forwardRef(e7);var Ol={},eS;function t7(){if(eS)return Ol;eS=1,Object.defineProperty(Ol,"__esModule",{value:!0});var t=Jk(),e=rv(),n=function(){return n=Object.assign||function(h){for(var m,p=1,x=arguments.length;p<x;p++)for(var b in m=arguments[p])Object.prototype.hasOwnProperty.call(m,b)&&(h[b]=m[b]);return h},n.apply(this,arguments)};function i(h,m){var p,x;switch(m.type){case"TYPE":return n(n({},h),{speed:m.speed,text:(p=m.payload)===null||p===void 0?void 0:p.substring(0,h.text.length+1)});case"DELAY":return n(n({},h),{speed:m.payload});case"DELETE":return n(n({},h),{speed:m.speed,text:(x=m.payload)===null||x===void 0?void 0:x.substring(0,h.text.length-1)});case"COUNT":return n(n({},h),{count:h.count+1});default:return h}}var s=function(h){var m=h.words,p=m===void 0?["Hello World!","This is","a simple Typewriter"]:m,x=h.loop,b=x===void 0?1:x,_=h.typeSpeed,A=_===void 0?80:_,R=h.deleteSpeed,C=R===void 0?50:R,L=h.delaySpeed,U=L===void 0?1500:L,F=h.onLoopDone,G=h.onType,Q=h.onDelete,te=h.onDelay,V=e.useReducer(i,{speed:A,text:"",count:0}),k=V[0],N=k.speed,D=k.text,I=k.count,O=V[1],P=e.useRef(0),X=e.useRef(!1),se=e.useRef(!1),z=e.useRef(!1),$=e.useRef(!1),le=e.useCallback((function(){var fe=I%p.length,ue=p[fe];se.current?(O({type:"DELETE",payload:ue,speed:C}),D===""&&(se.current=!1,O({type:"COUNT"}))):(O({type:"TYPE",payload:ue,speed:A}),z.current=!0,D===ue&&(O({type:"DELAY",payload:U}),z.current=!1,$.current=!0,setTimeout((function(){$.current=!1,se.current=!0}),U),b>0&&(P.current+=1,P.current/p.length===b&&($.current=!1,X.current=!0)))),z.current&&G&&G(P.current),se.current&&Q&&Q(),$.current&&te&&te()}),[I,U,C,b,A,p,D,G,Q,te]);return e.useEffect((function(){var fe=setTimeout(le,N);return X.current&&clearTimeout(fe),function(){return clearTimeout(fe)}}),[le,N]),e.useEffect((function(){F&&X.current&&F()}),[F]),[D,{isType:z.current,isDelay:$.current,isDelete:se.current,isDone:X.current}]},o="styles-module_blinkingCursor__yugAC",l="styles-module_blinking__9VXRT";(function(h,m){m===void 0&&(m={});var p=m.insertAt;if(typeof document<"u"){var x=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css",p==="top"&&x.firstChild?x.insertBefore(b,x.firstChild):x.appendChild(b),b.styleSheet?b.styleSheet.cssText=h:b.appendChild(document.createTextNode(h))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var u=e.memo((function(h){var m=h.cursorBlinking,p=m===void 0||m,x=h.cursorStyle,b=x===void 0?"|":x,_=h.cursorColor,A=_===void 0?"inherit":_;return t.jsx("span",n({style:{color:A},className:"".concat(o," ").concat(p?l:"")},{children:b}))}));return Ol.Cursor=u,Ol.Typewriter=function(h){var m=h.words,p=m===void 0?["Hello World!","This is","a simple Typewriter"]:m,x=h.loop,b=x===void 0?1:x,_=h.typeSpeed,A=_===void 0?80:_,R=h.deleteSpeed,C=R===void 0?50:R,L=h.delaySpeed,U=L===void 0?1500:L,F=h.cursor,G=F!==void 0&&F,Q=h.cursorStyle,te=Q===void 0?"|":Q,V=h.cursorColor,k=V===void 0?"inherit":V,N=h.cursorBlinking,D=N===void 0||N,I=h.onLoopDone,O=h.onType,P=h.onDelay,X=h.onDelete,se=s({words:p,loop:b,typeSpeed:A,deleteSpeed:C,delaySpeed:U,onLoopDone:I,onType:O,onDelay:P,onDelete:X})[0];return t.jsxs(t.Fragment,{children:[t.jsx("span",{children:se}),G&&t.jsx(u,{cursorStyle:te,cursorColor:k,cursorBlinking:D})]})},Ol.useTypewriter=s,Ol}t7();var Iu={},$u={exports:{}},n7=$u.exports,tS;function i7(){return tS||(tS=1,(function(t,e){(function(n,i){i(e)})(n7,(function(n){var i=function(){return i=Object.assign||function(o){for(var l,u=1,h=arguments.length;u<h;u++)for(var m in l=arguments[u])Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m]);return o},i.apply(this,arguments)},s=(function(){function o(l,u,h){var m=this;this.endVal=u,this.options=h,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(p){m.startTime||(m.startTime=p);var x=p-m.startTime;m.remaining=m.duration-x,m.useEasing?m.countDown?m.frameVal=m.startVal-m.easingFn(x,0,m.startVal-m.endVal,m.duration):m.frameVal=m.easingFn(x,m.startVal,m.endVal-m.startVal,m.duration):m.frameVal=m.startVal+(m.endVal-m.startVal)*(x/m.duration);var b=m.countDown?m.frameVal<m.endVal:m.frameVal>m.endVal;m.frameVal=b?m.endVal:m.frameVal,m.frameVal=Number(m.frameVal.toFixed(m.options.decimalPlaces)),m.printValue(m.frameVal),x<m.duration?m.rAF=requestAnimationFrame(m.count):m.finalEndVal!==null?m.update(m.finalEndVal):m.options.onCompleteCallback&&m.options.onCompleteCallback()},this.formatNumber=function(p){var x,b,_,A,R=p<0?"-":"";x=Math.abs(p).toFixed(m.options.decimalPlaces);var C=(x+="").split(".");if(b=C[0],_=C.length>1?m.options.decimal+C[1]:"",m.options.useGrouping){A="";for(var L=3,U=0,F=0,G=b.length;F<G;++F)m.options.useIndianSeparators&&F===4&&(L=2,U=1),F!==0&&U%L==0&&(A=m.options.separator+A),U++,A=b[G-F-1]+A;b=A}return m.options.numerals&&m.options.numerals.length&&(b=b.replace(/[0-9]/g,(function(Q){return m.options.numerals[+Q]})),_=_.replace(/[0-9]/g,(function(Q){return m.options.numerals[+Q]}))),R+m.options.prefix+b+_+m.options.suffix},this.easeOutExpo=function(p,x,b,_){return b*(1-Math.pow(2,-10*p/_))*1024/1023+x},this.options=i(i({},this.defaults),h),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof l=="string"?document.getElementById(l):l,u=u??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(u),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,l):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return m.handleScroll(m)})),window.onscroll=function(){window.onScrollFns.forEach((function(p){return p()}))},this.handleScroll(this)))}return o.prototype.handleScroll=function(l){if(l&&window&&!l.once){var u=window.innerHeight+window.scrollY,h=l.el.getBoundingClientRect(),m=h.top+window.pageYOffset,p=h.top+h.height+window.pageYOffset;p<u&&p>window.scrollY&&l.paused?(l.paused=!1,setTimeout((function(){return l.start()}),l.options.scrollSpyDelay),l.options.scrollSpyOnce&&(l.once=!0)):(window.scrollY>p||m>u)&&!l.paused&&l.reset()}},o.prototype.determineDirectionAndSmartEasing=function(){var l=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>l;var u=l-this.startVal;if(Math.abs(u)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=l;var h=this.countDown?1:-1;this.endVal=l+h*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=l,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},o.prototype.start=function(l){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),l&&(this.options.onCompleteCallback=l),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},o.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},o.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},o.prototype.update=function(l){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(l),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},o.prototype.printValue=function(l){var u;if(this.el){var h=this.formattingFn(l);!((u=this.options.plugin)===null||u===void 0)&&u.render?this.options.plugin.render(this.el,h):this.el.tagName==="INPUT"?this.el.value=h:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=h:this.el.innerHTML=h}},o.prototype.ensureNumber=function(l){return typeof l=="number"&&!isNaN(l)},o.prototype.validateValue=function(l){var u=Number(l);return this.ensureNumber(u)?u:(this.error="[CountUp] invalid start or end value: ".concat(l),null)},o.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},o.prototype.parse=function(l){var u=function(x){return x.replace(/([.,' ])/g,"\\$1")},h=u(this.options.separator),m=u(this.options.decimal),p=l.replace(new RegExp(h,"g"),"").replace(new RegExp(m,"g"),".");return parseFloat(p)},o})();n.CountUp=s}))})($u,$u.exports)),$u.exports}var nS;function s7(){if(nS)return Iu;nS=1,Object.defineProperty(Iu,"__esModule",{value:!0});var t=rv(),e=i7();function n(k,N){var D=k==null?null:typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(D!=null){var I,O,P,X,se=[],z=!0,$=!1;try{if(P=(D=D.call(k)).next,N!==0)for(;!(z=(I=P.call(D)).done)&&(se.push(I.value),se.length!==N);z=!0);}catch(le){$=!0,O=le}finally{try{if(!z&&D.return!=null&&(X=D.return(),Object(X)!==X))return}finally{if($)throw O}}return se}}function i(k,N){var D=Object.keys(k);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(k);N&&(I=I.filter(function(O){return Object.getOwnPropertyDescriptor(k,O).enumerable})),D.push.apply(D,I)}return D}function s(k){for(var N=1;N<arguments.length;N++){var D=arguments[N]!=null?arguments[N]:{};N%2?i(Object(D),!0).forEach(function(I){u(k,I,D[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(D)):i(Object(D)).forEach(function(I){Object.defineProperty(k,I,Object.getOwnPropertyDescriptor(D,I))})}return k}function o(k,N){if(typeof k!="object"||!k)return k;var D=k[Symbol.toPrimitive];if(D!==void 0){var I=D.call(k,N);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(k)}function l(k){var N=o(k,"string");return typeof N=="symbol"?N:String(N)}function u(k,N,D){return N=l(N),N in k?Object.defineProperty(k,N,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[N]=D,k}function h(){return h=Object.assign?Object.assign.bind():function(k){for(var N=1;N<arguments.length;N++){var D=arguments[N];for(var I in D)Object.prototype.hasOwnProperty.call(D,I)&&(k[I]=D[I])}return k},h.apply(this,arguments)}function m(k,N){if(k==null)return{};var D={},I=Object.keys(k),O,P;for(P=0;P<I.length;P++)O=I[P],!(N.indexOf(O)>=0)&&(D[O]=k[O]);return D}function p(k,N){if(k==null)return{};var D=m(k,N),I,O;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(k);for(O=0;O<P.length;O++)I=P[O],!(N.indexOf(I)>=0)&&Object.prototype.propertyIsEnumerable.call(k,I)&&(D[I]=k[I])}return D}function x(k,N){return b(k)||n(k,N)||_(k,N)||R()}function b(k){if(Array.isArray(k))return k}function _(k,N){if(k){if(typeof k=="string")return A(k,N);var D=Object.prototype.toString.call(k).slice(8,-1);if(D==="Object"&&k.constructor&&(D=k.constructor.name),D==="Map"||D==="Set")return Array.from(k);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return A(k,N)}}function A(k,N){(N==null||N>k.length)&&(N=k.length);for(var D=0,I=new Array(N);D<N;D++)I[D]=k[D];return I}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?t.useLayoutEffect:t.useEffect;function L(k){var N=t.useRef(k);return C(function(){N.current=k}),t.useCallback(function(){for(var D=arguments.length,I=new Array(D),O=0;O<D;O++)I[O]=arguments[O];return N.current.apply(void 0,I)},[])}var U=function(N,D){var I=D.decimal,O=D.decimals,P=D.duration,X=D.easingFn,se=D.end,z=D.formattingFn,$=D.numerals,le=D.prefix,fe=D.separator,ue=D.start,ve=D.suffix,xe=D.useEasing,he=D.useGrouping,ke=D.useIndianSeparators,$e=D.enableScrollSpy,Be=D.scrollSpyDelay,At=D.scrollSpyOnce,Nt=D.plugin;return new e.CountUp(N,se,{startVal:ue,duration:P,decimal:I,decimalPlaces:O,easingFn:X,formattingFn:z,numerals:$,separator:fe,prefix:le,suffix:ve,plugin:Nt,useEasing:xe,useIndianSeparators:ke,useGrouping:he,enableScrollSpy:$e,scrollSpyDelay:Be,scrollSpyOnce:At})},F=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],G={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},Q=function(N){var D=Object.fromEntries(Object.entries(N).filter(function(jt){var Ge=x(jt,2),Nn=Ge[1];return Nn!==void 0})),I=t.useMemo(function(){return s(s({},G),D)},[N]),O=I.ref,P=I.startOnMount,X=I.enableReinitialize,se=I.delay,z=I.onEnd,$=I.onStart,le=I.onPauseResume,fe=I.onReset,ue=I.onUpdate,ve=p(I,F),xe=t.useRef(),he=t.useRef(),ke=t.useRef(!1),$e=L(function(){return U(typeof O=="string"?O:O.current,ve)}),Be=L(function(jt){var Ge=xe.current;if(Ge&&!jt)return Ge;var Nn=$e();return xe.current=Nn,Nn}),At=L(function(){var jt=function(){return Be(!0).start(function(){z?.({pauseResume:Nt,reset:ut,start:Wt,update:nn})})};se&&se>0?he.current=setTimeout(jt,se*1e3):jt(),$?.({pauseResume:Nt,reset:ut,update:nn})}),Nt=L(function(){Be().pauseResume(),le?.({reset:ut,start:Wt,update:nn})}),ut=L(function(){Be().el&&(he.current&&clearTimeout(he.current),Be().reset(),fe?.({pauseResume:Nt,start:Wt,update:nn}))}),nn=L(function(jt){Be().update(jt),ue?.({pauseResume:Nt,reset:ut,start:Wt})}),Wt=L(function(){ut(),At()}),An=L(function(jt){P&&(jt&&ut(),At())});return t.useEffect(function(){ke.current?X&&An(!0):(ke.current=!0,An())},[X,ke,An,se,N.start,N.suffix,N.prefix,N.duration,N.separator,N.decimals,N.decimal,N.formattingFn]),t.useEffect(function(){return function(){ut()}},[ut]),{start:Wt,pauseResume:Nt,reset:ut,update:nn,getCountUp:Be}},te=["className","redraw","containerProps","children","style"],V=function(N){var D=N.className,I=N.redraw,O=N.containerProps,P=N.children,X=N.style,se=p(N,te),z=t.useRef(null),$=t.useRef(!1),le=Q(s(s({},se),{},{ref:z,startOnMount:typeof P!="function"||N.delay===0,enableReinitialize:!1})),fe=le.start,ue=le.reset,ve=le.update,xe=le.pauseResume,he=le.getCountUp,ke=L(function(){fe()}),$e=L(function(Nt){N.preserveValue||ue(),ve(Nt)}),Be=L(function(){if(typeof N.children=="function"&&!(z.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}he()});t.useEffect(function(){Be()},[Be]),t.useEffect(function(){$.current&&$e(N.end)},[N.end,$e]);var At=I&&N;return t.useEffect(function(){I&&$.current&&ke()},[ke,I,At]),t.useEffect(function(){!I&&$.current&&ke()},[ke,I,N.start,N.suffix,N.prefix,N.duration,N.separator,N.decimals,N.decimal,N.className,N.formattingFn]),t.useEffect(function(){$.current=!0},[]),typeof P=="function"?P({countUpRef:z,start:fe,reset:ue,update:ve,pauseResume:xe,getCountUp:he}):t.createElement("span",h({className:D,ref:z,style:X},O),typeof N.start<"u"?he().formattingFn(N.start):"")};return Iu.default=V,Iu.useCountUp=Q,Iu}var r7=s7();const EN=av(r7),eb=S.createContext({});function tb(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const nb=typeof window<"u",kN=nb?S.useLayoutEffect:S.useEffect,Ng=S.createContext(null);function ib(t,e){t.indexOf(e)===-1&&t.push(e)}function sb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vr=(t,e,n)=>n>e?e:n<t?t:n;let rb=()=>{};const br={},AN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function NN(t){return typeof t=="object"&&t!==null}const jN=t=>/^0[^.\s]+$/u.test(t);function ab(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ni=t=>t,a7=(t,e)=>n=>e(t(n)),eh=(...t)=>t.reduce(a7),jd=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class ob{constructor(){this.subscriptions=[]}add(e){return ib(this.subscriptions,e),()=>sb(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ss=t=>t*1e3,Es=t=>t/1e3;function CN(t,e){return e?t*(1e3/e):0}const RN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,o7=1e-7,l7=12;function c7(t,e,n,i,s){let o,l,u=0;do l=e+(n-e)/2,o=RN(l,i,s)-t,o>0?n=l:e=l;while(Math.abs(o)>o7&&++u<l7);return l}function th(t,e,n,i){if(t===e&&n===i)return Ni;const s=o=>c7(o,0,1,t,n);return o=>o===0||o===1?o:RN(s(o),e,i)}const DN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MN=t=>e=>1-t(1-e),IN=th(.33,1.53,.69,.99),lb=MN(IN),ON=DN(lb),PN=t=>(t*=2)<1?.5*lb(t):.5*(2-Math.pow(2,-10*(t-1))),cb=t=>1-Math.sin(Math.acos(t)),VN=MN(cb),LN=DN(cb),u7=th(.42,0,1,1),d7=th(0,0,.58,1),UN=th(.42,0,.58,1),h7=t=>Array.isArray(t)&&typeof t[0]!="number",BN=t=>Array.isArray(t)&&typeof t[0]=="number",f7={linear:Ni,easeIn:u7,easeInOut:UN,easeOut:d7,circIn:cb,circInOut:LN,circOut:VN,backIn:lb,backInOut:ON,backOut:IN,anticipate:PN},m7=t=>typeof t=="string",iS=t=>{if(BN(t)){rb(t.length===4);const[e,n,i,s]=t;return th(e,n,i,s)}else if(m7(t))return f7[t];return t},Lf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function g7(t,e){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){l.has(p)&&(m.schedule(p),t()),p(u)}const m={schedule:(p,x=!1,b=!1)=>{const A=b&&s?n:i;return x&&l.add(p),A.has(p)||A.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(u=p,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(h),n.clear(),s=!1,o&&(o=!1,m.process(p))}};return m}const p7=40;function FN(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Lf.reduce((F,G)=>(F[G]=g7(o),F),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:p,update:x,preRender:b,render:_,postRender:A}=l,R=()=>{const F=br.useManualTiming?s.timestamp:performance.now();n=!1,br.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(F-s.timestamp,p7),1)),s.timestamp=F,s.isProcessing=!0,u.process(s),h.process(s),m.process(s),p.process(s),x.process(s),b.process(s),_.process(s),A.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(R))},C=()=>{n=!0,i=!0,s.isProcessing||t(R)};return{schedule:Lf.reduce((F,G)=>{const Q=l[G];return F[G]=(te,V=!1,k=!1)=>(n||C(),Q.schedule(te,V,k)),F},{}),cancel:F=>{for(let G=0;G<Lf.length;G++)l[Lf[G]].cancel(F)},state:s,steps:l}}const{schedule:wt,cancel:wa,state:_n,steps:ry}=FN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ni,!0);let ym;function y7(){ym=void 0}const Qn={now:()=>(ym===void 0&&Qn.set(_n.isProcessing||br.useManualTiming?_n.timestamp:performance.now()),ym),set:t=>{ym=t,queueMicrotask(y7)}},zN=t=>e=>typeof e=="string"&&e.startsWith(t),ub=zN("--"),x7=zN("var(--"),db=t=>x7(t)?v7.test(t.split("/*")[0].trim()):!1,v7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cd={...Sc,transform:t=>vr(0,1,t)},Uf={...Sc,default:1},rd=t=>Math.round(t*1e5)/1e5,hb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function b7(t){return t==null}const w7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fb=(t,e)=>n=>!!(typeof n=="string"&&w7.test(n)&&n.startsWith(t)||e&&!b7(n)&&Object.prototype.hasOwnProperty.call(n,e)),HN=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,u]=i.match(hb);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},_7=t=>vr(0,255,t),ay={...Sc,transform:t=>Math.round(_7(t))},vo={test:fb("rgb","red"),parse:HN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ay.transform(t)+", "+ay.transform(e)+", "+ay.transform(n)+", "+rd(Cd.transform(i))+")"};function T7(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const yx={test:fb("#"),parse:T7,transform:vo.transform},nh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jr=nh("deg"),ks=nh("%"),Ee=nh("px"),S7=nh("vh"),E7=nh("vw"),sS={...ks,parse:t=>ks.parse(t)/100,transform:t=>ks.transform(t*100)},Fl={test:fb("hsl","hue"),parse:HN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ks.transform(rd(e))+", "+ks.transform(rd(n))+", "+rd(Cd.transform(i))+")"},$t={test:t=>vo.test(t)||yx.test(t)||Fl.test(t),parse:t=>vo.test(t)?vo.parse(t):Fl.test(t)?Fl.parse(t):yx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vo.transform(t):Fl.transform(t),getAnimatableNone:t=>{const e=$t.parse(t);return e.alpha=0,$t.transform(e)}},k7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function A7(t){return isNaN(t)&&typeof t=="string"&&(t.match(hb)?.length||0)+(t.match(k7)?.length||0)>0}const qN="number",$N="color",N7="var",j7="var(",rS="${}",C7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rd(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(C7,h=>($t.test(h)?(i.color.push(o),s.push($N),n.push($t.parse(h))):h.startsWith(j7)?(i.var.push(o),s.push(N7),n.push(h)):(i.number.push(o),s.push(qN),n.push(parseFloat(h))),++o,rS)).split(rS);return{values:n,split:u,indexes:i,types:s}}function GN(t){return Rd(t).values}function WN(t){const{split:e,types:n}=Rd(t),i=e.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===qN?o+=rd(s[l]):u===$N?o+=$t.transform(s[l]):o+=s[l]}return o}}const R7=t=>typeof t=="number"?0:$t.test(t)?$t.getAnimatableNone(t):t;function D7(t){const e=GN(t);return WN(t)(e.map(R7))}const _a={test:A7,parse:GN,createTransformer:WN,getAnimatableNone:D7};function oy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function M7({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=oy(h,u,t+1/3),o=oy(h,u,t),l=oy(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Km(t,e){return n=>n>0?e:t}const Et=(t,e,n)=>t+(e-t)*n,ly=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},I7=[yx,vo,Fl],O7=t=>I7.find(e=>e.test(t));function aS(t){const e=O7(t);if(!e)return!1;let n=e.parse(t);return e===Fl&&(n=M7(n)),n}const oS=(t,e)=>{const n=aS(t),i=aS(e);if(!n||!i)return Km(t,e);const s={...n};return o=>(s.red=ly(n.red,i.red,o),s.green=ly(n.green,i.green,o),s.blue=ly(n.blue,i.blue,o),s.alpha=Et(n.alpha,i.alpha,o),vo.transform(s))},xx=new Set(["none","hidden"]);function P7(t,e){return xx.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function V7(t,e){return n=>Et(t,e,n)}function mb(t){return typeof t=="number"?V7:typeof t=="string"?db(t)?Km:$t.test(t)?oS:B7:Array.isArray(t)?YN:typeof t=="object"?$t.test(t)?oS:L7:Km}function YN(t,e){const n=[...t],i=n.length,s=t.map((o,l)=>mb(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function L7(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=mb(t[s])(t[s],e[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function U7(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][i[o]],u=t.values[l]??0;n[s]=u,i[o]++}return n}const B7=(t,e)=>{const n=_a.createTransformer(e),i=Rd(t),s=Rd(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?xx.has(t)&&!s.values.length||xx.has(e)&&!i.values.length?P7(t,e):eh(YN(U7(i,s),s.values),n):Km(t,e)};function KN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Et(t,e,n):mb(t)(t,e)}const F7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>wt.update(e,n),stop:()=>wa(e),now:()=>_n.isProcessing?_n.timestamp:Qn.now()}},XN=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)i+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Xm=2e4;function gb(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Xm;)e+=n,i=t.next(e);return e>=Xm?1/0:e}function z7(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(gb(i),Xm);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:Es(s)}}const H7=5;function QN(t,e,n){const i=Math.max(e-H7,0);return CN(n-t(i),e-i)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cy=.001;function q7({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:i=Mt.mass}){let s,o,l=1-e;l=vr(Mt.minDamping,Mt.maxDamping,l),t=vr(Mt.minDuration,Mt.maxDuration,Es(t)),l<1?(s=m=>{const p=m*l,x=p*t,b=p-n,_=vx(m,l),A=Math.exp(-x);return cy-b/_*A},o=m=>{const x=m*l*t,b=x*n+n,_=Math.pow(l,2)*Math.pow(m,2)*t,A=Math.exp(-x),R=vx(Math.pow(m,2),l);return(-s(m)+cy>0?-1:1)*((b-_)*A)/R}):(s=m=>{const p=Math.exp(-m*t),x=(m-n)*t+1;return-cy+p*x},o=m=>{const p=Math.exp(-m*t),x=(n-m)*(t*t);return p*x});const u=5/t,h=G7(s,o,u);if(t=Ss(t),isNaN(h))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:l*2*Math.sqrt(i*m),duration:t}}}const $7=12;function G7(t,e,n){let i=n;for(let s=1;s<$7;s++)i=i-t(i)/e(i);return i}function vx(t,e){return t*Math.sqrt(1-e*e)}const W7=["duration","bounce"],Y7=["stiffness","damping","mass"];function lS(t,e){return e.some(n=>t[n]!==void 0)}function K7(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!lS(t,Y7)&&lS(t,W7))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*vr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Mt.mass,stiffness:s,damping:o}}else{const n=q7(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function Qm(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:m,mass:p,duration:x,velocity:b,isResolvedFromDuration:_}=K7({...n,velocity:-Es(n.velocity||0)}),A=b||0,R=m/(2*Math.sqrt(h*p)),C=l-o,L=Es(Math.sqrt(h/p)),U=Math.abs(C)<5;i||(i=U?Mt.restSpeed.granular:Mt.restSpeed.default),s||(s=U?Mt.restDelta.granular:Mt.restDelta.default);let F;if(R<1){const Q=vx(L,R);F=te=>{const V=Math.exp(-R*L*te);return l-V*((A+R*L*C)/Q*Math.sin(Q*te)+C*Math.cos(Q*te))}}else if(R===1)F=Q=>l-Math.exp(-L*Q)*(C+(A+L*C)*Q);else{const Q=L*Math.sqrt(R*R-1);F=te=>{const V=Math.exp(-R*L*te),k=Math.min(Q*te,300);return l-V*((A+R*L*C)*Math.sinh(k)+Q*C*Math.cosh(k))/Q}}const G={calculatedDuration:_&&x||null,next:Q=>{const te=F(Q);if(_)u.done=Q>=x;else{let V=Q===0?A:0;R<1&&(V=Q===0?Ss(A):QN(F,Q,te));const k=Math.abs(V)<=i,N=Math.abs(l-te)<=s;u.done=k&&N}return u.value=u.done?l:te,u},toString:()=>{const Q=Math.min(gb(G),Xm),te=XN(V=>G.next(Q*V).value,Q,30);return Q+"ms "+te},toTransition:()=>{}};return G}Qm.applyToOptions=t=>{const e=z7(t,100,Qm);return t.ease=e.ease,t.duration=Ss(e.duration),t.type="keyframes",t};function bx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:p}){const x=t[0],b={done:!1,value:x},_=k=>u!==void 0&&k<u||h!==void 0&&k>h,A=k=>u===void 0?h:h===void 0||Math.abs(u-k)<Math.abs(h-k)?u:h;let R=n*e;const C=x+R,L=l===void 0?C:l(C);L!==C&&(R=L-x);const U=k=>-R*Math.exp(-k/i),F=k=>L+U(k),G=k=>{const N=U(k),D=F(k);b.done=Math.abs(N)<=m,b.value=b.done?L:D};let Q,te;const V=k=>{_(b.value)&&(Q=k,te=Qm({keyframes:[b.value,A(b.value)],velocity:QN(F,k,b.value),damping:s,stiffness:o,restDelta:m,restSpeed:p}))};return V(0),{calculatedDuration:null,next:k=>{let N=!1;return!te&&Q===void 0&&(N=!0,G(k),V(k)),Q!==void 0&&k>=Q?te.next(k-Q):(!N&&G(k),b)}}}function X7(t,e,n){const i=[],s=n||br.mix||KN,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Ni:e;u=eh(h,u)}i.push(u)}return i}function Q7(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const o=t.length;if(rb(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=X7(e,i,s),h=u.length,m=p=>{if(l&&p<t[0])return e[0];let x=0;if(h>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const b=jd(t[x],t[x+1],p);return u[x](b)};return n?p=>m(vr(t[0],t[o-1],p)):m}function Z7(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=jd(0,e,i);t.push(Et(n,1,s))}}function J7(t){const e=[0];return Z7(e,t.length-1),e}function eL(t,e){return t.map(n=>n*e)}function tL(t,e){return t.map(()=>e||UN).splice(0,t.length-1)}function ad({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=h7(i)?i.map(iS):iS(i),o={done:!1,value:e[0]},l=eL(n&&n.length===e.length?n:J7(e),t),u=Q7(l,e,{ease:Array.isArray(s)?s:tL(e,s)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const nL=t=>t!==null;function pb(t,{repeat:e,repeatType:n="loop"},i,s=1){const o=t.filter(nL),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const iL={decay:bx,inertia:bx,tween:ad,keyframes:ad,spring:Qm};function ZN(t){typeof t.type=="string"&&(t.type=iL[t.type])}class yb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const sL=t=>t/100;class xb extends yb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Qn.now()&&this.tick(Qn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ZN(e);const{type:n=ad,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const h=n||ad;h!==ad&&typeof u[0]!="number"&&(this.mixKeyframes=eh(sL,KN(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=gb(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:p,repeat:x,repeatType:b,repeatDelay:_,type:A,onUpdate:R,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-m*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?L<0:L>s;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,G=i;if(x){const k=Math.min(this.currentTime,s)/u;let N=Math.floor(k),D=k%1;!D&&k>=1&&(D=1),D===1&&N--,N=Math.min(N,x+1),!!(N%2)&&(b==="reverse"?(D=1-D,_&&(D-=_/u)):b==="mirror"&&(G=l)),F=vr(0,1,D)*u}const Q=U?{done:!1,value:p[0]}:G.next(F);o&&(Q.value=o(Q.value));let{done:te}=Q;!U&&h!==null&&(te=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&te);return V&&A!==bx&&(Q.value=pb(p,this.options,C,this.speed)),R&&R(Q.value),V&&this.finish(),Q}then(e,n){return this.finished.then(e,n)}get duration(){return Es(this.calculatedDuration)}get time(){return Es(this.currentTime)}set time(e){e=Ss(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Qn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Es(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=F7,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function rL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const bo=t=>t*180/Math.PI,wx=t=>{const e=bo(Math.atan2(t[1],t[0]));return _x(e)},aL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:wx,rotateZ:wx,skewX:t=>bo(Math.atan(t[1])),skewY:t=>bo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_x=t=>(t=t%360,t<0&&(t+=360),t),cS=wx,uS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),oL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uS,scaleY:dS,scale:t=>(uS(t)+dS(t))/2,rotateX:t=>_x(bo(Math.atan2(t[6],t[5]))),rotateY:t=>_x(bo(Math.atan2(-t[2],t[0]))),rotateZ:cS,rotate:cS,skewX:t=>bo(Math.atan(t[4])),skewY:t=>bo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Tx(t){return t.includes("scale")?1:0}function Sx(t,e){if(!t||t==="none")return Tx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=oL,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=aL,s=u}if(!s)return Tx(e);const o=i[e],l=s[1].split(",").map(cL);return typeof o=="function"?o(l):l[o]}const lL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Sx(n,e)};function cL(t){return parseFloat(t.trim())}const Ec=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kc=new Set(Ec),hS=t=>t===Sc||t===Ee,uL=new Set(["x","y","z"]),dL=Ec.filter(t=>!uL.has(t));function hL(t){const e=[];return dL.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Eo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Sx(e,"x"),y:(t,{transform:e})=>Sx(e,"y")};Eo.translateX=Eo.x;Eo.translateY=Eo.y;const ko=new Set;let Ex=!1,kx=!1,Ax=!1;function JN(){if(kx){const t=Array.from(ko).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=hL(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}kx=!1,Ex=!1,ko.forEach(t=>t.complete(Ax)),ko.clear()}function ej(){ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kx=!0)})}function fL(){Ax=!0,ej(),JN(),Ax=!1}class vb{constructor(e,n,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ko.add(this),Ex||(Ex=!0,wt.read(ej),wt.resolveKeyframes(JN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const o=s?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const u=i.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}rL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ko.delete(this)}cancel(){this.state==="scheduled"&&(ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mL=t=>t.startsWith("--");function gL(t,e,n){mL(e)?t.style.setProperty(e,n):t.style[e]=n}const pL=ab(()=>window.ScrollTimeline!==void 0),yL={};function xL(t,e){const n=ab(t);return()=>yL[e]??n()}const tj=xL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,fS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gu([0,.65,.55,1]),circOut:Gu([.55,0,1,.45]),backIn:Gu([.31,.01,.66,-.59]),backOut:Gu([.33,1.53,.69,.99])};function nj(t,e){if(t)return typeof t=="function"?tj()?XN(t,e):"ease-out":BN(t)?Gu(t):Array.isArray(t)?t.map(n=>nj(n,e)||fS.easeOut):fS[t]}function vL(t,e,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:h}={},m=void 0){const p={[e]:n};h&&(p.offset=h);const x=nj(u,s);Array.isArray(x)&&(p.easing=x);const b={delay:i,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(p,b)}function ij(t){return typeof t=="function"&&"applyToOptions"in t}function bL({type:t,...e}){return ij(t)&&tj()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wL extends yb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,rb(typeof e.type!="string");const m=bL(e);this.animation=vL(n,i,s,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=pb(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):gL(n,i,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Es(Number(e))}get time(){return Es(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ss(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&pL()?(this.animation.timeline=e,Ni):n(this)}}const sj={anticipate:PN,backInOut:ON,circInOut:LN};function _L(t){return t in sj}function TL(t){typeof t.ease=="string"&&_L(t.ease)&&(t.ease=sj[t.ease])}const mS=10;class SL extends wL{constructor(e){TL(e),ZN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new xb({...l,autoplay:!1}),h=Ss(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-mS).value,u.sample(h).value,mS),u.stop()}}const gS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_a.test(t)||t==="0")&&!t.startsWith("url("));function EL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function kL(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=gS(s,e),u=gS(o,e);return!l||!u?!1:EL(t)||(n==="spring"||ij(n))&&i}function Nx(t){t.duration=0,t.type}const AL=new Set(["opacity","clipPath","filter","transform"]),NL=ab(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jL(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return NL()&&n&&AL.has(n)&&(n!=="transform"||!m)&&!h&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const CL=40;class RL extends yb{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:h,motionValue:m,element:p,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Qn.now();const b={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,name:h,motionValue:m,element:p,...x},_=p?.KeyframeResolver||vb;this.keyframeResolver=new _(u,(A,R,C)=>this.onKeyframesResolved(A,R,b,!C),h,m,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:h,isHandoff:m,onUpdate:p}=i;this.resolvedAt=Qn.now(),kL(e,o,l,u)||((br.instantAnimations||!h)&&p?.(pb(e,i,n)),e[0]=e[e.length-1],Nx(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>CL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},_=!m&&jL(b)?new SL({...b,element:b.motionValue.owner.current}):new xb(b);_.finished.then(()=>this.notifyFinished()).catch(Ni),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),fL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const DL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ML(t){const e=DL.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function rj(t,e,n=1){const[i,s]=ML(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return AN(l)?parseFloat(l):l}return db(s)?rj(s,e,n+1):s}function bb(t,e){return t?.[e]??t?.default??t}const aj=new Set(["width","height","top","left","right","bottom",...Ec]),IL={test:t=>t==="auto",parse:t=>t},oj=t=>e=>e.test(t),lj=[Sc,Ee,ks,Jr,E7,S7,IL],pS=t=>lj.find(oj(t));function OL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jN(t):!0}const PL=new Set(["brightness","contrast","saturate","opacity"]);function VL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(hb)||[];if(!i)return t;const s=n.replace(i,"");let o=PL.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+s+")"}const LL=/\b([a-z-]*)\(.*?\)/gu,jx={..._a,getAnimatableNone:t=>{const e=t.match(LL);return e?e.map(VL).join(" "):t}},yS={...Sc,transform:Math.round},UL={rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:Uf,scaleX:Uf,scaleY:Uf,scaleZ:Uf,skew:Jr,skewX:Jr,skewY:Jr,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Cd,originX:sS,originY:sS,originZ:Ee},wb={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...UL,zIndex:yS,fillOpacity:Cd,strokeOpacity:Cd,numOctaves:yS},BL={...wb,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:jx,WebkitFilter:jx},cj=t=>BL[t];function uj(t,e){let n=cj(t);return n!==jx&&(n=_a),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FL=new Set(["auto","none","0"]);function zL(t,e,n){let i=0,s;for(;i<t.length&&!s;){const o=t[i];typeof o=="string"&&!FL.has(o)&&Rd(o).values.length&&(s=t[i]),i++}if(s&&n)for(const o of e)t[o]=uj(n,s)}class HL extends vb{constructor(e,n,i,s,o){super(e,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),db(m))){const p=rj(m,n.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!aj.has(i)||e.length!==2)return;const[s,o]=e,l=pS(s),u=pS(o);if(l!==u)if(hS(l)&&hS(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else Eo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||OL(e[s]))&&i.push(s);i.length&&zL(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Eo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Eo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function qL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=n?.[t]??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const dj=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function hj(t){return NN(t)&&"offsetHeight"in t}const xS=30,$L=t=>!isNaN(parseFloat(t));class GL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Qn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$L(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ob);const i=this.events[e].add(n);return e==="change"?()=>{i(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xS);return CN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fc(t,e){return new GL(t,e)}const{schedule:_b}=FN(queueMicrotask,!1),Fi={x:!1,y:!1};function fj(){return Fi.x||Fi.y}function WL(t){return t==="x"||t==="y"?Fi[t]?null:(Fi[t]=!0,()=>{Fi[t]=!1}):Fi.x||Fi.y?null:(Fi.x=Fi.y=!0,()=>{Fi.x=Fi.y=!1})}function mj(t,e){const n=qL(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function vS(t){return!(t.pointerType==="touch"||fj())}function YL(t,e,n={}){const[i,s,o]=mj(t,n),l=u=>{if(!vS(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const p=x=>{vS(x)&&(m(x),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const gj=(t,e)=>e?t===e?!0:gj(t,e.parentElement):!1,Tb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,KL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XL(t){return KL.has(t.tagName)||t.tabIndex!==-1}const xm=new WeakSet;function bS(t){return e=>{e.key==="Enter"&&t(e)}}function uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const QL=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=bS(()=>{if(xm.has(n))return;uy(n,"down");const s=bS(()=>{uy(n,"up")}),o=()=>uy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function wS(t){return Tb(t)&&!fj()}function ZL(t,e,n={}){const[i,s,o]=mj(t,n),l=u=>{const h=u.currentTarget;if(!wS(u))return;xm.add(h);const m=e(h,u),p=(_,A)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),xm.has(h)&&xm.delete(h),wS(_)&&typeof m=="function"&&m(_,{success:A})},x=_=>{p(_,h===window||h===document||n.useGlobalTarget||gj(h,_.target))},b=_=>{p(_,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",b,s)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),hj(u)&&(u.addEventListener("focus",m=>QL(m,s)),!XL(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function pj(t){return NN(t)&&"ownerSVGElement"in t}function JL(t){return pj(t)&&t.tagName==="svg"}const In=t=>!!(t&&t.getVelocity),e8=[...lj,$t,_a],t8=t=>e8.find(oj(t)),Sb=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class n8 extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=hj(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function i8({children:t,isPresent:e,anchorX:n,root:i}){const s=S.useId(),o=S.useRef(null),l=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=S.useContext(Sb);return S.useInsertionEffect(()=>{const{width:h,height:m,top:p,left:x,right:b}=l.current;if(e||!o.current||!h||!m)return;const _=n==="left"?`left: ${x}`:`right: ${b}`;o.current.dataset.motionPopId=s;const A=document.createElement("style");u&&(A.nonce=u);const R=i??document.head;return R.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${p}px !important;
          }
        `),()=>{R.contains(A)&&R.removeChild(A)}},[e]),d.jsx(n8,{isPresent:e,childRef:o,sizeRef:l,children:S.cloneElement(t,{ref:o})})}const s8=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u,root:h})=>{const m=tb(r8),p=S.useId();let x=!0,b=S.useMemo(()=>(x=!1,{id:p,initial:e,isPresent:n,custom:s,onExitComplete:_=>{m.set(_,!0);for(const A of m.values())if(!A)return;i&&i()},register:_=>(m.set(_,!1),()=>m.delete(_))}),[n,m,i]);return o&&x&&(b={...b}),S.useMemo(()=>{m.forEach((_,A)=>m.set(A,!1))},[n]),S.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),l==="popLayout"&&(t=d.jsx(i8,{isPresent:n,anchorX:u,root:h,children:t})),d.jsx(Ng.Provider,{value:b,children:t})};function r8(){return new Map}function yj(t=!0){const e=S.useContext(Ng);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,o=S.useId();S.useEffect(()=>{if(t)return s(o)},[t]);const l=S.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,l]:[!0]}const Bf=t=>t.key||"";function _S(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const ys=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:h})=>{const[m,p]=yj(l),x=S.useMemo(()=>_S(t),[t]),b=l&&!m?[]:x.map(Bf),_=S.useRef(!0),A=S.useRef(x),R=tb(()=>new Map),[C,L]=S.useState(x),[U,F]=S.useState(x);kN(()=>{_.current=!1,A.current=x;for(let te=0;te<U.length;te++){const V=Bf(U[te]);b.includes(V)?R.delete(V):R.get(V)!==!0&&R.set(V,!1)}},[U,b.length,b.join("-")]);const G=[];if(x!==C){let te=[...x];for(let V=0;V<U.length;V++){const k=U[V],N=Bf(k);b.includes(N)||(te.splice(V,0,k),G.push(k))}return o==="wait"&&G.length&&(te=G),F(_S(te)),L(x),null}const{forceRender:Q}=S.useContext(eb);return d.jsx(d.Fragment,{children:U.map(te=>{const V=Bf(te),k=l&&!m?!1:x===U||b.includes(V),N=()=>{if(R.has(V))R.set(V,!0);else return;let D=!0;R.forEach(I=>{I||(D=!1)}),D&&(Q?.(),F(A.current),l&&p?.(),i&&i())};return d.jsx(s8,{isPresent:k,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:k?void 0:N,anchorX:u,children:te},V)})})},xj=S.createContext({strict:!1}),TS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mc={};for(const t in TS)mc[t]={isEnabled:e=>TS[t].some(n=>!!e[n])};function a8(t){for(const e in t)mc[e]={...mc[e],...t[e]}}const o8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||o8.has(t)}let vj=t=>!Zm(t);function l8(t){typeof t=="function"&&(vj=e=>e.startsWith("on")?!Zm(e):t(e))}try{l8(require("@emotion/is-prop-valid").default)}catch{}function c8(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(vj(s)||n===!0&&Zm(s)||!e&&!Zm(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const jg=S.createContext({});function Cg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Dd(t){return typeof t=="string"||Array.isArray(t)}const Eb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kb=["initial",...Eb];function Rg(t){return Cg(t.animate)||kb.some(e=>Dd(t[e]))}function bj(t){return!!(Rg(t)||t.variants)}function u8(t,e){if(Rg(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Dd(n)?n:void 0,animate:Dd(i)?i:void 0}}return t.inherit!==!1?e:{}}function d8(t){const{initial:e,animate:n}=u8(t,S.useContext(jg));return S.useMemo(()=>({initial:e,animate:n}),[SS(e),SS(n)])}function SS(t){return Array.isArray(t)?t.join(" "):t}const Md={};function h8(t){for(const e in t)Md[e]=t[e],ub(e)&&(Md[e].isCSSVariable=!0)}function wj(t,{layout:e,layoutId:n}){return kc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Md[t]||t==="opacity")}const f8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m8=Ec.length;function g8(t,e,n){let i="",s=!0;for(let o=0;o<m8;o++){const l=Ec[o],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const m=dj(u,wb[l]);if(!h){s=!1;const p=f8[l]||l;i+=`${p}(${m}) `}n&&(e[l]=m)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function Ab(t,e,n){const{style:i,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const h in e){const m=e[h];if(kc.has(h)){l=!0;continue}else if(ub(h)){s[h]=m;continue}else{const p=dj(m,wb[h]);h.startsWith("origin")?(u=!0,o[h]=p):i[h]=p}}if(e.transform||(l||n?i.transform=g8(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:p=0}=o;i.transformOrigin=`${h} ${m} ${p}`}}const Nb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _j(t,e,n){for(const i in e)!In(e[i])&&!wj(i,n)&&(t[i]=e[i])}function p8({transformTemplate:t},e){return S.useMemo(()=>{const n=Nb();return Ab(n,e,t),Object.assign({},n.vars,n.style)},[e])}function y8(t,e){const n=t.style||{},i={};return _j(i,n,t),Object.assign(i,p8(t,e)),i}function x8(t,e){const n={},i=y8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const v8={offset:"stroke-dashoffset",array:"stroke-dasharray"},b8={offset:"strokeDashoffset",array:"strokeDasharray"};function w8(t,e,n=1,i=0,s=!0){t.pathLength=1;const o=s?v8:b8;t[o.offset]=Ee.transform(-i);const l=Ee.transform(e),u=Ee.transform(n);t[o.array]=`${l} ${u}`}function Tj(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},h,m,p){if(Ab(t,u,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:b}=t;x.transform&&(b.transform=x.transform,delete x.transform),(b.transform||x.transformOrigin)&&(b.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),s!==void 0&&w8(x,s,o,l,!1)}const Sj=()=>({...Nb(),attrs:{}}),Ej=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _8(t,e,n,i){const s=S.useMemo(()=>{const o=Sj();return Tj(o,e,Ej(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};_j(o,t.style,t),s.style={...o,...s.style}}return s}const T8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jb(t){return typeof t!="string"||t.includes("-")?!1:!!(T8.indexOf(t)>-1||/[A-Z]/u.test(t))}function S8(t,e,n,{latestValues:i},s,o=!1){const u=(jb(t)?_8:x8)(e,i,s,t),h=c8(e,typeof t=="string",o),m=t!==S.Fragment?{...h,...u,ref:n}:{},{children:p}=e,x=S.useMemo(()=>In(p)?p.get():p,[p]);return S.createElement(t,{...m,children:x})}function ES(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Cb(t,e,n,i){if(typeof e=="function"){const[s,o]=ES(i);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=ES(i);e=e(n!==void 0?n:t.custom,s,o)}return e}function vm(t){return In(t)?t.get():t}function E8({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:k8(n,i,s,t),renderState:e()}}function k8(t,e,n,i){const s={},o=i(t,{});for(const b in o)s[b]=vm(o[b]);let{initial:l,animate:u}=t;const h=Rg(t),m=bj(t);e&&m&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const x=p?u:l;if(x&&typeof x!="boolean"&&!Cg(x)){const b=Array.isArray(x)?x:[x];for(let _=0;_<b.length;_++){const A=Cb(t,b[_]);if(A){const{transitionEnd:R,transition:C,...L}=A;for(const U in L){let F=L[U];if(Array.isArray(F)){const G=p?F.length-1:0;F=F[G]}F!==null&&(s[U]=F)}for(const U in R)s[U]=R[U]}}}return s}const kj=t=>(e,n)=>{const i=S.useContext(jg),s=S.useContext(Ng),o=()=>E8(t,e,i,s);return n?o():tb(o)};function Rb(t,e,n){const{style:i}=t,s={};for(const o in i)(In(i[o])||e.style&&In(e.style[o])||wj(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=i[o]);return s}const A8=kj({scrapeMotionValuesFromProps:Rb,createRenderState:Nb});function Aj(t,e,n){const i=Rb(t,e,n);for(const s in t)if(In(t[s])||In(e[s])){const o=Ec.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=t[s]}return i}const N8=kj({scrapeMotionValuesFromProps:Aj,createRenderState:Sj}),j8=Symbol.for("motionComponentSymbol");function zl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function C8(t,e,n){return S.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):zl(n)&&(n.current=i))},[e])}const Db=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R8="framerAppearId",Nj="data-"+Db(R8),jj=S.createContext({});function D8(t,e,n,i,s){const{visualElement:o}=S.useContext(jg),l=S.useContext(xj),u=S.useContext(Ng),h=S.useContext(Sb).reducedMotion,m=S.useRef(null);i=i||l.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=m.current,x=S.useContext(jj);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&M8(m.current,n,s,x);const b=S.useRef(!1);S.useInsertionEffect(()=>{p&&b.current&&p.update(n,u)});const _=n[Nj],A=S.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return kN(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),A.current&&p.animationState&&p.animationState.animateChanges())}),S.useEffect(()=>{p&&(!A.current&&p.animationState&&p.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),A.current=!1),p.enteringChildren=void 0)}),p}function M8(t,e,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Cj(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&zl(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:m})}function Cj(t){if(t)return t.options.allowProjection!==!1?t.projection:Cj(t.parent)}function dy(t,{forwardMotionProps:e=!1}={},n,i){n&&a8(n);const s=jb(t)?N8:A8;function o(u,h){let m;const p={...S.useContext(Sb),...u,layoutId:I8(u)},{isStatic:x}=p,b=d8(u),_=s(u,x);if(!x&&nb){O8();const A=P8(p);m=A.MeasureLayout,b.visualElement=D8(t,_,p,i,A.ProjectionNode)}return d.jsxs(jg.Provider,{value:b,children:[m&&b.visualElement?d.jsx(m,{visualElement:b.visualElement,...p}):null,S8(t,u,C8(_,b.visualElement,h),_,x,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=S.forwardRef(o);return l[j8]=t,l}function I8({layoutId:t}){const e=S.useContext(eb).id;return e&&t!==void 0?e+"-"+t:t}function O8(t,e){S.useContext(xj).strict}function P8(t){const{drag:e,layout:n}=mc;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function V8(t,e){if(typeof Proxy>"u")return dy;const n=new Map,i=(o,l)=>dy(o,l,t,e),s=(o,l)=>i(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?i:(n.has(l)||n.set(l,dy(l,void 0,t,e)),n.get(l))})}function Rj({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function L8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function U8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function hy(t){return t===void 0||t===1}function Cx({scale:t,scaleX:e,scaleY:n}){return!hy(t)||!hy(e)||!hy(n)}function go(t){return Cx(t)||Dj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Dj(t){return kS(t.x)||kS(t.y)}function kS(t){return t&&t!=="0%"}function Jm(t,e,n){const i=t-n,s=e*i;return n+s}function AS(t,e,n,i,s){return s!==void 0&&(t=Jm(t,s,i)),Jm(t,n,i)+e}function Rx(t,e=0,n=1,i,s){t.min=AS(t.min,e,n,i,s),t.max=AS(t.max,e,n,i,s)}function Mj(t,{x:e,y:n}){Rx(t.x,e.translate,e.scale,e.originPoint),Rx(t.y,n.translate,n.scale,n.originPoint)}const NS=.999999999999,jS=1.0000000000001;function B8(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ql(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Mj(t,l)),i&&go(o.latestValues)&&ql(t,o.latestValues))}e.x<jS&&e.x>NS&&(e.x=1),e.y<jS&&e.y>NS&&(e.y=1)}function Hl(t,e){t.min=t.min+e,t.max=t.max+e}function CS(t,e,n,i,s=.5){const o=Et(t.min,t.max,s);Rx(t,e,n,o,i)}function ql(t,e){CS(t.x,e.x,e.scaleX,e.scale,e.originX),CS(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ij(t,e){return Rj(U8(t.getBoundingClientRect(),e))}function F8(t,e,n){const i=Ij(t,n),{scroll:s}=e;return s&&(Hl(i.x,s.offset.x),Hl(i.y,s.offset.y)),i}const RS=()=>({translate:0,scale:1,origin:0,originPoint:0}),$l=()=>({x:RS(),y:RS()}),DS=()=>({min:0,max:0}),Pt=()=>({x:DS(),y:DS()}),Dx={current:null},Oj={current:!1};function z8(){if(Oj.current=!0,!!nb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dx.current=t.matches;t.addEventListener("change",e),e()}else Dx.current=!1}const H8=new WeakMap;function q8(t,e,n){for(const i in e){const s=e[i],o=n[i];if(In(s))t.addValue(i,s);else if(In(o))t.addValue(i,fc(s,{owner:t}));else if(o!==s)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,fc(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const MS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $8{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Qn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,wt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Rg(n),this.isVariantNode=bj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in x){const _=x[b];h[b]!==void 0&&In(_)&&_.set(h[b])}}mount(e){this.current=e,H8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Oj.current||z8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dx.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wa(this.notifyUpdate),wa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=kc.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&wt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mc){const n=mc[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<MS.length;i++){const s=MS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=q8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=fc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(AN(i)||jN(i))?i=parseFloat(i):!t8(i)&&_a.test(n)&&(i=uj(e,n)),this.setBaseTarget(e,In(i)?i.get():i)),In(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=Cb(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!In(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ob),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){_b.render(this.render)}}class Pj extends $8{constructor(){super(...arguments),this.KeyframeResolver=HL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Vj(t,{style:e,vars:n},i,s){const o=t.style;let l;for(l in e)o[l]=e[l];s?.applyProjectionStyles(o,i);for(l in n)o.setProperty(l,n[l])}function G8(t){return window.getComputedStyle(t)}class W8 extends Pj{constructor(){super(...arguments),this.type="html",this.renderInstance=Vj}readValueFromInstance(e,n){if(kc.has(n))return this.projection?.isProjecting?Tx(n):lL(e,n);{const i=G8(e),s=(ub(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ij(e,n)}build(e,n,i){Ab(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Rb(e,n,i)}}const Lj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y8(t,e,n,i){Vj(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(Lj.has(s)?s:Db(s),e.attrs[s])}class K8 extends Pj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(kc.has(n)){const i=cj(n);return i&&i.default||0}return n=Lj.has(n)?n:Db(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Aj(e,n,i)}build(e,n,i){Tj(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){Y8(e,n,i,s)}mount(e){this.isSVGTag=Ej(e.tagName),super.mount(e)}}const X8=(t,e)=>jb(t)?new K8(e):new W8(e,{allowProjection:t!==S.Fragment});function Jl(t,e,n){const i=t.getProps();return Cb(i,e,n!==void 0?n:i.custom,t)}const Mx=t=>Array.isArray(t);function Q8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fc(n))}function Z8(t){return Mx(t)?t[t.length-1]||0:t}function J8(t,e){const n=Jl(t,e);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const u=Z8(o[l]);Q8(t,l,u)}}function eU(t){return!!(In(t)&&t.add)}function Ix(t,e){const n=t.getValue("willChange");if(eU(n))return n.add(e);if(!n&&br.WillChange){const i=new br.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Uj(t){return t.props[Nj]}const tU=t=>t!==null;function nU(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(tU),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const iU={type:"spring",stiffness:500,damping:25,restSpeed:10},sU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rU={type:"keyframes",duration:.8},aU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oU=(t,{keyframes:e})=>e.length>2?rU:kc.has(t)?t.startsWith("scale")?sU(e[1]):iU:aU;function lU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const Mb=(t,e,n,i={},s,o)=>l=>{const u=bb(i,t)||{},h=u.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ss(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};lU(u)||Object.assign(p,oU(t,p)),p.duration&&(p.duration=Ss(p.duration)),p.repeatDelay&&(p.repeatDelay=Ss(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Nx(p),p.delay===0&&(x=!0)),(br.instantAnimations||br.skipAnimations)&&(x=!0,Nx(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,x&&!o&&e.get()!==void 0){const b=nU(p.keyframes,u);if(b!==void 0){wt.update(()=>{p.onUpdate(b),p.onComplete()});return}}return u.isSync?new xb(p):new RL(p)};function cU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Bj(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(o=i);const h=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const x=t.getValue(p,t.latestValues[p]??null),b=u[p];if(b===void 0||m&&cU(m,p))continue;const _={delay:n,...bb(o||{},p)},A=x.get();if(A!==void 0&&!x.isAnimating&&!Array.isArray(b)&&b===A&&!_.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const L=Uj(t);if(L){const U=window.MotionHandoffAnimation(L,p,wt);U!==null&&(_.startTime=U,R=!0)}}Ix(t,p),x.start(Mb(p,x,b,t.shouldReduceMotion&&aj.has(p)?{type:!1}:_,t,R));const C=x.animation;C&&h.push(C)}return l&&Promise.all(h).then(()=>{wt.update(()=>{l&&J8(t,l)})}),h}function Fj(t,e,n,i=0,s=1){const o=Array.from(t).sort((m,p)=>m.sortNodePosition(p)).indexOf(e),l=t.size,u=(l-1)*i;return typeof n=="function"?n(o,l):s===1?o*i:u-o*i}function Ox(t,e,n={}){const i=Jl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(Bj(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:x}=s;return uU(t,e,h,m,p,x,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,m]=u==="beforeChildren"?[o,l]:[l,o];return h().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function uU(t,e,n=0,i=0,s=0,o=1,l){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(Ox(h,e,{...l,delay:n+(typeof i=="function"?0:i)+Fj(t.variantChildren,h,i,s,o)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function dU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>Ox(t,o,n));i=Promise.all(s)}else if(typeof e=="string")i=Ox(t,e,n);else{const s=typeof e=="function"?Jl(t,e,n.custom):e;i=Promise.all(Bj(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function zj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const hU=kb.length;function Hj(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Hj(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<hU;n++){const i=kb[n],s=t.props[i];(Dd(s)||s===!1)&&(e[i]=s)}return e}const fU=[...Eb].reverse(),mU=Eb.length;function gU(t){return e=>Promise.all(e.map(({animation:n,options:i})=>dU(t,n,i)))}function pU(t){let e=gU(t),n=IS(),i=!0;const s=h=>(m,p)=>{const x=Jl(t,p,h==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:b,transitionEnd:_,...A}=x;m={...m,...A,..._}}return m};function o(h){e=h(t)}function l(h){const{props:m}=t,p=Hj(t.parent)||{},x=[],b=new Set;let _={},A=1/0;for(let C=0;C<mU;C++){const L=fU[C],U=n[L],F=m[L]!==void 0?m[L]:p[L],G=Dd(F),Q=L===h?U.isActive:null;Q===!1&&(A=C);let te=F===p[L]&&F!==m[L]&&G;if(te&&i&&t.manuallyAnimateOnMount&&(te=!1),U.protectedKeys={..._},!U.isActive&&Q===null||!F&&!U.prevProp||Cg(F)||typeof F=="boolean")continue;const V=yU(U.prevProp,F);let k=V||L===h&&U.isActive&&!te&&G||C>A&&G,N=!1;const D=Array.isArray(F)?F:[F];let I=D.reduce(s(L),{});Q===!1&&(I={});const{prevResolvedValues:O={}}=U,P={...O,...I},X=$=>{k=!0,b.has($)&&(N=!0,b.delete($)),U.needsAnimating[$]=!0;const le=t.getValue($);le&&(le.liveStyle=!1)};for(const $ in P){const le=I[$],fe=O[$];if(_.hasOwnProperty($))continue;let ue=!1;Mx(le)&&Mx(fe)?ue=!zj(le,fe):ue=le!==fe,ue?le!=null?X($):b.add($):le!==void 0&&b.has($)?X($):U.protectedKeys[$]=!0}U.prevProp=F,U.prevResolvedValues=I,U.isActive&&(_={..._,...I}),i&&t.blockInitialAnimation&&(k=!1);const se=te&&V;k&&(!se||N)&&x.push(...D.map($=>{const le={type:L};if(typeof $=="string"&&i&&!se&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,ue=Jl(fe,$);if(fe.enteringChildren&&ue){const{delayChildren:ve}=ue.transition||{};le.delay=Fj(fe.enteringChildren,t,ve)}}return{animation:$,options:le}}))}if(b.size){const C={};if(typeof m.initial!="boolean"){const L=Jl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);L&&L.transition&&(C.transition=L.transition)}b.forEach(L=>{const U=t.getBaseTarget(L),F=t.getValue(L);F&&(F.liveStyle=!0),C[L]=U??null}),x.push({animation:C})}let R=!!x.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(R=!1),i=!1,R?e(x):Promise.resolve()}function u(h,m){if(n[h].isActive===m)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(h,m)),n[h].isActive=m;const p=l(h);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=IS(),i=!0}}}function yU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zj(e,t):!1}function ao(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IS(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}let Sa=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};class xU extends Sa{constructor(e){super(e),e.animationState||(e.animationState=pU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let vU=0;class bU extends Sa{constructor(){super(...arguments),this.id=vU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wU={animation:{Feature:xU},exit:{Feature:bU}};function Id(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function ih(t){return{point:{x:t.pageX,y:t.pageY}}}const _U=t=>e=>Tb(e)&&t(e,ih(e));function od(t,e,n,i){return Id(t,e,_U(n),i)}const qj=1e-4,TU=1-qj,SU=1+qj,$j=.01,EU=0-$j,kU=0+$j;function Hn(t){return t.max-t.min}function AU(t,e,n){return Math.abs(t-e)<=n}function OS(t,e,n,i=.5){t.origin=i,t.originPoint=Et(e.min,e.max,t.origin),t.scale=Hn(n)/Hn(e),t.translate=Et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=TU&&t.scale<=SU||isNaN(t.scale))&&(t.scale=1),(t.translate>=EU&&t.translate<=kU||isNaN(t.translate))&&(t.translate=0)}function ld(t,e,n,i){OS(t.x,e.x,n.x,i?i.originX:void 0),OS(t.y,e.y,n.y,i?i.originY:void 0)}function PS(t,e,n){t.min=n.min+e.min,t.max=t.min+Hn(e)}function NU(t,e,n){PS(t.x,e.x,n.x),PS(t.y,e.y,n.y)}function VS(t,e,n){t.min=e.min-n.min,t.max=t.min+Hn(e)}function cd(t,e,n){VS(t.x,e.x,n.x),VS(t.y,e.y,n.y)}function Si(t){return[t("x"),t("y")]}const Gj=({current:t})=>t?t.ownerDocument.defaultView:null,LS=(t,e)=>Math.abs(t-e);function jU(t,e){const n=LS(t.x,e.x),i=LS(t.y,e.y);return Math.sqrt(n**2+i**2)}class Wj{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=my(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,A=jU(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!A)return;const{point:R}=b,{timestamp:C}=_n;this.history.push({...R,timestamp:C});const{onStart:L,onMove:U}=this.handlers;_||(L&&L(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,b)},this.handlePointerMove=(b,_)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=fy(_,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(b,_)=>{this.end();const{onEnd:A,onSessionEnd:R,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=my(b.type==="pointercancel"?this.lastMoveEventInfo:fy(_,this.transformPagePoint),this.history);this.startEvent&&A&&A(b,L),R&&R(b,L)},!Tb(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const u=ih(e),h=fy(u,this.transformPagePoint),{point:m}=h,{timestamp:p}=_n;this.history=[{...m,timestamp:p}];const{onSessionStart:x}=n;x&&x(e,my(h,this.history)),this.removeListeners=eh(od(this.contextWindow,"pointermove",this.handlePointerMove),od(this.contextWindow,"pointerup",this.handlePointerUp),od(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wa(this.updatePoint)}}function fy(t,e){return e?{point:e(t.point)}:t}function US(t,e){return{x:t.x-e.x,y:t.y-e.y}}function my({point:t},e){return{point:t,delta:US(t,Yj(e)),offset:US(t,CU(e)),velocity:RU(e,.1)}}function CU(t){return t[0]}function Yj(t){return t[t.length-1]}function RU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=Yj(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>Ss(e)));)n--;if(!i)return{x:0,y:0};const o=Es(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function DU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Et(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Et(n,t,i.max):Math.min(t,n)),t}function BS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MU(t,{top:e,left:n,bottom:i,right:s}){return{x:BS(t.x,n,s),y:BS(t.y,e,i)}}function FS(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function IU(t,e){return{x:FS(t.x,e.x),y:FS(t.y,e.y)}}function OU(t,e){let n=.5;const i=Hn(t),s=Hn(e);return s>i?n=jd(e.min,e.max-i,t.min):i>s&&(n=jd(t.min,t.max-s,e.min)),vr(0,1,n)}function PU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Px=.35;function VU(t=Px){return t===!1?t=0:t===!0&&(t=Px),{x:zS(t,"left","right"),y:zS(t,"top","bottom")}}function zS(t,e,n){return{min:HS(t,e),max:HS(t,n)}}function HS(t,e){return typeof t=="number"?t:t[e]||0}const LU=new WeakMap;class UU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=x=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ih(x).point)},l=(x,b)=>{const{drag:_,dragPropagation:A,onDragStart:R}=this.getProps();if(_&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WL(_),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(L=>{let U=this.getAxisMotionValue(L).get()||0;if(ks.test(U)){const{projection:F}=this.visualElement;if(F&&F.layout){const G=F.layout.layoutBox[L];G&&(U=Hn(G)*(parseFloat(U)/100))}}this.originPoint[L]=U}),R&&wt.postRender(()=>R(x,b)),Ix(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:A,onDirectionLock:R,onDrag:C}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:L}=b;if(A&&this.currentDirection===null){this.currentDirection=BU(L),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",b.point,L),this.updateAxis("y",b.point,L),this.visualElement.render(),C&&C(x,b)},h=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b,this.stop(x,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Si(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Wj(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:Gj(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&wt.postRender(()=>u(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Ff(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=DU(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&zl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=MU(i.layoutBox,e):this.constraints=!1,this.elastic=VU(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Si(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=PU(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zl(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=F8(i,s.root,this.visualElement.getTransformPagePoint());let l=IU(s.layout.layoutBox,o);if(n){const u=n(L8(l));this.hasMutatedConstraints=!!u,u&&(l=Rj(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Si(p=>{if(!Ff(p,n,this.currentDirection))return;let x=h&&h[p]||{};l&&(x={min:0,max:0});const b=s?200:1e6,_=s?40:1e7,A={type:"inertia",velocity:i?e[p]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(p,A)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Ix(this.visualElement,e),i.start(Mb(e,i,0,n,this.visualElement,!1))}stopAnimation(){Si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Si(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Si(n=>{const{drag:i}=this.getProps();if(!Ff(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-Et(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!zl(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Si(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();s[l]=OU({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Si(l=>{if(!Ff(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(Et(h,m,s[l]))})}addListeners(){if(!this.visualElement.current)return;LU.set(this.visualElement,this);const e=this.visualElement.current,n=od(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();zl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),wt.read(i);const l=Id(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Si(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=h[p].translate,x.set(x.get()+h[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Px,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Ff(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FU extends Sa{constructor(e){super(e),this.removeGroupControls=Ni,this.removeListeners=Ni,this.controls=new UU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const qS=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class zU extends Sa{constructor(){super(...arguments),this.removePointerDownListener=Ni}onPointerDown(e){this.session=new Wj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:qS(e),onStart:qS(n),onMove:i,onEnd:(o,l)=>{delete this.session,s&&wt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=od(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $S(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ou={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=$S(t,e.target.x),i=$S(t,e.target.y);return`${n}% ${i}%`}},HU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=_a.parse(t);if(s.length>5)return i;const o=_a.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=h;const m=Et(u,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=m),typeof s[3+l]=="number"&&(s[3+l]/=m),o(s)}};let gy=!1;class qU extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;h8($U),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),gy&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),bm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,gy=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||wt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_b.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;gy=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Kj(t){const[e,n]=yj(),i=S.useContext(eb);return d.jsx(qU,{...t,layoutGroup:i,switchLayoutGroup:S.useContext(jj),isPresent:e,safeToRemove:n})}const $U={borderRadius:{...Ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ou,borderTopRightRadius:Ou,borderBottomLeftRadius:Ou,borderBottomRightRadius:Ou,boxShadow:HU};function GU(t,e,n){const i=In(t)?t:fc(t);return i.start(Mb("",i,e,n)),i.animation}const WU=(t,e)=>t.depth-e.depth;class YU{constructor(){this.children=[],this.isDirty=!1}add(e){ib(this.children,e),this.isDirty=!0}remove(e){sb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WU),this.isDirty=!1,this.children.forEach(e)}}function KU(t,e){const n=Qn.now(),i=({timestamp:s})=>{const o=s-n;o>=e&&(wa(i),t(o-e))};return wt.setup(i,!0),()=>wa(i)}const Xj=["TopLeft","TopRight","BottomLeft","BottomRight"],XU=Xj.length,GS=t=>typeof t=="string"?parseFloat(t):t,WS=t=>typeof t=="number"||Ee.test(t);function QU(t,e,n,i,s,o){s?(t.opacity=Et(0,n.opacity??1,ZU(i)),t.opacityExit=Et(e.opacity??1,0,JU(i))):o&&(t.opacity=Et(e.opacity??1,n.opacity??1,i));for(let l=0;l<XU;l++){const u=`border${Xj[l]}Radius`;let h=YS(e,u),m=YS(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||WS(h)===WS(m)?(t[u]=Math.max(Et(GS(h),GS(m),i),0),(ks.test(m)||ks.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=Et(e.rotate||0,n.rotate||0,i))}function YS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ZU=Qj(0,.5,VN),JU=Qj(.5,.95,Ni);function Qj(t,e,n){return i=>i<t?0:i>e?1:n(jd(t,e,i))}function KS(t,e){t.min=e.min,t.max=e.max}function _i(t,e){KS(t.x,e.x),KS(t.y,e.y)}function XS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function QS(t,e,n,i,s){return t-=e,t=Jm(t,1/n,i),s!==void 0&&(t=Jm(t,1/s,i)),t}function eB(t,e=0,n=1,i=.5,s,o=t,l=t){if(ks.test(e)&&(e=parseFloat(e),e=Et(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Et(o.min,o.max,i);t===o&&(u-=e),t.min=QS(t.min,e,n,u,s),t.max=QS(t.max,e,n,u,s)}function ZS(t,e,[n,i,s],o,l){eB(t,e[n],e[i],e[s],e.scale,o,l)}const tB=["x","scaleX","originX"],nB=["y","scaleY","originY"];function JS(t,e,n,i){ZS(t.x,e,tB,n?n.x:void 0,i?i.x:void 0),ZS(t.y,e,nB,n?n.y:void 0,i?i.y:void 0)}function eE(t){return t.translate===0&&t.scale===1}function Zj(t){return eE(t.x)&&eE(t.y)}function tE(t,e){return t.min===e.min&&t.max===e.max}function iB(t,e){return tE(t.x,e.x)&&tE(t.y,e.y)}function nE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Jj(t,e){return nE(t.x,e.x)&&nE(t.y,e.y)}function iE(t){return Hn(t.x)/Hn(t.y)}function sE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sB{constructor(){this.members=[]}add(e){ib(this.members,e),e.scheduleRender()}remove(e){if(sb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rB(t,e,n){let i="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:x,rotateY:b,skewX:_,skewY:A}=n;m&&(i=`perspective(${m}px) ${i}`),p&&(i+=`rotate(${p}deg) `),x&&(i+=`rotateX(${x}deg) `),b&&(i+=`rotateY(${b}deg) `),_&&(i+=`skewX(${_}deg) `),A&&(i+=`skewY(${A}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const py=["","X","Y","Z"],aB=1e3;let oB=0;function yy(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function eC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Uj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(s||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&eC(i)}function tC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=oB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uB),this.nodes.forEach(mB),this.nodes.forEach(gB),this.nodes.forEach(dB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new YU)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ob),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=pj(l)&&!JL(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let p,x=0;const b=()=>this.root.updateBlockedByResize=!1;wt.read(()=>{x=window.innerWidth}),t(l,()=>{const _=window.innerWidth;_!==x&&(x=_,this.root.updateBlockedByResize=!0,p&&p(),p=KU(b,250),bm.hasAnimatedSinceResize&&(bm.hasAnimatedSinceResize=!1,this.nodes.forEach(oE)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||bB,{onLayoutAnimationStart:R,onLayoutAnimationComplete:C}=m.getProps(),L=!this.targetLayout||!Jj(this.targetLayout,_),U=!x&&b;if(this.options.layoutRoot||this.resumeFrom||U||x&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...bb(A,"layout"),onPlay:R,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(p,U)}else x||oE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pB),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(aE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fB),this.nodes.forEach(lB),this.nodes.forEach(cB)):this.nodes.forEach(aE),this.clearAllSnapshots();const u=Qn.now();_n.delta=vr(0,1e3/60,u-_n.timestamp),_n.timestamp=u,_n.isProcessing=!0,ry.update.process(_n),ry.preRender.process(_n),ry.render.process(_n),_n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_b.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hB),this.sharedNodes.forEach(yB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hn(this.snapshot.measuredBox.x)&&!Hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Zj(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||go(this.latestValues)||p)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),wB(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Pt();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(_B))){const{scroll:m}=this.root;m&&(Hl(u.x,m.offset.x),Hl(u.y,m.offset.y))}return u}removeElementScroll(l){const u=Pt();if(_i(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:p,options:x}=m;m!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&_i(u,l),Hl(u.x,p.offset.x),Hl(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const h=Pt();_i(h,l);for(let m=0;m<this.path.length;m++){const p=this.path[m];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ql(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),go(p.latestValues)&&ql(h,p.latestValues)}return go(this.latestValues)&&ql(h,this.latestValues),h}removeTransform(l){const u=Pt();_i(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!go(m.latestValues))continue;Cx(m.latestValues)&&m.updateSnapshot();const p=Pt(),x=m.measurePageBox();_i(p,x),JS(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return go(this.latestValues)&&JS(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=_n.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),cd(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),_i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_i(this.target,this.layout.layoutBox),Mj(this.target,this.targetDelta)):_i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),cd(this.relativeTargetOrigin,this.target,b.target),_i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Cx(this.parent.latestValues)||Dj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===_n.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;_i(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;B8(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Pt());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(XS(this.prevProjectionDelta.x,this.projectionDelta.x),XS(this.prevProjectionDelta.y,this.projectionDelta.y)),ld(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!sE(this.projectionDelta.x,this.prevProjectionDelta.x)||!sE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$l(),this.projectionDelta=$l(),this.projectionDeltaWithTransform=$l()}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},x=$l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Pt(),_=h?h.source:void 0,A=this.layout?this.layout.source:void 0,R=_!==A,C=this.getStack(),L=!C||C.members.length<=1,U=!!(R&&!L&&this.options.crossfade===!0&&!this.path.some(vB));this.animationProgress=0;let F;this.mixTargetDelta=G=>{const Q=G/1e3;lE(x.x,l.x,Q),lE(x.y,l.y,Q),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xB(this.relativeTarget,this.relativeTargetOrigin,b,Q),F&&iB(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Pt()),_i(F,this.relativeTarget)),R&&(this.animationValues=p,QU(p,m,this.latestValues,Q,U,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{bm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fc(0)),this.currentAnimation=GU(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:p}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&nC(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Pt();const x=Hn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+x;const b=Hn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+b}_i(u,h),ql(u,p),ld(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new sB),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&yy("z",l,m,this.animationValues);for(let p=0;p<py.length;p++)yy(`rotate${py[p]}`,l,m,this.animationValues),yy(`skew${py[p]}`,l,m,this.animationValues);l.render();for(const p in m)l.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=vm(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=vm(u?.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=rB(this.projectionDeltaWithTransform,this.treeScale,p);h&&(x=h(p,x)),l.transform=x;const{x:b,y:_}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,m.animationValues?l.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const A in Md){if(p[A]===void 0)continue;const{correct:R,applyTo:C,isCSSVariable:L}=Md[A],U=x==="none"?p[A]:R(p[A],m);if(C){const F=C.length;for(let G=0;G<F;G++)l[C[G]]=U}else L?this.options.visualElement.renderState.vars[A]=U:l[A]=U}this.options.layoutId&&(l.pointerEvents=m===this?vm(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(rE),this.root.sharedNodes.clear()}}}function lB(t){t.updateLayout()}function cB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Si(p=>{const x=o?e.measuredBox[p]:e.layoutBox[p],b=Hn(x);x.min=n[p].min,x.max=x.min+b}):nC(s,e.layoutBox,n)&&Si(p=>{const x=o?e.measuredBox[p]:e.layoutBox[p],b=Hn(n[p]);x.max=x.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+b)});const l=$l();ld(l,n,e.layoutBox);const u=$l();o?ld(u,t.applyTransform(i,!0),e.measuredBox):ld(u,n,e.layoutBox);const h=!Zj(l);let m=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:b}=p;if(x&&b){const _=Pt();cd(_,e.layoutBox,x.layoutBox);const A=Pt();cd(A,n,b.layoutBox),Jj(_,A)||(m=!0),p.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=_,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function uB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hB(t){t.clearSnapshot()}function rE(t){t.clearMeasurements()}function aE(t){t.isLayoutDirty=!1}function fB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function oE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mB(t){t.resolveTargetDelta()}function gB(t){t.calcProjection()}function pB(t){t.resetSkewAndRotation()}function yB(t){t.removeLeadSnapshot()}function lE(t,e,n){t.translate=Et(e.translate,0,n),t.scale=Et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cE(t,e,n,i){t.min=Et(e.min,n.min,i),t.max=Et(e.max,n.max,i)}function xB(t,e,n,i){cE(t.x,e.x,n.x,i),cE(t.y,e.y,n.y,i)}function vB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bB={duration:.45,ease:[.4,0,.1,1]},uE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),dE=uE("applewebkit/")&&!uE("chrome/")?Math.round:Ni;function hE(t){t.min=dE(t.min),t.max=dE(t.max)}function wB(t){hE(t.x),hE(t.y)}function nC(t,e,n){return t==="position"||t==="preserve-aspect"&&!AU(iE(e),iE(n),.2)}function _B(t){return t!==t.root&&t.scroll?.wasRoot}const TB=tC({attachResizeListener:(t,e)=>Id(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xy={current:void 0},iC=tC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xy.current){const t=new TB({});t.mount(window),t.setOptions({layoutScroll:!0}),xy.current=t}return xy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),SB={pan:{Feature:zU},drag:{Feature:FU,ProjectionNode:iC,MeasureLayout:Kj}};function fE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&wt.postRender(()=>o(e,ih(e)))}class EB extends Sa{mount(){const{current:e}=this.node;e&&(this.unmount=YL(e,(n,i)=>(fE(this.node,i,"Start"),s=>fE(this.node,s,"End"))))}unmount(){}}class kB extends Sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eh(Id(this.node.current,"focus",()=>this.onFocus()),Id(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&wt.postRender(()=>o(e,ih(e)))}class AB extends Sa{mount(){const{current:e}=this.node;e&&(this.unmount=ZL(e,(n,i)=>(mE(this.node,i,"Start"),(s,{success:o})=>mE(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vx=new WeakMap,vy=new WeakMap,NB=t=>{const e=Vx.get(t.target);e&&e(t)},jB=t=>{t.forEach(NB)};function CB({root:t,...e}){const n=t||document;vy.has(n)||vy.set(n,{});const i=vy.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(jB,{root:t,...e})),i[s]}function RB(t,e,n){const i=CB(e);return Vx.set(t,n),i.observe(t),()=>{Vx.delete(t),i.unobserve(t)}}const DB={some:0,all:1};class MB extends Sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:DB[s]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),b=m?p:x;b&&b(h)};return RB(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(IB(e,n))&&this.startObserver()}unmount(){}}function IB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const OB={inView:{Feature:MB},tap:{Feature:AB},focus:{Feature:kB},hover:{Feature:EB}},PB={layout:{ProjectionNode:iC,MeasureLayout:Kj}},VB={...wU,...OB,...SB,...PB},J=V8(VB,X8),sC=S.createContext(),Bo=()=>{const t=S.useContext(sC);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},LB=({children:t})=>{const e=()=>{try{const l=localStorage.getItem("theme");return l==="dark"||l==="light"?l:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}catch{return"light"}},[n,i]=S.useState(e);S.useEffect(()=>{const l=document.documentElement;n==="dark"?l.classList.add("dark"):l.classList.remove("dark");try{localStorage.setItem("theme",n)}catch{}},[n]);const s=()=>i(l=>l==="dark"?"light":"dark"),o=S.useMemo(()=>({theme:n,setTheme:i,toggleTheme:s,isDark:n==="dark"}),[n]);return d.jsx(sC.Provider,{value:o,children:t})};function UB(){const{isDark:t}=Bo(),[e,n]=S.useState(!1);S.useEffect(()=>{const o=()=>{const l=document.getElementById("stats-section");l&&l.getBoundingClientRect().top<window.innerHeight-100&&(n(!0),window.removeEventListener("scroll",o))};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const i=[{label:"Beta Testing Partners",value:25,suffix:"+",icon:G9,description:"Healthcare facilities in our pilot program"},{label:"Active Beta Users",value:150,suffix:"+",icon:SN,description:"Healthcare professionals testing our platform"},{label:"Test Patients Onboarded",value:750,suffix:"+",icon:fr,description:"Patients participating in our beta program"},{label:"Platform Uptime",value:99.2,suffix:"%",icon:So,description:"Reliability during development phase"}],s={hidden:{opacity:0,y:30},visible:o=>({opacity:1,y:0,transition:{delay:o*.15,duration:.6,ease:"easeOut"}})};return d.jsx("section",{id:"stats-section",className:"py-20 bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(J.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[d.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-full text-sm font-semibold shadow-sm border border-emerald-200 dark:border-emerald-800 mb-6",children:[d.jsx(Ym,{className:"w-4 h-4 mr-2"}),"Currently in Development"]}),d.jsxs("h2",{className:"text-3xl lg:text-4xl font-black text-gray-900 dark:text-gray-100 mb-4",children:["Building the Future of",d.jsx("span",{className:"gradient-accent bg-clip-text text-transparent",children:" Healthcare"})]}),d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"We're working closely with healthcare professionals to create a platform that truly serves their needs. Here's our progress so far."})]}),d.jsx(J.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((o,l)=>d.jsxs(J.div,{className:"group text-center bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-2xl p-8 border border-white/50 dark:border-gray-700/50 shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300",custom:l,variants:s,children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:d.jsx(o.icon,{className:"h-8 w-8 text-emerald-600 dark:text-emerald-400"})})}),d.jsx("div",{className:"text-4xl font-black text-gray-900 dark:text-gray-100 mb-2",children:e&&d.jsx(EN,{start:0,end:o.value,duration:2.5,separator:",",decimals:o.value%1!==0?1:0,suffix:o.suffix})}),d.jsx("div",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-3",children:o.label}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:o.description})]},l))}),d.jsx(J.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},className:"mt-16 text-center",children:d.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl border border-blue-200 dark:border-blue-800 p-8",children:[d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsxs("div",{className:"flex space-x-1",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:"Join Our Beta Program"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-2xl mx-auto",children:"Be among the first healthcare professionals to experience CareSync. Get early access, provide feedback, and help shape the future of healthcare technology."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx("button",{className:"gradient-accent text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-300",children:"Request Beta Access"}),d.jsx("button",{className:"border-2 border-blue-500 text-blue-600 dark:text-blue-400 px-8 py-3 rounded-xl font-semibold hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-300",children:"View Roadmap"})]})]})}),d.jsxs(J.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"mt-16",children:[d.jsx("h3",{className:"text-2xl font-bold text-center text-gray-900 dark:text-gray-100 mb-8",children:"Development Milestones"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{phase:"Phase 1",title:"Core Platform",status:"Completed",description:"Basic user management and dashboard",color:"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300"},{phase:"Phase 2",title:"Healthcare Features",status:"In Progress",description:"Patient records, prescriptions, appointments",color:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300"},{phase:"Phase 3",title:"AI Integration",status:"Planned",description:"Smart recommendations and analytics",color:"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}].map((o,l)=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:o.phase}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${o.color}`,children:o.status})]}),d.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:o.title}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.description})]},l))})]})]})})}function BB({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const FB=S.forwardRef(BB);function zB({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{fillRule:"evenodd",d:"M11.47 10.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 12.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}),S.createElement("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 6.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const HB=S.forwardRef(zB);function qB({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const $B=S.forwardRef(qB);function GB({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const WB=S.forwardRef(GB);function YB({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const KB=S.forwardRef(YB);function XB({title:t,titleId:e,...n},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?S.createElement("title",{id:e},t):null,S.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const QB=S.forwardRef(XB);function ZB(){const t=[{name:"Starter",price:29,period:"/month",description:"Perfect for small clinics",features:["Up to 100 patients","Basic dashboard","Prescription management","Email support","Mobile app access"],cta:"Start Free Trial",popular:!1},{name:"Professional",price:99,period:"/month",description:"Best for growing practices",features:["Up to 1,000 patients","Advanced analytics","AI-powered insights","Priority support","API integrations","Custom branding"],cta:"Start Free Trial",popular:!0},{name:"Enterprise",price:0,period:"",description:"For large healthcare systems",features:["Unlimited patients","Custom integrations","Dedicated support","Advanced security","Custom workflows","SLA guarantee"],cta:"Contact Sales",popular:!1}],[e,n]=S.useState(t.map(()=>0));return S.useEffect(()=>{t.forEach((i,s)=>{if(i.price>0){let o=0;const l=i.price/25,u=setInterval(()=>{o+=l,n(h=>{const m=[...h];return m[s]=Math.floor(o),m}),o>=i.price&&clearInterval(u)},30)}else setTimeout(()=>{n(o=>{const l=[...o];return l[s]="Custom",l})},500)})},[]),d.jsxs("section",{id:"pricing",className:"py-20 bg-gray-50 dark:bg-gray-900",children:[d.jsx("style",{children:`
          @keyframes badgeBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
          }
          .badge-bounce { animation: badgeBounce 0.6s ease forwards; }

          @keyframes pulseOnce {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
          }
          .pulse-once { animation: pulseOnce 0.8s ease forwards; }

          @keyframes tickPop {
            0% { transform: scale(0); opacity: 0; }
            60% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); }
          }
          .tick-animate { animation: tickPop 0.4s ease forwards; }

          @keyframes fadeInCustom {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .fade-in-custom { animation: fadeInCustom 0.5s ease forwards; }
        `}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{"data-aos":"fade-up",className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Simple, Transparent Pricing"}),d.jsx("p",{"data-aos":"fade-up","data-aos-duration":"900",className:"text-xl text-gray-600 dark:text-gray-300",children:"Choose the plan that's right for your healthcare needs"})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:t.map((i,s)=>d.jsxs("div",{"data-aos":"zoom-in","data-aos-delay":s*150,className:`bg-white dark:bg-gray-800 rounded-2xl p-8 relative transform transition-transform duration-300 hover:rotate-x-2 hover:rotate-y-2 hover:scale-105 hover:shadow-xl dark:hover:shadow-gray-900/50 ${i.popular?"ring-2 ring-primary-600 scale-105":""}`,style:{transformStyle:"preserve-3d"},children:[i.popular&&d.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 badge-bounce",children:d.jsx("span",{className:"bg-primary-600 text-white px-4 py-1 rounded-full text-sm font-medium shadow-md",children:"Most Popular"})}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:i.name}),d.jsxs("div",{className:"mb-2",children:[e[s]==="Custom"?d.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100 fade-in-custom",children:"Custom"}):d.jsxs("span",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:["$",e[s]]}),d.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i.period})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:i.description})]}),d.jsx("ul",{className:"space-y-3 mb-8",children:i.features.map((o,l)=>d.jsxs("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[d.jsx(FB,{className:"h-4 w-4 text-green-500 mr-3 tick-animate"}),o]},l))}),d.jsx("button",{className:`w-full py-3 px-4 rounded-lg font-semibold transition-colors ${i.popular?"bg-primary-600 text-white hover:bg-primary-700 pulse-once":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:i.cta})]},s))})]})]})}function JB(){const t=[{name:"Dr. Sarah Johnson",role:"Cardiologist",hospital:"Metro General Hospital",content:"CareSync has revolutionized how I manage my patients. The AI-powered insights help me make better diagnoses, and the seamless communication with pharmacists ensures my patients get the right medications quickly.",rating:5},{name:"Michael Chen",role:"Pharmacist",hospital:"HealthPlus Pharmacy",content:"The prescription management system is incredibly efficient. We've reduced processing time by 60% and eliminated prescription errors. The integration with doctors' systems is flawless.",rating:5},{name:"Emma Rodriguez",role:"Patient",hospital:"User since 2024",content:"As someone with chronic conditions, CareSync has been a lifesaver. I never miss medications thanks to smart reminders, and I can easily track my health progress and communicate with my care team.",rating:5},{name:"John Williams",role:"Surgeon",hospital:"City Hospital",content:"The scheduling and patient management tools have significantly improved our workflow. Highly recommended for busy hospital environments.",rating:5},{name:"Sophia Patel",role:"Nurse",hospital:"Green Valley Clinic",content:"Real-time updates and patient monitoring make my job much easier. The interface is intuitive and easy to use.",rating:4},{name:"David Lee",role:"Orthopedic Specialist",hospital:"Sunrise Medical Center",content:"CareSync integrates seamlessly with our existing systems. The analytics help in identifying patient trends effectively.",rating:5},{name:"Olivia Brown",role:"General Practitioner",hospital:"Community Health Hub",content:"The mobile app is a game-changer. I can check patient records and respond to messages even when I'm out of the clinic.",rating:4},{name:"James Anderson",role:"Physician",hospital:"Central Health",content:"Customer support is responsive and helpful. The software is reliable and easy to adopt.",rating:5}],[e,n]=S.useState(0),[i,s]=S.useState(0),o=4,l=Math.ceil(t.length/o),u=()=>{s(-1),n(x=>x>0?x-1:l-1)},h=()=>{s(1),n(x=>x<l-1?x+1:0)},m=t.slice(e*o,e*o+o),p={enter:x=>({x:x>0?50:-50,opacity:0}),center:{x:0,opacity:1},exit:x=>({x:x>0?-50:50,opacity:0})};return d.jsx("section",{id:"testimonials",className:"py-20 bg-white dark:bg-gray-950",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"What Our Users Say"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Join thousands of healthcare professionals who trust CareSync to deliver exceptional patient care"})]}),d.jsx(ys,{mode:"wait",custom:i,children:d.jsx(J.div,{custom:i,variants:p,initial:"enter",animate:"center",exit:"exit",transition:{duration:.4,ease:"easeInOut"},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:m.map((x,b)=>d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-2xl p-6 shadow-md hover:shadow-xl dark:hover:shadow-gray-900/50 transition transform hover:-translate-y-2",children:[d.jsx("div",{className:"flex items-center mb-4",children:[...Array(x.rating)].map((_,A)=>d.jsx(QB,{className:"h-5 w-5 text-yellow-400 fill-current"},A))}),d.jsxs("p",{className:"text-gray-700 dark:text-gray-200 mb-6 italic",children:['"',x.content,'"']}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mr-4 font-semibold text-emerald-600 dark:text-emerald-400",children:x.name.split(" ").map(_=>_[0]).join("")}),d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:x.name}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:x.role}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:x.hospital})]})]})]},b))},e)}),d.jsxs("div",{className:"flex justify-center items-center gap-4 mt-10",children:[d.jsx("button",{onClick:u,className:"bg-white dark:bg-gray-800 shadow-lg dark:shadow-gray-900/50 rounded-full p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition","aria-label":"Previous testimonials",children:d.jsx($B,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})}),d.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Page ",e+1," of ",l]}),d.jsx("button",{onClick:h,className:"bg-white dark:bg-gray-800 shadow-lg dark:shadow-gray-900/50 rounded-full p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition","aria-label":"Next testimonials",children:d.jsx(WB,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]})]})})}function Ib(){const{isDark:t}=Bo(),e=cg(),n=[{title:"Product",links:[{name:"Features",href:"#features",isRoute:!1},{name:"Pricing",href:"#pricing",isRoute:!1},{name:"API Documentation",href:"#",isRoute:!1},{name:"Integrations",href:"#",isRoute:!1},{name:"Security",href:"#",isRoute:!1}]},{title:"Company",links:[{name:"About Us",href:"/about",isRoute:!0},{name:"Careers",href:"#",isRoute:!1},{name:"Press",href:"#",isRoute:!1},{name:"Partners",href:"#",isRoute:!1},{name:"Contact",href:"#contact-form",isRoute:!1}]},{title:"Resources",links:[{name:"Blog",href:"#",isRoute:!1},{name:"Help Center",href:"#",isRoute:!1},{name:"Community",href:"#",isRoute:!1},{name:"Webinars",href:"#",isRoute:!1},{name:"Status",href:"#",isRoute:!1}]}],[i,s]=jo.useState(!1);return jo.useEffect(()=>{const o=()=>{window.scrollY>300?s(!0):s(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),d.jsxs("footer",{id:"contact",className:"bg-primary-100 dark:bg-primary-900/10 text-primary-900 dark:text-primary-50 w-full z-50",children:[i&&d.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed h-10 w-10 text-xl z-1000 bottom-8 right-8 bg-gradient-to-r from-medical-500 to-primary-600 text-white p-2 rounded-lg font-bold cursor-pointer hover:bg-gradient-to-r hover:from-primary-500 hover:to-medical-600 hover:scale-110 transition-colors",children:[d.jsx(HB,{})," "]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-10",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:d.jsx(KB,{className:"h-6 w-6 text-white"})}),d.jsx("span",{className:"ml-2 text-xl font-bold",children:"CareSync"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:"Revolutionizing healthcare through seamless collaboration between patients, doctors, and pharmacists."}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("a",{href:"#","aria-label":"Social 1",className:"w-10 h-10 bg-gray-300 dark:bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-400 dark:hover:bg-primary-600 transition-colors",children:d.jsx(EV,{className:"h-5 w-5 text-gray-700 dark:text-white"})}),d.jsx("a",{href:"#","aria-label":"Social 2",className:"w-10 h-10 bg-gray-300 dark:bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-400 dark:hover:bg-primary-600 transition-colors",children:d.jsx(z9,{className:"h-5 w-5 text-gray-700 dark:text-white"})}),d.jsx("a",{href:"#","aria-label":"Social 3",className:"w-10 h-10 bg-gray-300 dark:bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-400 dark:hover:bg-primary-600 transition-colors",children:d.jsx(q9,{className:"h-5 w-5 text-gray-700 dark:text-white"})})]})]}),n.map(o=>d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:o.title}),d.jsx("ul",{className:"space-y-2 text-sm",children:o.links.map(l=>d.jsx("li",{children:l.isRoute?d.jsx(tt,{to:l.href,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:l.name}):d.jsx("a",{href:l.href,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:l.name})},l.name))})]},o.title))]}),d.jsxs("div",{className:"mt-10 border-t border-gray-400 dark:border-gray-800 pt-6 text-xs text-gray-600 dark:text-gray-500 flex flex-col sm:flex-row items-center justify-between gap-3",children:[d.jsxs("span",{children:[" ",new Date().getFullYear()," CareSync. All rights reserved."]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("a",{className:"hover:text-gray-900 dark:hover:text-white",onClick:()=>e("/privacy-policy"),children:"Privacy"}),d.jsx("a",{href:"#",className:"hover:text-gray-900 dark:hover:text-white",children:"Terms"}),d.jsx("a",{href:"#",className:"hover:text-gray-900 dark:hover:text-white",children:"Cookies"})]})]})]})]})}const eF=()=>{const[t,e]=S.useState({stars:0,forks:0,contributors:0});return S.useEffect(()=>{(async()=>{try{const i="akathedeveloper",s="CareSync",l=await(await fetch(`https://api.github.com/repos/${i}/${s}`)).json(),h=await(await fetch(`https://api.github.com/repos/${i}/${s}/contributors?per_page=100`)).json();e({stars:l.stargazers_count,forks:l.forks_count,contributors:h.length})}catch(i){console.error("Error fetching GitHub data:",i)}})()},[]),d.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsxs("h2",{className:"text-5xl font-bold text-gray-800 dark:text-gray-100 mb-6",children:["Join Our Healthcare"," ",d.jsx("span",{className:"gradient-accent-alt bg-clip-text text-transparent",children:"Community"})]}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Built by healthcare professionals and developers, for the healthcare community"})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[d.jsxs("div",{className:"group bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-8 border border-green-200 dark:border-green-700 hover:border-green-300 dark:hover:border-green-600 transition-all duration-300 hover:shadow-xl hover:shadow-green-100 dark:hover:shadow-green-900/20 hover:-translate-y-1",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"100% Free"}),d.jsx("h4",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-4",children:"Open Source"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"MIT Licensed, free forever for healthcare providers"})]}),d.jsxs("div",{className:"group bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-8 border border-green-200 dark:border-green-700 hover:border-green-300 dark:hover:border-green-600 transition-all duration-300 hover:shadow-xl hover:shadow-green-100 dark:hover:shadow-green-900/20 hover:-translate-y-1",children:[d.jsxs("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:[t.contributors,"+ Active"]}),d.jsx("h4",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-4",children:"Contributors"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Healthcare professionals and developers worldwide"})]}),d.jsxs("div",{className:"group bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-8 border border-green-200 dark:border-green-700 hover:border-green-300 dark:hover:border-green-600 transition-all duration-300 hover:shadow-xl hover:shadow-green-100 dark:hover:shadow-green-900/20 hover:-translate-y-1",children:[d.jsxs("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:[t.stars," ",d.jsx("span",{className:"text-yellow-500",children:""})," ",t.forks," Forks"]}),d.jsx("h4",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-4",children:"GitHub Activity"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Active development and community support"})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[d.jsx("button",{className:"group gradient-accent-alt text-white px-8 py-4 rounded-xl transition-all duration-200 shadow-lg shadow-green-200 dark:shadow-green-900/30 hover:shadow-xl hover:shadow-green-300 dark:hover:shadow-green-900/50 flex items-center gap-3 font-medium",children:"Contribute on GitHub"}),d.jsx("button",{className:"group bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm text-green-600 dark:text-green-400 px-8 py-4 rounded-xl border border-green-200 dark:border-green-700 hover:border-green-300 dark:hover:border-green-600 hover:bg-white dark:hover:bg-gray-700 transition-all duration-200 shadow-lg shadow-green-100 dark:shadow-green-900/20 hover:shadow-xl hover:shadow-green-200 dark:hover:shadow-green-900/40 flex items-center gap-3 font-medium",children:"Report Issues"})]})]})},tF=()=>d.jsx("div",{id:"contact-form",className:"pt-24 pb-16 flex justify-center items-start px-4 min-h-[70vh] md:min-h-[90vh]",children:d.jsxs("div",{className:"w-full md:max-w-4xl bg-gray-300/70 dark:bg-gray-800/70 rounded-2xl p-6 md:p-12 shadow-xl border border-gray-400 dark:border-gray-700",children:[d.jsx("h3",{className:"text-2xl md:text-3xl font-semibold mb-4 text-center",children:"Have any questions? "}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm md:text-base mb-6 text-center",children:"Subscribe to our newsletter or drop your query below. Well get back to you soon!"}),d.jsxs("form",{className:"flex flex-col sm:flex-row gap-3 mb-6",onSubmit:t=>t.preventDefault(),children:[d.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-5 py-2.5 rounded-lg bg-gray-200 dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm md:text-base"}),d.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg font-semibold transition-all duration-200 shadow-md text-sm md:text-base",children:"Subscribe"})]}),d.jsxs("div",{children:[d.jsx("textarea",{placeholder:"Write your message...",rows:3,className:"w-full px-5 py-2.5 rounded-lg bg-gray-200 dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm md:text-base"}),d.jsx("button",{type:"button",className:"mt-3 w-full py-2.5 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg font-semibold transition-all duration-200 shadow-md text-sm md:text-base",children:"Send Message"})]})]})}),rC=()=>{const[t,e]=S.useState(!1),{isDark:n,toggleTheme:i}=Bo(),{user:s}=qn();S.useEffect(()=>{t?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")},[t]);const o=["Home","Features","Pricing","Testimonials","Contact"];return d.jsxs("nav",{className:"fixed top-0 w-full bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-800/50 z-50 shadow-sm",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10",children:d.jsx("img",{src:"/CareSync-Logo.png",alt:"CareSync Logo",className:"w-full h-full"})}),d.jsx("span",{className:"ml-3 font-bold text-emerald-600 dark:text-emerald-400",style:{fontSize:"1.375rem"},children:"CareSync"})]}),d.jsx("div",{className:"hidden md:flex items-center space-x-8",children:o.map(l=>d.jsxs("a",{href:l==="Contact"?"#contact-form":`#${l.toLowerCase()}`,className:"relative text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium group",children:[l,d.jsx("span",{className:"absolute left-0 -bottom-1 h-[2px] w-0 bg-emerald-600 transition-all duration-300 group-hover:w-full"})]},l))}),d.jsx("div",{className:"md:hidden",children:d.jsx("button",{onClick:()=>e(!t),className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:d.jsx(Zv,{className:"h-6 w-6"})})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx("button",{onClick:i,className:"p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:n?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",children:n?d.jsx(Nd,{className:"h-5 w-5"}):d.jsx(Ad,{className:"h-5 w-5"})}),s?d.jsx(tt,{to:`/${s.role}`,className:"text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium",children:"Dashboard"}):d.jsxs(d.Fragment,{children:[d.jsx(tt,{to:"/login",className:"text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium",children:"Sign In"}),d.jsx(tt,{to:"/register",className:"gradient-accent text-white px-6 py-2.5 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold",children:"Get Started"})]})]})]})}),t&&d.jsx("div",{className:"relative md:hidden",children:d.jsxs("div",{className:"absolute right-0 w-52 h-dvh pt-10 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800",children:[o.map(l=>d.jsx("a",{href:`#${l.toLowerCase()}`,className:`block text-center py-3 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium relative group
                after:content-[''] after:absolute after:left-0 after:bottom-1 after:h-[2px] after:w-full after:bg-emerald-600 after:scale-x-0 after:origin-center after:transition-transform after:duration-300
                hover:after:scale-x-100`,onClick:()=>e(!1),children:l},l)),d.jsxs("div",{className:"flex flex-col space-y-2 mt-20 px-3",children:[d.jsxs("button",{onClick:i,className:"text-center py-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors flex items-center justify-center gap-2",children:[n?d.jsx(Nd,{className:"h-5 w-5"}):d.jsx(Ad,{className:"h-5 w-5"}),n?"Light Mode":"Dark Mode"]}),s?d.jsx(tt,{to:`/${s.role}`,className:"text-center py-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Dashboard"}):d.jsxs(d.Fragment,{children:[d.jsx(tt,{to:"/login",className:"text-center py-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Sign In"}),d.jsx(tt,{to:"/register",className:"gradient-accent text-white px-4 py-2 rounded-lg text-center font-semibold",children:"Get Started"})]})]})]})})]})};function aC(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aC(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Dg(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aC(t))&&(i&&(i+=" "),i+=e);return i}const nF=(t,e,n,i)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const s=Object.getOwnPropertyDescriptor(t,n),o=Object.getOwnPropertyDescriptor(e,n);!iF(s,o)&&i||Object.defineProperty(t,n,o)},iF=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},sF=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},rF=(t,e)=>`/* Wrapped ${t}*/
${e}`,aF=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),oF=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),lF=(t,e,n)=>{const i=n===""?"":`with ${n.trim()}() `,s=rF.bind(null,i,e.toString());Object.defineProperty(s,"name",oF);const{writable:o,enumerable:l,configurable:u}=aF;Object.defineProperty(t,"toString",{value:s,writable:o,enumerable:l,configurable:u})};function cF(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:i}=t;for(const s of Reflect.ownKeys(e))nF(t,e,s,n);return sF(t,e),lF(t,e,i),t}const uF=new WeakMap,gE=new WeakMap;function oC(t,{cacheKey:e,cache:n=new Map,maxAge:i}={}){if(i===0)return t;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const s=function(...o){const l=e?e(o):o[0],u=n.get(l);if(u)return u.data;const h=t.apply(this,o),m=typeof i=="function"?i(...o):i;if(n.set(l,{data:h,maxAge:m?Date.now()+m:Number.POSITIVE_INFINITY}),m&&m>0&&m!==Number.POSITIVE_INFINITY){const p=setTimeout(()=>{n.delete(l)},m);p.unref?.();const x=gE.get(t)??new Set;x.add(p),gE.set(t,x)}return h};return cF(s,t,{ignoreNonConfigurable:!0}),uF.set(s,n),s}function dF(t){return typeof t=="string"}function hF(t,e,n){return n.indexOf(t)===e}function fF(t){return t.toLowerCase()===t}function pE(t){return t.indexOf(",")===-1?t:t.split(",")}function Lx(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return Lx(n)}if(t.indexOf("@")!==-1){var i=t.split("@")[0],n=i===void 0?"":i;return Lx(n)}if(t.indexOf("-")===-1||!fF(t))return t;var s=t.split("-"),o=s[0],l=s[1],u=l===void 0?"":l;return"".concat(o,"-").concat(u.toUpperCase())}function mF(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,i=n===void 0?!0:n,s=e.fallbackLocale,o=s===void 0?"en-US":s,l=[];if(typeof navigator<"u"){for(var u=navigator.languages||[],h=[],m=0,p=u;m<p.length;m++){var x=p[m];h=h.concat(pE(x))}var b=navigator.language,_=b&&pE(b);l=l.concat(h,_)}return i&&l.push(o),l.filter(dF).map(Lx).filter(hF)}var gF=oC(mF,{cacheKey:JSON.stringify});function pF(t){return gF(t)[0]||null}var lC=oC(pF,{cacheKey:JSON.stringify});function Tr(t,e,n){return function(s,o=n){const l=t(s)+o;return e(l)}}function sh(t){return function(n){return new Date(t(n).getTime()-1)}}function rh(t,e){return function(i){return[t(i),e(i)]}}function _t(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Ea(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Mg(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Ac(t){const e=_t(t),n=e+(-e+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const yF=Tr(_t,Ac,-100),cC=Tr(_t,Ac,100),Ob=sh(cC),xF=Tr(_t,Ob,-100),uC=rh(Ac,Ob);function ka(t){const e=_t(t),n=e+(-e+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const dC=Tr(_t,ka,-10),Pb=Tr(_t,ka,10),Ig=sh(Pb),hC=Tr(_t,Ig,-10),fC=rh(ka,Ig);function Nc(t){const e=_t(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const mC=Tr(_t,Nc,-1),Vb=Tr(_t,Nc,1),Og=sh(Vb),gC=Tr(_t,Og,-1),vF=rh(Nc,Og);function Lb(t,e){return function(i,s=e){const o=_t(i),l=Ea(i)+s,u=new Date;return u.setFullYear(o,l,1),u.setHours(0,0,0,0),t(u)}}function Fo(t){const e=_t(t),n=Ea(t),i=new Date;return i.setFullYear(e,n,1),i.setHours(0,0,0,0),i}const pC=Lb(Fo,-1),Ub=Lb(Fo,1),ah=sh(Ub),yC=Lb(ah,-1),bF=rh(Fo,ah);function wF(t,e){return function(i,s=e){const o=_t(i),l=Ea(i),u=Mg(i)+s,h=new Date;return h.setFullYear(o,l,u),h.setHours(0,0,0,0),t(h)}}function oh(t){const e=_t(t),n=Ea(t),i=Mg(t),s=new Date;return s.setFullYear(e,n,i),s.setHours(0,0,0,0),s}const _F=wF(oh,1),Bb=sh(_F),TF=rh(oh,Bb);function xC(t){return Mg(ah(t))}var En={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},SF={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Fb=[0,1,2,3,4,5,6],by=new Map;function EF(t){return function(n,i){var s=n||lC();by.has(s)||by.set(s,new Map);var o=by.get(s);return o.has(t)||o.set(t,new Intl.DateTimeFormat(s||void 0,t).format),o.get(t)(i)}}function kF(t){var e=new Date(t);return new Date(e.setHours(12))}function zo(t){return function(e,n){return EF(t)(e,kF(n))}}var AF={day:"numeric"},NF={day:"numeric",month:"long",year:"numeric"},jF={month:"long"},CF={month:"long",year:"numeric"},RF={weekday:"short"},DF={weekday:"long"},MF={year:"numeric"},IF=zo(AF),OF=zo(NF),PF=zo(jF),vC=zo(CF),VF=zo(RF),LF=zo(DF),Pg=zo(MF),UF=Fb[0],BF=Fb[5],yE=Fb[6];function Od(t,e){e===void 0&&(e=En.ISO_8601);var n=t.getDay();switch(e){case En.ISO_8601:return(n+6)%7;case En.ISLAMIC:return(n+1)%7;case En.HEBREW:case En.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function FF(t){var e=Ac(t);return _t(e)}function zF(t){var e=ka(t);return _t(e)}function Ux(t,e){e===void 0&&(e=En.ISO_8601);var n=_t(t),i=Ea(t),s=t.getDate()-Od(t,e);return new Date(n,i,s)}function HF(t,e){e===void 0&&(e=En.ISO_8601);var n=e===En.GREGORY?En.GREGORY:En.ISO_8601,i=Ux(t,e),s=_t(t)+1,o,l;do o=new Date(s,0,n===En.ISO_8601?4:1),l=Ux(o,e),s-=1;while(t<l);return Math.round((i.getTime()-l.getTime())/(864e5*7))+1}function Ao(t,e){switch(t){case"century":return Ac(e);case"decade":return ka(e);case"year":return Nc(e);case"month":return Fo(e);case"day":return oh(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function qF(t,e){switch(t){case"century":return yF(e);case"decade":return dC(e);case"year":return mC(e);case"month":return pC(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function bC(t,e){switch(t){case"century":return cC(e);case"decade":return Pb(e);case"year":return Vb(e);case"month":return Ub(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function $F(t,e){switch(t){case"decade":return dC(e,-100);case"year":return mC(e,-10);case"month":return pC(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function GF(t,e){switch(t){case"decade":return Pb(e,100);case"year":return Vb(e,10);case"month":return Ub(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function wC(t,e){switch(t){case"century":return Ob(e);case"decade":return Ig(e);case"year":return Og(e);case"month":return ah(e);case"day":return Bb(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function WF(t,e){switch(t){case"century":return xF(e);case"decade":return hC(e);case"year":return gC(e);case"month":return yC(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function YF(t,e){switch(t){case"decade":return hC(e,-100);case"year":return gC(e,-10);case"month":return yC(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function xE(t,e){switch(t){case"century":return uC(e);case"decade":return fC(e);case"year":return vF(e);case"month":return bF(e);case"day":return TF(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function KF(t,e,n){var i=[e,n].sort(function(s,o){return s.getTime()-o.getTime()});return[Ao(t,i[0]),wC(t,i[1])]}function _C(t,e,n){return n.map(function(i){return(e||Pg)(t,i)}).join("  ")}function XF(t,e,n){return _C(t,e,uC(n))}function TC(t,e,n){return _C(t,e,fC(n))}function QF(t){return t.getDay()===new Date().getDay()}function SC(t,e){e===void 0&&(e=En.ISO_8601);var n=t.getDay();switch(e){case En.ISLAMIC:case En.HEBREW:return n===BF||n===yE;case En.ISO_8601:case En.GREGORY:return n===yE||n===UF;default:throw new Error("Unsupported calendar type.")}}var hs="react-calendar__navigation";function ZF(t){var e=t.activeStartDate,n=t.drillUp,i=t.formatMonthYear,s=i===void 0?vC:i,o=t.formatYear,l=o===void 0?Pg:o,u=t.locale,h=t.maxDate,m=t.minDate,p=t.navigationAriaLabel,x=p===void 0?"":p,b=t.navigationAriaLive,_=t.navigationLabel,A=t.next2AriaLabel,R=A===void 0?"":A,C=t.next2Label,L=C===void 0?"":C,U=t.nextAriaLabel,F=U===void 0?"":U,G=t.nextLabel,Q=G===void 0?"":G,te=t.prev2AriaLabel,V=te===void 0?"":te,k=t.prev2Label,N=k===void 0?"":k,D=t.prevAriaLabel,I=D===void 0?"":D,O=t.prevLabel,P=O===void 0?"":O,X=t.setActiveStartDate,se=t.showDoubleView,z=t.view,$=t.views,le=$.indexOf(z)>0,fe=z!=="century",ue=qF(z,e),ve=fe?$F(z,e):void 0,xe=bC(z,e),he=fe?GF(z,e):void 0,ke=(function(){if(ue.getFullYear()<0)return!0;var Ge=WF(z,e);return m&&m>=Ge})(),$e=fe&&(function(){if(ve.getFullYear()<0)return!0;var Ge=YF(z,e);return m&&m>=Ge})(),Be=h&&h<xe,At=fe&&h&&h<he;function Nt(){X(ue,"prev")}function ut(){X(ve,"prev2")}function nn(){X(xe,"next")}function Wt(){X(he,"next2")}function An(Ge){var Nn=(function(){switch(z){case"century":return XF(u,l,Ge);case"decade":return TC(u,l,Ge);case"year":return l(u,Ge);case"month":return s(u,Ge);default:throw new Error("Invalid view: ".concat(z,"."))}})();return _?_({date:Ge,label:Nn,locale:u||lC()||void 0,view:z}):Nn}function jt(){var Ge="".concat(hs,"__label");return d.jsxs("button",{"aria-label":x,"aria-live":b,className:Ge,disabled:!le,onClick:n,style:{flexGrow:1},type:"button",children:[d.jsx("span",{className:"".concat(Ge,"__labelText ").concat(Ge,"__labelText--from"),children:An(e)}),se?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"".concat(Ge,"__divider"),children:"  "}),d.jsx("span",{className:"".concat(Ge,"__labelText ").concat(Ge,"__labelText--to"),children:An(xe)})]}):null]})}return d.jsxs("div",{className:hs,children:[N!==null&&fe?d.jsx("button",{"aria-label":V,className:"".concat(hs,"__arrow ").concat(hs,"__prev2-button"),disabled:$e,onClick:ut,type:"button",children:N}):null,P!==null&&d.jsx("button",{"aria-label":I,className:"".concat(hs,"__arrow ").concat(hs,"__prev-button"),disabled:ke,onClick:Nt,type:"button",children:P}),jt(),Q!==null&&d.jsx("button",{"aria-label":F,className:"".concat(hs,"__arrow ").concat(hs,"__next-button"),disabled:Be,onClick:nn,type:"button",children:Q}),L!==null&&fe?d.jsx("button",{"aria-label":R,className:"".concat(hs,"__arrow ").concat(hs,"__next2-button"),disabled:At,onClick:Wt,type:"button",children:L}):null]})}var Gl=function(){return Gl=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Gl.apply(this,arguments)},JF=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function vE(t){return"".concat(t,"%")}function zb(t){var e=t.children,n=t.className,i=t.count,s=t.direction,o=t.offset,l=t.style,u=t.wrap,h=JF(t,["children","className","count","direction","offset","style","wrap"]);return d.jsx("div",Gl({className:n,style:Gl({display:"flex",flexDirection:s,flexWrap:u?"wrap":"nowrap"},l)},h,{children:S.Children.map(e,function(m,p){var x=o&&p===0?vE(100*o/i):null;return S.cloneElement(m,Gl(Gl({},m.props),{style:{flexBasis:vE(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:x,marginInlineStart:x,marginInlineEnd:0}}))})}))}function ez(t,e,n){return e&&e>t?e:n&&n<t?n:t}function Pd(t,e){return e[0]<=t&&e[1]>=t}function tz(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function EC(t,e){return Pd(t[0],e)||Pd(t[1],e)}function bE(t,e,n){var i=EC(e,t),s=[];if(i){s.push(n);var o=Pd(t[0],e),l=Pd(t[1],e);o&&s.push("".concat(n,"Start")),l&&s.push("".concat(n,"End")),o&&l&&s.push("".concat(n,"BothEnds"))}return s}function nz(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function iz(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,i=t.hover,s="react-calendar__tile",o=[s];if(!n)return o;var l=new Date,u=(function(){if(Array.isArray(n))return n;var _=t.dateType;if(!_)throw new Error("dateType is required when date is not an array of two dates");return xE(_,n)})();if(Pd(l,u)&&o.push("".concat(s,"--now")),!e||!nz(e))return o;var h=(function(){if(Array.isArray(e))return e;var _=t.valueType;if(!_)throw new Error("valueType is required when value is not an array of two dates");return xE(_,e)})();tz(h,u)?o.push("".concat(s,"--active")):EC(h,u)&&o.push("".concat(s,"--hasActive"));var m=bE(h,u,"".concat(s,"--range"));o.push.apply(o,m);var p=Array.isArray(e)?e:[e];if(i&&p.length===1){var x=i>h[0]?[h[0],i]:[i,h[0]],b=bE(x,u,"".concat(s,"--hover"));o.push.apply(o,b)}return o}function Vg(t){for(var e=t.className,n=t.count,i=n===void 0?3:n,s=t.dateTransform,o=t.dateType,l=t.end,u=t.hover,h=t.offset,m=t.renderTile,p=t.start,x=t.step,b=x===void 0?1:x,_=t.value,A=t.valueType,R=[],C=p;C<=l;C+=b){var L=s(C);R.push(m({classes:iz({date:L,dateType:o,hover:u,value:_,valueType:A}),date:L}))}return d.jsx(zb,{className:e,count:i,offset:h,wrap:!0,children:R})}function Lg(t){var e=t.activeStartDate,n=t.children,i=t.classes,s=t.date,o=t.formatAbbr,l=t.locale,u=t.maxDate,h=t.maxDateTransform,m=t.minDate,p=t.minDateTransform,x=t.onClick,b=t.onMouseOver,_=t.style,A=t.tileClassName,R=t.tileContent,C=t.tileDisabled,L=t.view,U=S.useMemo(function(){var G={activeStartDate:e,date:s,view:L};return typeof A=="function"?A(G):A},[e,s,A,L]),F=S.useMemo(function(){var G={activeStartDate:e,date:s,view:L};return typeof R=="function"?R(G):R},[e,s,R,L]);return d.jsxs("button",{className:Dg(i,U),disabled:m&&p(m)>s||u&&h(u)<s||C?.({activeStartDate:e,date:s,view:L}),onClick:x?function(G){return x(s,G)}:void 0,onFocus:b?function(){return b(s)}:void 0,onMouseOver:b?function(){return b(s)}:void 0,style:_,type:"button",children:[o?d.jsx("abbr",{"aria-label":o(l,s),children:n}):n,F]})}var Bx=function(){return Bx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Bx.apply(this,arguments)},sz=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},wE="react-calendar__century-view__decades__decade";function rz(t){var e=t.classes,n=e===void 0?[]:e,i=t.currentCentury,s=t.formatYear,o=s===void 0?Pg:s,l=sz(t,["classes","currentCentury","formatYear"]),u=l.date,h=l.locale,m=[];return n&&m.push.apply(m,n),m.push(wE),Ac(u).getFullYear()!==i&&m.push("".concat(wE,"--neighboringCentury")),d.jsx(Lg,Bx({},l,{classes:m,maxDateTransform:Ig,minDateTransform:ka,view:"century",children:TC(h,o,u)}))}var Fx=function(){return Fx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Fx.apply(this,arguments)},_E=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function az(t){var e=t.activeStartDate,n=t.hover,i=t.showNeighboringCentury,s=t.value,o=t.valueType,l=_E(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),u=FF(e),h=u+(i?119:99);return d.jsx(Vg,{className:"react-calendar__century-view__decades",dateTransform:ka,dateType:"decade",end:h,hover:n,renderTile:function(m){var p=m.date,x=_E(m,["date"]);return d.jsx(rz,Fx({},l,x,{activeStartDate:e,currentCentury:u,date:p}),p.getTime())},start:u,step:10,value:s,valueType:o})}var zx=function(){return zx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},zx.apply(this,arguments)};function oz(t){function e(){return d.jsx(az,zx({},t))}return d.jsx("div",{className:"react-calendar__century-view",children:e()})}var Hx=function(){return Hx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Hx.apply(this,arguments)},lz=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},TE="react-calendar__decade-view__years__year";function cz(t){var e=t.classes,n=e===void 0?[]:e,i=t.currentDecade,s=t.formatYear,o=s===void 0?Pg:s,l=lz(t,["classes","currentDecade","formatYear"]),u=l.date,h=l.locale,m=[];return n&&m.push.apply(m,n),m.push(TE),ka(u).getFullYear()!==i&&m.push("".concat(TE,"--neighboringDecade")),d.jsx(Lg,Hx({},l,{classes:m,maxDateTransform:Og,minDateTransform:Nc,view:"decade",children:o(h,u)}))}var qx=function(){return qx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},qx.apply(this,arguments)},SE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function uz(t){var e=t.activeStartDate,n=t.hover,i=t.showNeighboringDecade,s=t.value,o=t.valueType,l=SE(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),u=zF(e),h=u+(i?11:9);return d.jsx(Vg,{className:"react-calendar__decade-view__years",dateTransform:Nc,dateType:"year",end:h,hover:n,renderTile:function(m){var p=m.date,x=SE(m,["date"]);return d.jsx(cz,qx({},l,x,{activeStartDate:e,currentDecade:u,date:p}),p.getTime())},start:u,value:s,valueType:o})}var $x=function(){return $x=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},$x.apply(this,arguments)};function dz(t){function e(){return d.jsx(uz,$x({},t))}return d.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Gx=function(){return Gx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Gx.apply(this,arguments)},hz=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},EE=function(t,e,n){if(n||arguments.length===2)for(var i=0,s=e.length,o;i<s;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},fz="react-calendar__year-view__months__month";function mz(t){var e=t.classes,n=e===void 0?[]:e,i=t.formatMonth,s=i===void 0?PF:i,o=t.formatMonthYear,l=o===void 0?vC:o,u=hz(t,["classes","formatMonth","formatMonthYear"]),h=u.date,m=u.locale;return d.jsx(Lg,Gx({},u,{classes:EE(EE([],n,!0),[fz],!1),formatAbbr:l,maxDateTransform:ah,minDateTransform:Fo,view:"year",children:s(m,h)}))}var Wx=function(){return Wx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Wx.apply(this,arguments)},kE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function gz(t){var e=t.activeStartDate,n=t.hover,i=t.value,s=t.valueType,o=kE(t,["activeStartDate","hover","value","valueType"]),l=0,u=11,h=_t(e);return d.jsx(Vg,{className:"react-calendar__year-view__months",dateTransform:function(m){var p=new Date;return p.setFullYear(h,m,1),Fo(p)},dateType:"month",end:u,hover:n,renderTile:function(m){var p=m.date,x=kE(m,["date"]);return d.jsx(mz,Wx({},o,x,{activeStartDate:e,date:p}),p.getTime())},start:l,value:i,valueType:s})}var Yx=function(){return Yx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Yx.apply(this,arguments)};function pz(t){function e(){return d.jsx(gz,Yx({},t))}return d.jsx("div",{className:"react-calendar__year-view",children:e()})}var Kx=function(){return Kx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Kx.apply(this,arguments)},yz=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},wy="react-calendar__month-view__days__day";function xz(t){var e=t.calendarType,n=t.classes,i=n===void 0?[]:n,s=t.currentMonthIndex,o=t.formatDay,l=o===void 0?IF:o,u=t.formatLongDate,h=u===void 0?OF:u,m=yz(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),p=m.date,x=m.locale,b=[];return i&&b.push.apply(b,i),b.push(wy),SC(p,e)&&b.push("".concat(wy,"--weekend")),p.getMonth()!==s&&b.push("".concat(wy,"--neighboringMonth")),d.jsx(Lg,Kx({},m,{classes:b,formatAbbr:h,maxDateTransform:Bb,minDateTransform:oh,view:"month",children:l(x,p)}))}var Xx=function(){return Xx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Xx.apply(this,arguments)},AE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function vz(t){var e=t.activeStartDate,n=t.calendarType,i=t.hover,s=t.showFixedNumberOfWeeks,o=t.showNeighboringMonth,l=t.value,u=t.valueType,h=AE(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),m=_t(e),p=Ea(e),x=s||o,b=Od(e,n),_=x?0:b,A=(x?-b:0)+1,R=(function(){if(s)return A+42-1;var C=xC(e);if(o){var L=new Date;L.setFullYear(m,p,C),L.setHours(0,0,0,0);var U=7-Od(L,n)-1;return C+U}return C})();return d.jsx(Vg,{className:"react-calendar__month-view__days",count:7,dateTransform:function(C){var L=new Date;return L.setFullYear(m,p,C),oh(L)},dateType:"day",hover:i,end:R,renderTile:function(C){var L=C.date,U=AE(C,["date"]);return d.jsx(xz,Xx({},h,U,{activeStartDate:e,calendarType:n,currentMonthIndex:p,date:L}),L.getTime())},offset:_,start:A,value:l,valueType:u})}var kC="react-calendar__month-view__weekdays",_y="".concat(kC,"__weekday");function bz(t){for(var e=t.calendarType,n=t.formatShortWeekday,i=n===void 0?VF:n,s=t.formatWeekday,o=s===void 0?LF:s,l=t.locale,u=t.onMouseLeave,h=new Date,m=Fo(h),p=_t(m),x=Ea(m),b=[],_=1;_<=7;_+=1){var A=new Date(p,x,_-Od(m,e)),R=o(l,A);b.push(d.jsx("div",{className:Dg(_y,QF(A)&&"".concat(_y,"--current"),SC(A,e)&&"".concat(_y,"--weekend")),children:d.jsx("abbr",{"aria-label":R,title:R,children:i(l,A).replace(".","")})},_))}return d.jsx(zb,{className:kC,count:7,onFocus:u,onMouseOver:u,children:b})}var eg=function(){return eg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},eg.apply(this,arguments)},NE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},jE="react-calendar__tile";function wz(t){var e=t.onClickWeekNumber,n=t.weekNumber,i=d.jsx("span",{children:n});if(e){var s=t.date,o=t.onClickWeekNumber,l=t.weekNumber,u=NE(t,["date","onClickWeekNumber","weekNumber"]);return d.jsx("button",eg({},u,{className:jE,onClick:function(h){return o(l,s,h)},type:"button",children:i}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var u=NE(t,["date","onClickWeekNumber","weekNumber"]);return d.jsx("div",eg({},u,{className:jE,children:i}))}}function _z(t){var e=t.activeStartDate,n=t.calendarType,i=t.onClickWeekNumber,s=t.onMouseLeave,o=t.showFixedNumberOfWeeks,l=(function(){if(o)return 6;var m=xC(e),p=Od(e,n),x=m-(7-p);return 1+Math.ceil(x/7)})(),u=(function(){for(var m=_t(e),p=Ea(e),x=Mg(e),b=[],_=0;_<l;_+=1)b.push(Ux(new Date(m,p,x+_*7),n));return b})(),h=u.map(function(m){return HF(m,n)});return d.jsx(zb,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:h.map(function(m,p){var x=u[p];if(!x)throw new Error("date is not defined");return d.jsx(wz,{date:x,onClickWeekNumber:i,weekNumber:m},m)})})}var Qx=function(){return Qx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Qx.apply(this,arguments)},Tz=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function Sz(t){if(t)for(var e=0,n=Object.entries(SF);e<n.length;e++){var i=n[e],s=i[0],o=i[1];if(o.includes(t))return s}return En.ISO_8601}function Ez(t){var e=t.activeStartDate,n=t.locale,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,o=t.calendarType,l=o===void 0?Sz(n):o,u=t.formatShortWeekday,h=t.formatWeekday,m=t.onClickWeekNumber,p=t.showWeekNumbers,x=Tz(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function b(){return d.jsx(bz,{calendarType:l,formatShortWeekday:u,formatWeekday:h,locale:n,onMouseLeave:i})}function _(){return p?d.jsx(_z,{activeStartDate:e,calendarType:l,onClickWeekNumber:m,onMouseLeave:i,showFixedNumberOfWeeks:s}):null}function A(){return d.jsx(vz,Qx({calendarType:l},x))}var R="react-calendar__month-view";return d.jsx("div",{className:Dg(R,p?"".concat(R,"--weekNumbers"):""),children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[_(),d.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[b(),A()]})]})})}var Wl=function(){return Wl=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Wl.apply(this,arguments)},zf="react-calendar",wm=["century","decade","year","month"],kz=["decade","year","month","day"],Hb=new Date;Hb.setFullYear(1,0,1);Hb.setHours(0,0,0,0);var Az=new Date(864e13);function Wu(t){return t instanceof Date?t:new Date(t)}function AC(t,e){return wm.slice(wm.indexOf(t),wm.indexOf(e)+1)}function Nz(t,e,n){var i=AC(e,n);return i.indexOf(t)!==-1}function qb(t,e,n){return t&&Nz(t,e,n)?t:n}function NC(t){var e=wm.indexOf(t);return kz[e]}function jz(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var i=Wu(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(t));return i}function jC(t,e){var n=t.value,i=t.minDate,s=t.maxDate,o=t.maxDetail,l=jz(n,e);if(!l)return null;var u=NC(o),h=(function(){switch(e){case 0:return Ao(u,l);case 1:return wC(u,l);default:throw new Error("Invalid index value: ".concat(e))}})();return ez(h,i,s)}var $b=function(t){return jC(t,0)},CC=function(t){return jC(t,1)},Cz=function(t){return[$b,CC].map(function(e){return e(t)})};function RC(t){var e=t.maxDate,n=t.maxDetail,i=t.minDate,s=t.minDetail,o=t.value,l=t.view,u=qb(l,s,n),h=$b({value:o,minDate:i,maxDate:e,maxDetail:n})||new Date;return Ao(u,h)}function Rz(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,i=t.defaultValue,s=t.defaultView,o=t.maxDate,l=t.maxDetail,u=t.minDate,h=t.minDetail,m=t.value,p=t.view,x=qb(p,h,l),b=e||n;return b?Ao(x,b):RC({maxDate:o,maxDetail:l,minDate:u,minDetail:h,value:m||i,view:p||s})}function Ty(t){return t&&(!Array.isArray(t)||t.length===1)}function Hf(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var Dz=S.forwardRef(function(e,n){var i=e.activeStartDate,s=e.allowPartialRange,o=e.calendarType,l=e.className,u=e.defaultActiveStartDate,h=e.defaultValue,m=e.defaultView,p=e.formatDay,x=e.formatLongDate,b=e.formatMonth,_=e.formatMonthYear,A=e.formatShortWeekday,R=e.formatWeekday,C=e.formatYear,L=e.goToRangeStartOnSelect,U=L===void 0?!0:L,F=e.inputRef,G=e.locale,Q=e.maxDate,te=Q===void 0?Az:Q,V=e.maxDetail,k=V===void 0?"month":V,N=e.minDate,D=N===void 0?Hb:N,I=e.minDetail,O=I===void 0?"century":I,P=e.navigationAriaLabel,X=e.navigationAriaLive,se=e.navigationLabel,z=e.next2AriaLabel,$=e.next2Label,le=e.nextAriaLabel,fe=e.nextLabel,ue=e.onActiveStartDateChange,ve=e.onChange,xe=e.onClickDay,he=e.onClickDecade,ke=e.onClickMonth,$e=e.onClickWeekNumber,Be=e.onClickYear,At=e.onDrillDown,Nt=e.onDrillUp,ut=e.onViewChange,nn=e.prev2AriaLabel,Wt=e.prev2Label,An=e.prevAriaLabel,jt=e.prevLabel,Ge=e.returnValue,Nn=Ge===void 0?"start":Ge,hn=e.selectRange,fn=e.showDoubleView,Ho=e.showFixedNumberOfWeeks,Sr=e.showNavigation,Er=Sr===void 0?!0:Sr,Rs=e.showNeighboringCentury,Mc=e.showNeighboringDecade,Ds=e.showNeighboringMonth,Na=Ds===void 0?!0:Ds,qo=e.showWeekNumbers,xt=e.tileClassName,Qe=e.tileContent,Ln=e.tileDisabled,Ut=e.value,ja=e.view,$o=S.useState(u),Ms=$o[0],oi=$o[1],Ki=S.useState(null),Zn=Ki[0],Is=Ki[1],Xi=S.useState(Array.isArray(h)?h.map(function(Ae){return Ae!==null?Wu(Ae):null}):h!=null?Wu(h):null),Os=Xi[0],Ca=Xi[1],kr=S.useState(m),Di=kr[0],li=kr[1],Bt=i||Ms||Rz({activeStartDate:i,defaultActiveStartDate:u,defaultValue:h,defaultView:m,maxDate:te,maxDetail:k,minDate:D,minDetail:O,value:Ut,view:ja}),gt=(function(){var Ae=(function(){return hn&&Ty(Os)?Os:Ut!==void 0?Ut:Os})();return Ae?Array.isArray(Ae)?Ae.map(function(Me){return Me!==null?Wu(Me):null}):Ae!==null?Wu(Ae):null:null})(),Qi=NC(k),Ye=qb(ja||Di,O,k),mn=AC(O,k),Zi=hn?Zn:null,Ar=mn.indexOf(Ye)<mn.length-1,dt=mn.indexOf(Ye)>0,Ct=S.useCallback(function(Ae){var Me=(function(){switch(Nn){case"start":return $b;case"end":return CC;case"range":return Cz;default:throw new Error("Invalid returnValue.")}})();return Me({maxDate:te,maxDetail:k,minDate:D,value:Ae})},[te,k,D,Nn]),vt=S.useCallback(function(Ae,Me){oi(Ae);var Re={action:Me,activeStartDate:Ae,value:gt,view:Ye};ue&&!Hf(Bt,Ae)&&ue(Re)},[Bt,ue,gt,Ye]),gn=S.useCallback(function(Ae,Me){var Re=(function(){switch(Ye){case"century":return he;case"decade":return Be;case"year":return ke;case"month":return xe;default:throw new Error("Invalid view: ".concat(Ye,"."))}})();Re&&Re(Ae,Me)},[xe,he,ke,Be,Ye]),Ps=S.useCallback(function(Ae,Me){if(Ar){gn(Ae,Me);var Re=mn[mn.indexOf(Ye)+1];if(!Re)throw new Error("Attempted to drill down from the lowest view.");oi(Ae),li(Re);var pn={action:"drillDown",activeStartDate:Ae,value:gt,view:Re};ue&&!Hf(Bt,Ae)&&ue(pn),ut&&Ye!==Re&&ut(pn),At&&At(pn)}},[Bt,Ar,ue,gn,At,ut,gt,Ye,mn]),Ra=S.useCallback(function(){if(dt){var Ae=mn[mn.indexOf(Ye)-1];if(!Ae)throw new Error("Attempted to drill up from the highest view.");var Me=Ao(Ae,Bt);oi(Me),li(Ae);var Re={action:"drillUp",activeStartDate:Me,value:gt,view:Ae};ue&&!Hf(Bt,Me)&&ue(Re),ut&&Ye!==Ae&&ut(Re),Nt&&Nt(Re)}},[Bt,dt,ue,Nt,ut,gt,Ye,mn]),ci=S.useCallback(function(Ae,Me){var Re=gt;gn(Ae,Me);var pn=hn&&!Ty(Re),sn;if(hn)if(pn)sn=Ao(Qi,Ae);else{if(!Re)throw new Error("previousValue is required");if(Array.isArray(Re))throw new Error("previousValue must not be an array");sn=KF(Qi,Re,Ae)}else sn=Ct(Ae);var Un=!hn||pn||U?RC({maxDate:te,maxDetail:k,minDate:D,minDetail:O,value:sn,view:Ye}):null;Me.persist(),oi(Un),Ca(sn);var Pi={action:"onChange",activeStartDate:Un,value:sn,view:Ye};if(ue&&!Hf(Bt,Un)&&ue(Pi),ve)if(hn){var Wo=Ty(sn);if(!Wo)ve(sn||null,Me);else if(s){if(Array.isArray(sn))throw new Error("value must not be an array");ve([sn||null,null],Me)}}else ve(sn||null,Me)},[Bt,s,Ct,U,te,k,D,O,ue,ve,gn,hn,gt,Qi,Ye]);function Go(Ae){Is(Ae)}function Mi(){Is(null)}S.useImperativeHandle(n,function(){return{activeStartDate:Bt,drillDown:Ps,drillUp:Ra,onChange:ci,setActiveStartDate:vt,value:gt,view:Ye}},[Bt,Ps,Ra,ci,vt,gt,Ye]);function Ii(Ae){var Me=Ae?bC(Ye,Bt):Ao(Ye,Bt),Re=Ar?Ps:ci,pn={activeStartDate:Me,hover:Zi,locale:G,maxDate:te,minDate:D,onClick:Re,onMouseOver:hn?Go:void 0,tileClassName:xt,tileContent:Qe,tileDisabled:Ln,value:gt,valueType:Qi};switch(Ye){case"century":return d.jsx(oz,Wl({formatYear:C,showNeighboringCentury:Rs},pn));case"decade":return d.jsx(dz,Wl({formatYear:C,showNeighboringDecade:Mc},pn));case"year":return d.jsx(pz,Wl({formatMonth:b,formatMonthYear:_},pn));case"month":return d.jsx(Ez,Wl({calendarType:o,formatDay:p,formatLongDate:x,formatShortWeekday:A,formatWeekday:R,onClickWeekNumber:$e,onMouseLeave:hn?Mi:void 0,showFixedNumberOfWeeks:typeof Ho<"u"?Ho:fn,showNeighboringMonth:Na,showWeekNumbers:qo},pn));default:throw new Error("Invalid view: ".concat(Ye,"."))}}function Oi(){return Er?d.jsx(ZF,{activeStartDate:Bt,drillUp:Ra,formatMonthYear:_,formatYear:C,locale:G,maxDate:te,minDate:D,navigationAriaLabel:P,navigationAriaLive:X,navigationLabel:se,next2AriaLabel:z,next2Label:$,nextAriaLabel:le,nextLabel:fe,prev2AriaLabel:nn,prev2Label:Wt,prevAriaLabel:An,prevLabel:jt,setActiveStartDate:vt,showDoubleView:fn,view:Ye,views:mn}):null}var ui=Array.isArray(gt)?gt:[gt];return d.jsxs("div",{className:Dg(zf,hn&&ui.length===1&&"".concat(zf,"--selectRange"),fn&&"".concat(zf,"--doubleView"),l),ref:F,children:[Oi(),d.jsxs("div",{className:"".concat(zf,"__viewContainer"),onBlur:hn?Mi:void 0,onMouseLeave:hn?Mi:void 0,children:[Ii(),fn?Ii(!0):null]})]})});const Mz=({onClose:t,onSelectDate:e})=>{const[n,i]=S.useState(new Date),{isDark:s}=Bo(),o=u=>{e(u),t()},l=({date:u,view:h})=>h==="month"&&u.toDateString()===new Date().toDateString()?"react-calendar__tile--today-custom":null;return d.jsx("div",{className:"calendar-modal-overlay",children:d.jsxs("div",{className:`calendar-modal-content ${s?"dark":"light"}`,children:[d.jsxs("div",{className:"calendar-modal-header",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Schedule a Demo"}),d.jsx("button",{onClick:t,className:"calendar-modal-close-button",children:d.jsx(Jd,{className:"h-6 w-6"})})]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Select an available date to book your demo."}),d.jsx(Dz,{onChange:i,value:n,onClickDay:o,className:"react-calendar-custom",tileClassName:l}),d.jsx("div",{className:"mt-4 flex justify-end",children:d.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})})]})})},Iz=[{icon:d.jsx(So,{className:"w-8 h-8"}),title:"Enterprise Security",description:"SOC 2 Type II & HIPAA compliant with end-to-end encryption, audit trails, and advanced access controls.",highlights:["256-bit encryption","Multi-factor authentication","Compliance reporting"],category:"Security"},{icon:d.jsx(wN,{className:"w-8 h-8"}),title:"Advanced Analytics",description:"Real-time health insights, predictive analytics, and comprehensive reporting for data-driven decisions.",highlights:["Predictive modeling","Custom dashboards","Performance metrics"],category:"Analytics"},{icon:d.jsx(Cs,{className:"w-8 h-8"}),title:"Care Team Collaboration",description:"Seamless communication between doctors, nurses, pharmacists, and patients with role-based permissions.",highlights:["Team messaging","Task management","Role-based access"],category:"Collaboration"},{icon:d.jsx(oV,{className:"w-8 h-8"}),title:"Cloud Infrastructure",description:"99.9% uptime guarantee with automatic backups, disaster recovery, and global CDN for optimal performance.",highlights:["99.9% uptime SLA","Auto-scaling","Global availability"],category:"Infrastructure"},{icon:d.jsx(kd,{className:"w-8 h-8"}),title:"Smart Documentation",description:"AI-powered clinical documentation with voice-to-text, templates, and automated coding assistance.",highlights:["Voice recognition","Auto-coding","Template library"],category:"Documentation"},{icon:d.jsx(mV,{className:"w-8 h-8"}),title:"Omnichannel Access",description:"Native mobile apps, responsive web portal, and API integrations for seamless workflow continuity.",highlights:["Native mobile apps","REST API","Third-party integrations"],category:"Accessibility"},{icon:d.jsx(xr,{className:"w-8 h-8"}),title:"Real-time Monitoring",description:"24/7 system monitoring, automated alerts, and proactive issue resolution with dedicated support.",highlights:["24/7 monitoring","Automated alerts","Proactive support"],category:"Monitoring"},{icon:d.jsx(dV,{className:"w-8 h-8"}),title:"AI-Powered Insights",description:"Machine learning algorithms for clinical decision support, risk assessment, and treatment recommendations.",highlights:["Clinical AI","Risk scoring","Treatment insights"],category:"AI/ML"}],DC=()=>d.jsx("section",{id:"features",className:"py-24 bg-white dark:bg-gray-950",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(J.div,{className:"text-center mb-20",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[d.jsx("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-full text-sm font-semibold shadow-sm border border-emerald-200 dark:border-emerald-800 mb-6",children:"Enterprise-Grade Features"}),d.jsxs("h2",{className:"text-4xl lg:text-5xl font-black text-gray-900 dark:text-gray-100 mb-6",children:["Built for",d.jsx("span",{className:"gradient-accent bg-clip-text text-transparent",children:" Healthcare"}),d.jsx("br",{}),"Professionals"]}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Comprehensive healthcare management platform designed to meet the demanding requirements of modern healthcare organizations with enterprise-grade security and scalability."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Iz.map((t,e)=>d.jsxs(J.div,{className:"group relative bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-8 hover:shadow-xl hover:border-emerald-300 dark:hover:border-emerald-700 transition-all duration-300",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},viewport:{once:!0},children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-full",children:t.category})}),d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/30 dark:to-teal-900/30 text-emerald-600 dark:text-emerald-400 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 border border-emerald-100 dark:border-emerald-800",children:t.icon}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:t.title}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-6",children:t.description}),d.jsx("div",{className:"space-y-2",children:t.highlights.map((n,i)=>d.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mr-2"}),n]},i))}),d.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-emerald-500/0 via-emerald-500/0 to-teal-500/0 group-hover:from-emerald-500/10 group-hover:via-emerald-500/5 group-hover:to-teal-500/10 transition-all duration-300 pointer-events-none"})]},e))}),d.jsx(J.div,{className:"text-center mt-20",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},children:d.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 rounded-3xl border border-emerald-200 dark:border-emerald-800 p-12",children:[d.jsx("h3",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Ready to Experience Enterprise Healthcare?"}),d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join leading healthcare organizations that trust CareSync for their critical operations."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx("button",{className:"gradient-accent text-white px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all duration-300",children:"Request Enterprise Demo"}),d.jsx("button",{className:"border-2 border-emerald-500 text-emerald-600 dark:text-emerald-400 px-8 py-4 rounded-xl font-semibold hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all duration-300",children:"View Technical Specs"})]})]})}),d.jsx(J.div,{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 text-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:[{value:"99.9%",label:"Uptime SLA"},{value:"SOC 2",label:"Type II Certified"},{value:"HIPAA",label:"Compliant"},{value:"24/7",label:"Enterprise Support"}].map((t,e)=>d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-400 mb-2",children:t.value}),d.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:t.label})]},e))})]})}),Oz=()=>{const[t,e]=S.useState(!1),[n,i]=S.useState(!1),{user:s,loading:o}=qn(),l=()=>{i(!0)},u=()=>{i(!1)},h=m=>{console.log("Selected demo date:",m),i(!1)};return o?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-emerald-500"})}):d.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950",children:[d.jsx(rC,{}),d.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 overflow-hidden pt-16",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-emerald-400/10 to-teal-400/10 dark:from-emerald-400/5 dark:to-teal-400/5 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-teal-400/10 to-blue-400/10 dark:from-teal-400/5 dark:to-blue-400/5 rounded-full blur-3xl"})]}),d.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-full text-sm font-semibold shadow-sm border border-emerald-200 dark:border-emerald-800",children:[d.jsx(So,{className:"w-4 h-4 mr-2"}),"Trusted by 500+ Healthcare Providers"]}),d.jsxs("h1",{className:"text-5xl lg:text-7xl font-black text-gray-900 dark:text-gray-100 leading-tight",children:["Healthcare",d.jsxs("span",{className:"gradient-accent bg-clip-text text-transparent",children:[" ","Management"]}),d.jsx("br",{}),"Made Simple"]}),d.jsx("p",{className:"text-xl lg:text-2xl text-gray-600 dark:text-gray-300 leading-relaxed font-medium max-w-2xl",children:"Streamline patient care with our comprehensive healthcare platform. Connect doctors, patients, and pharmacies in one secure ecosystem."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs(tt,{to:"/register",className:`gradient-accent text-white px-8 py-4 rounded-xl
                  flex items-center justify-center space-x-2 font-bold text-lg shadow-xl
                  transition-all duration-300`,children:[d.jsx("span",{children:"Start Free Trial"}),d.jsx(sd,{className:"h-5 w-5"})]}),d.jsxs("button",{onClick:()=>e(!0),className:`border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 px-8 py-4 rounded-xl
                  hover:border-emerald-500 dark:hover:border-emerald-400 hover:text-emerald-600 dark:hover:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20
                  flex items-center justify-center space-x-2 font-bold text-lg
                  transition-all duration-300`,children:[d.jsx(QT,{className:"h-5 w-5"}),d.jsx("span",{children:"Watch Demo"})]})]}),d.jsx("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-8 space-y-3 sm:space-y-0 text-base text-gray-600 dark:text-gray-400",children:[{icon:So,text:"HIPAA Compliant & Secure"},{icon:xr,text:"24/7 Support Available"}].map((m,p)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"h-6 w-6 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center",children:d.jsx(m.icon,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})}),d.jsx("span",{className:"font-medium",children:m.text})]},p))})]}),d.jsxs("div",{className:"relative",children:[s?d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-6 border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 gradient-accent rounded-lg flex items-center justify-center",children:d.jsx(fr,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["Welcome, ",s.name||s.email]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.role==="doctor"?"Doctor Dashboard":s.role==="patient"?"Patient Portal":"Pharmacy Dashboard"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Ed,{className:"h-6 w-6 text-gray-400 dark:text-gray-500"}),d.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Active Patients"}),d.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:"1,247"})]}),d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Today's Tasks"}),d.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:"12"})]}),d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Response Time"}),d.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:"2min"})]})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100 dark:border-gray-700",children:d.jsxs(tt,{to:`/${s.role}`,className:"w-full gradient-accent text-white py-3 px-4 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors duration-300",children:[d.jsx("span",{children:"Go to Dashboard"}),d.jsx(sd,{className:"h-5 w-5"})]})})]}):d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-6 border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 gradient-accent rounded-lg flex items-center justify-center",children:d.jsx(fr,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"CareSync Dashboard"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Dr. Sarah Johnson"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Ed,{className:"h-6 w-6 text-gray-400 dark:text-gray-500"}),d.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]})]}),d.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[{label:"Today's Appointments",value:"12",icon:Y9,color:"text-blue-600",bg:"bg-blue-50",darkBg:"dark:bg-blue-900/20"},{label:"Pending Reports",value:"5",icon:kd,color:"text-orange-600",bg:"bg-orange-50",darkBg:"dark:bg-orange-900/20"},{label:"Active Patients",value:"1,247",icon:Cs,color:"text-emerald-600",bg:"bg-emerald-50",darkBg:"dark:bg-emerald-900/20"},{label:"Urgent Cases",value:"3",icon:wV,color:"text-red-600",bg:"bg-red-50",darkBg:"dark:bg-red-900/20"}].map((m,p)=>d.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4 border border-gray-100 dark:border-gray-600",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-10 h-10 ${m.bg} ${m.darkBg} rounded-lg flex items-center justify-center`,children:d.jsx(m.icon,{className:`h-5 w-5 ${m.color}`})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:m.value}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 leading-tight",children:m.label})]})]})},p))}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Recent Activity"}),[{patient:"John Smith",action:"Prescription updated",time:"10 min ago",status:"completed"},{patient:"Maria Garcia",action:"Lab results available",time:"25 min ago",status:"new"},{patient:"Robert Chen",action:"Appointment scheduled",time:"1 hour ago",status:"scheduled"}].map((m,p)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-100 dark:border-gray-600",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 gradient-accent rounded-full flex items-center justify-center text-white text-sm font-bold",children:m.patient.split(" ").map(x=>x[0]).join("")}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:m.patient}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:m.action})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${m.status==="completed"?"bg-green-500":m.status==="new"?"bg-blue-500":"bg-yellow-500"}`}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:m.time})]})]},p))]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100 dark:border-gray-700",children:d.jsxs("button",{className:"w-full gradient-accent text-white py-3 px-4 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors duration-300",children:[d.jsx(BV,{className:"h-5 w-5"}),d.jsx("span",{children:"New Patient"})]})})]}),d.jsx("div",{className:"absolute -top-6 -left-6 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 p-4 rounded-2xl shadow-lg",children:d.jsx(fr,{className:"h-8 w-8"})}),d.jsx("div",{className:"absolute -bottom-6 -right-6 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 p-4 rounded-2xl shadow-lg",children:d.jsx(So,{className:"h-8 w-8"})}),d.jsx("div",{className:"absolute top-1/2 -right-8 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 p-3 rounded-xl shadow-lg",children:d.jsx(wN,{className:"h-6 w-6"})})]})]})})]}),d.jsx(UB,{}),d.jsx(DC,{}),d.jsx(ZB,{}),d.jsx(JB,{}),d.jsxs("section",{className:"py-24 bg-gradient-to-br from-emerald-500 via-teal-600 to-blue-600 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black/10"}),d.jsx("div",{className:"absolute inset-0 opacity-20",children:d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-y-12"})}),d.jsxs("div",{className:"relative max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[d.jsxs("h2",{className:"text-4xl lg:text-5xl font-black text-white mb-8",children:["Ready to Transform",d.jsx("br",{className:"hidden sm:block"}),"Your Healthcare Practice?"]}),d.jsx("p",{className:"text-xl lg:text-2xl text-white/90 mb-12 font-medium leading-relaxed max-w-3xl mx-auto",children:"Join over 500 healthcare providers who have transformed their patient care with CareSync's comprehensive platform"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-8",children:[d.jsx(tt,{to:"/register",className:"bg-white text-emerald-600 px-10 py-4 rounded-xl hover:bg-gray-50 transition-all duration-300 font-bold text-lg shadow-xl",children:"Start Free Trial Today"}),d.jsx("button",{onClick:l,className:"border-2 border-white text-white px-10 py-4 rounded-xl hover:bg-white hover:text-emerald-600 transition-all duration-300 font-bold text-lg backdrop-blur-sm",children:"Schedule Demo"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-8 text-white/80 font-medium",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx(sy,{className:"h-5 w-5 mr-2"}),"HIPAA Compliant"]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(sy,{className:"h-5 w-5 mr-2"}),"30-day free trial"]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(sy,{className:"h-5 w-5 mr-2"}),"24/7 support"]})]})]})]}),d.jsx(eF,{}),d.jsx(tF,{}),d.jsx(Ib,{}),t&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>e(!1),children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-4xl w-full transform transition-all duration-300",onClick:m=>m.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"CareSync Platform Demo"}),d.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 transition-colors",children:d.jsx(Jd,{className:"h-8 w-8"})})]}),d.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-700 rounded-xl flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(QT,{className:"h-16 w-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Healthcare platform demo video"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"See how CareSync transforms patient care"})]})})]})}),n&&d.jsx(Mz,{onClose:u,onSelectDate:h})]})},Pz=()=>{const[t,e]=S.useState({name:"",email:"",subject:"",message:"",userType:"patient"}),[n,i]=S.useState("idle"),[s,o]=S.useState(!1),l=m=>{const{name:p,value:x}=m.target;e(b=>({...b,[p]:x}))},u=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m),h=async m=>{if(m.preventDefault(),i("loading"),!t.name||!t.email||!t.subject||!t.message){i("error");return}if(!u(t.email)){i("error");return}try{await new Promise(p=>setTimeout(p,2e3)),i("success"),e({name:"",email:"",subject:"",message:"",userType:"patient"})}catch{i("error")}};return d.jsxs("div",{className:"min-h-screen bg-white",children:[d.jsxs("nav",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-lg border-b border-gray-200/50 z-50 shadow-sm",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs(tt,{to:"/",className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10 gradient-accent rounded-xl flex items-center justify-center shadow-lg",children:d.jsx(fr,{className:"h-6 w-6 text-white"})}),d.jsx("span",{className:"ml-3 text-2xl font-bold text-gray-900",children:"CareSync"})]}),d.jsx("div",{className:"hidden md:block",children:d.jsx("div",{className:"ml-10 flex items-center space-x-8",children:["Features","Pricing","Testimonials","Contact"].map(m=>m==="Contact"?d.jsxs("a",{href:"#contact-form",className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium relative group",children:[m,d.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 gradient-accent group-hover:w-full transition-all duration-300"})]},m):d.jsxs("a",{href:`/#${m.toLowerCase()}`,className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium relative group",children:[m,d.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 gradient-accent group-hover:w-full transition-all duration-300"})]},m))})}),d.jsx("div",{className:"md:hidden",children:d.jsx("button",{onClick:()=>o(!s),className:"text-gray-600 hover:text-gray-900 transition-colors",children:s?d.jsx(Jd,{className:"h-6 w-6"}):d.jsx(Zv,{className:"h-6 w-6"})})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx(tt,{to:"/login",className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium",children:"Sign In"}),d.jsx(tt,{to:"/register",className:"gradient-accent text-white px-6 py-2.5 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold transform hover:scale-105",children:"Get Started"})]})]})}),s&&d.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:d.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[["Features","Pricing","Testimonials","Contact"].map(m=>m==="Contact"?d.jsx("a",{href:"#contact-form",className:"block px-3 py-2 text-gray-600 hover:text-emerald-600 transition-colors",onClick:()=>o(!1),children:m},m):d.jsx("a",{href:`/#${m.toLowerCase()}`,className:"block px-3 py-2 text-gray-600 hover:text-emerald-600 transition-colors",onClick:()=>o(!1),children:m},m)),d.jsxs("div",{className:"flex flex-col space-y-2 mt-4 px-3",children:[d.jsx(tt,{to:"/login",className:"text-center py-2 text-gray-600 hover:text-emerald-600 transition-colors",children:"Sign In"}),d.jsx(tt,{to:"/register",className:"gradient-accent text-white px-4 py-2 rounded-lg text-center font-semibold",children:"Get Started"})]})]})})]}),d.jsxs("section",{className:"relative pt-24 pb-16 bg-gradient-to-br from-emerald-50 via-white to-teal-50 overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-emerald-400/20 to-teal-400/20 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-teal-400/20 to-blue-400/20 rounded-full blur-3xl animate-pulse"})]}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[d.jsx("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700 px-4 py-2 rounded-full text-sm font-semibold shadow-sm mb-8",children:" We're Here to Help"}),d.jsxs("h1",{className:"text-4xl lg:text-6xl font-black text-gray-900 leading-tight mb-6",children:["Get in Touch with",d.jsx("span",{className:"gradient-accent bg-clip-text text-transparent",children:" CareSync"})]}),d.jsx("p",{className:"text-xl lg:text-2xl text-gray-600 leading-relaxed font-medium max-w-3xl mx-auto mb-12",children:"Have questions about our healthcare platform? Need support or want to partner with us? We're here to help you transform healthcare delivery."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[{icon:kg,title:"General Inquiries",description:"Questions about our platform",action:"Send Message",href:"#contact-form"},{icon:Cs,title:"Sales & Partnerships",description:"Interested in working together",action:"Contact Sales",href:"#contact-form"},{icon:So,title:"Technical Support",description:"Need help with the platform",action:"Get Support",href:"#contact-form"}].map((m,p)=>d.jsxs("a",{href:m.href,className:"bg-white/80 backdrop-blur-sm border border-gray-200 rounded-2xl p-6 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[d.jsx("div",{className:"w-12 h-12 gradient-accent rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:d.jsx(m.icon,{className:"h-6 w-6 text-white"})}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:m.title}),d.jsx("p",{className:"text-gray-600 mb-4",children:m.description}),d.jsxs("span",{className:"inline-flex items-center text-emerald-600 font-semibold group-hover:text-emerald-700",children:[m.action,d.jsx(sd,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]})]},p))})]})]}),d.jsx("section",{id:"contact",className:"py-24 bg-white",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[d.jsxs("div",{className:"space-y-8",id:"contact-form",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-black text-gray-900 mb-4",children:"Send us a Message"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below and we'll get back to you within 24 hours."})]}),n==="success"&&d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center space-x-3",children:[d.jsx(Ag,{className:"h-6 w-6 text-green-600 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-green-800 font-semibold",children:"Message sent successfully!"}),d.jsx("p",{className:"text-green-700 text-sm",children:"We'll get back to you within 24 hours."})]})]}),n==="error"&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center space-x-3",children:[d.jsx(vV,{className:"h-6 w-6 text-red-600 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-red-800 font-semibold",children:"Please check your information"}),d.jsx("p",{className:"text-red-700 text-sm",children:"Make sure all fields are filled out correctly."})]})]}),d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),d.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:l,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter your full name"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),d.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:l,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter your email address"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"userType",className:"block text-sm font-semibold text-gray-700 mb-2",children:"I am a..."}),d.jsxs("select",{id:"userType",name:"userType",value:t.userType,onChange:l,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",children:[d.jsx("option",{value:"patient",children:"Patient"}),d.jsx("option",{value:"doctor",children:"Healthcare Provider"}),d.jsx("option",{value:"pharmacist",children:"Pharmacist"}),d.jsx("option",{value:"administrator",children:"Healthcare Administrator"}),d.jsx("option",{value:"partner",children:"Potential Partner"}),d.jsx("option",{value:"other",children:"Other"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"subject",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),d.jsx("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:l,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"What can we help you with?"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),d.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:l,required:!0,rows:6,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none",placeholder:"Tell us more about your inquiry..."})]}),d.jsx("button",{type:"submit",disabled:n==="loading",className:`w-full gradient-accent text-white px-8 py-4 rounded-xl 
                  hover:shadow-lg transition-all duration-300 font-bold text-lg transform hover:scale-105 
                  disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
                  flex items-center justify-center space-x-2`,children:n==="loading"?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"spinner"}),d.jsx("span",{children:"Sending..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Send Message"}),d.jsx(sd,{className:"h-5 w-5"})]})})]})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-black text-gray-900 mb-4",children:"Contact Information"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Reach out to us through any of these channels. We're always ready to help."})]}),d.jsx("div",{className:"space-y-6",children:[{icon:yV,title:"Email Us",content:"support@caresync.com",subContent:"We typically respond within 2-4 hours",action:"mailto:support@caresync.com"},{icon:VV,title:"Call Us",content:"+1 (555) 123-4567",subContent:"Mon-Fri 8:00 AM - 8:00 PM PST",action:"tel:+15551234567"},{icon:MV,title:"Visit Us",content:"123 Healthcare Blvd, Suite 500",subContent:"San Francisco, CA 94105",action:"https://maps.google.com"},{icon:xr,title:"Business Hours",content:"Monday - Friday: 8:00 AM - 8:00 PM",subContent:"Saturday: 9:00 AM - 5:00 PM PST",action:null}].map((m,p)=>d.jsx("div",{className:"bg-gray-50 rounded-2xl p-6 hover:bg-gray-100 transition-colors",children:d.jsxs("div",{className:"flex items-start space-x-4",children:[d.jsx("div",{className:"w-12 h-12 gradient-accent rounded-xl flex items-center justify-center flex-shrink-0",children:d.jsx(m.icon,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:m.title}),m.action?d.jsx("a",{href:m.action,className:"text-emerald-600 font-semibold hover:text-emerald-700 transition-colors",children:m.content}):d.jsx("p",{className:"text-gray-900 font-semibold",children:m.content}),d.jsx("p",{className:"text-gray-600 text-sm mt-1",children:m.subContent})]})]})},p))}),d.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-2xl p-6 border border-emerald-100",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Additional Resources"}),d.jsx("div",{className:"space-y-3",children:[{label:"Help Center & Documentation",href:"#"},{label:"API Documentation",href:"#"},{label:"System Status",href:"#"},{label:"Privacy Policy",href:"#"},{label:"Terms of Service",href:"#"}].map((m,p)=>d.jsxs("a",{href:m.href,className:"flex items-center text-emerald-700 hover:text-emerald-800 transition-colors",children:[d.jsx(sd,{className:"h-4 w-4 mr-2"}),m.label]},p))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Connect With Us"}),d.jsx("div",{className:"flex space-x-4",children:[{platform:"LinkedIn",href:"https://www.linkedin.com/in/akathedeveloper/"},{platform:"GitHub",href:"https://github.com/akathedeveloper/CareSync/"}].map((m,p)=>d.jsx("a",{href:m.href,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 hover:bg-emerald-100 text-gray-600 hover:text-emerald-600 p-3 rounded-xl transition-all duration-300 font-semibold",children:m.platform},p))})]})]})]})})}),d.jsxs("section",{className:"py-24 bg-gradient-to-br from-emerald-500 via-teal-600 to-blue-600 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black/10"}),d.jsxs("div",{className:"relative max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[d.jsx("h2",{className:"text-4xl lg:text-5xl font-black text-white mb-8",children:"Ready to Get Started?"}),d.jsx("p",{className:"text-xl lg:text-2xl text-white/90 mb-12 font-medium leading-relaxed max-w-3xl mx-auto",children:"Join thousands of healthcare providers who trust CareSync to transform their patient care"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[d.jsx(tt,{to:"/register",className:"bg-white text-emerald-600 px-10 py-4 rounded-xl hover:bg-gray-50 transition-all duration-300 font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105",children:"Start Free Trial"}),d.jsx("a",{href:"#contact-form",className:"border-2 border-white text-white px-10 py-4 rounded-xl hover:bg-white hover:text-emerald-600 transition-all duration-300 font-bold text-lg backdrop-blur-sm transform hover:scale-105",children:"Contact Sales"})]})]})]})]})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),CE=t=>{const e=Lz(t);return e.charAt(0).toUpperCase()+e.slice(1)},MC=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Uz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...u},h)=>S.createElement("svg",{ref:h,...Bz,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:MC("lucide",s),...!o&&!Uz(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,p])=>S.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=(t,e)=>{const n=S.forwardRef(({className:i,...s},o)=>S.createElement(Fz,{ref:o,iconNode:e,className:MC(`lucide-${Vz(CE(t))}`,`lucide-${t}`,i),...s}));return n.displayName=CE(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Hz=Yi("award",zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$z=Yi("bell",qz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Wz=Yi("building",Gz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Kz=Yi("check-check",Yz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],Qz=Yi("git-branch",Xz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Jz=Yi("graduation-cap",Zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tH=Yi("mail",eH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],iH=Yi("map-pin",nH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rH=Yi("phone",sH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],qf=Yi("shield",aH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sy=Yi("user",oH),lH=()=>{const[t,e]=S.useState([]),[n,i]=S.useState(!0),[s,o]=S.useState(null),[l,u]=S.useState(!1),h="akathedeveloper",m="CareSync",p=async()=>{try{const x=`https://api.github.com/repos/${h}/${m}`,b=await fetch(x),_=await b.json();if(!b.ok)throw new Error(`GitHub API Error: ${_.message}`);const A=await fetch(`${x}/contributors?per_page=1&anon=true`);let R=0;if(A.ok){const F=A.headers.get("Link");if(F){const G=F.match(/page=(\d+)>; rel="last"/);R=G?parseInt(G[1]):1}else R=(await A.json()).length}const C=await fetch(`${x}/pulls?state=all&per_page=1`);let L=0;if(C.ok){const F=C.headers.get("Link");if(F){const G=F.match(/page=(\d+)>; rel="last"/);L=G?parseInt(G[1]):0}else L=(await C.json()).length}const U=[{label:"GitHub Stars",value:_.stargazers_count||0,suffix:"+",icon:ZT},{label:"Contributors",value:R,suffix:"+",icon:Cs},{label:"Open Issues",value:_.open_issues_count||0,suffix:"",icon:Qz},{label:"Pull Requests",value:L,suffix:"+",icon:Ym}];e(U),i(!1)}catch(x){console.error("Error fetching GitHub stats:",x),o(x.message),i(!1),e([{label:"GitHub Stars",value:26,suffix:"+",icon:ZT},{label:"Contributors",value:35,suffix:"+",icon:Cs},{label:"Open Issues",value:31,suffix:"",icon:GitBranchIcon},{label:"Pull Requests",value:63,suffix:"+",icon:Ym}])}};return S.useEffect(()=>{p();const x=setInterval(p,3e5);return()=>clearInterval(x)},[]),S.useEffect(()=>{const x=()=>{const b=document.getElementById("github-stats");b&&b.getBoundingClientRect().top<window.innerHeight-100&&(u(!0),window.removeEventListener("scroll",x))};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]),n?d.jsx("div",{className:"py-20 bg-white dark:bg-gray-950",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Open Source Impact"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Loading real-time GitHub statistics..."})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:[1,2,3,4].map(x=>d.jsx("div",{className:"text-center",children:d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-2xl p-8 animate-pulse",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-2xl mx-auto mb-6"}),d.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded mb-3"}),d.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded"})]})},x))})]})}):d.jsx("section",{id:"github-stats",className:"py-20 bg-white dark:bg-gray-950",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Open Source Impact"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300",children:"Real-time statistics from our GitHub repository"}),s&&d.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 mt-2",children:" Using cached data due to API limitations"})]}),d.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((x,b)=>d.jsx("div",{className:"text-center group",children:d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-2xl p-8 hover:shadow-xl transition-all duration-300 group-hover:bg-gradient-to-br group-hover:from-emerald-50 group-hover:to-teal-50 dark:group-hover:from-emerald-900/20 dark:group-hover:to-teal-900/20",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:d.jsx(x.icon,{className:"h-8 w-8 text-white"})})}),d.jsx("div",{className:"text-4xl lg:text-5xl font-black text-gray-900 dark:text-gray-100 mb-3",children:l&&d.jsx(EN,{start:0,end:x.value,duration:2.5,separator:",",suffix:x.suffix})}),d.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-medium text-lg",children:x.label})]})},b))}),d.jsxs("div",{className:"text-center mt-12",children:[d.jsxs("a",{href:`https://github.com/${h}/${m}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-emerald-600 dark:text-emerald-400 font-semibold hover:text-emerald-700 dark:hover:text-emerald-300 transition-colors",children:["View Live Stats on GitHub",d.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),d.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Last updated: ",new Date().toLocaleString()]})]})]})})},cH=()=>{const[t,e]=S.useState(0),{isDark:n,toggleTheme:i}=Bo(),[s,o]=S.useState(!1);S.useEffect(()=>{s?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")},[s]);const l=[{icon:fr,title:"Open Source First",description:"Built by the community, for the community. Every line of code is transparent and accessible.",color:"from-red-500 to-pink-500"},{icon:So,title:"Security & Privacy",description:"Healthcare data security is paramount. HIPAA compliant with robust encryption and privacy controls.",color:"from-emerald-500 to-teal-500"},{icon:KT,title:"Innovation",description:"Leveraging cutting-edge technology to solve real healthcare challenges through collaborative development.",color:"from-yellow-500 to-orange-500"},{icon:Cs,title:"Community Driven",description:"Powered by GSSoC'25 participants and healthcare professionals working together.",color:"from-blue-500 to-indigo-500"}],u=[{name:"Adhiraj (Admin)",role:"Project Maintainer",image:"",bio:"Leading the CareSync open source initiative under GSSoC'25",specialties:["Open Source","Healthcare Tech","Community Building"]},{name:"Core Contributors",role:"Development Team",image:"",bio:"Passionate developers contributing to healthcare innovation",specialties:["React","Node.js","Healthcare APIs"]},{name:"GSSoC Participants",role:"Student Developers",image:"",bio:"Students from around the globe contributing during GSSoC'25",specialties:["Full Stack","UI/UX","Testing"]},{name:"Healthcare Advisors",role:"Domain Experts",image:"",bio:"Medical professionals guiding feature development",specialties:["Clinical Workflow","Healthcare Standards","User Experience"]}],h=[{year:"2024",title:"Project Inception",description:"CareSync started as an open source healthcare management solution"},{year:"2025",title:"GSSoC Selection",description:"Selected as an official GSSoC'25 project for student contributions"},{year:"2025",title:"First 35 Contributors",description:"Growing community of developers and healthcare enthusiasts"},{year:"2025",title:"Beta Release",description:"Launch of beta version with core healthcare management features"},{year:"2025",title:"Community Growth",description:"Expanding contributor base and feature set through open collaboration"}],m={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,duration:.6}}},p={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},x={scale:1.05,y:-5,transition:{duration:.3,ease:"easeOut"}};return d.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100",children:[d.jsxs("nav",{className:"fixed top-0 w-full bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-800/50 z-50 shadow-sm",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs(tt,{to:"/",className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10",children:d.jsx("img",{src:"/CareSync-Logo.png",alt:"CareSync Logo",className:"w-full h-full"})}),d.jsx("span",{className:"ml-3 font-bold text-emerald-600 dark:text-emerald-400",style:{fontSize:"1.375rem"},children:"CareSync"})]}),d.jsx("div",{className:"hidden md:block",children:d.jsx("div",{className:"ml-10 flex items-center space-x-8",children:["Home","Features","Pricing","Testimonials","Contact"].map(b=>d.jsx(tt,{to:b==="Home"?"/":`/#${b.toLowerCase()}`,className:`flex gap-2 items-center text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium relative group
              after:content-[''] after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-full after:bg-emerald-600 after:scale-x-0 after:origin-center after:transition-transform after:duration-300
              hover:after:scale-x-100`,children:b},b))})}),d.jsx("div",{className:"md:hidden",children:d.jsx("button",{onClick:()=>o(!s),className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:d.jsx(Zv,{className:"h-6 w-6"})})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx("button",{onClick:i,className:"p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:n?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",children:n?d.jsx(Nd,{className:"h-5 w-5"}):d.jsx(Ad,{className:"h-5 w-5"})}),d.jsx(tt,{to:"/login",className:"text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium",children:"Sign In"}),d.jsx(tt,{to:"/register",className:"gradient-accent text-white px-6 py-2.5 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold",children:"Get Started"})]})]})}),s&&d.jsx("div",{className:"relative md:hidden",children:d.jsxs("div",{className:"absolute right-0 w-52 h-dvh pt-10 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800",children:[["Home","Features","Pricing","Testimonials","Contact"].map(b=>d.jsx(tt,{to:b==="Home"?"/":`/#${b.toLowerCase()}`,className:`block text-center py-3 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium relative group
              after:content-[''] after:absolute after:left-0 after:bottom-1 after:h-[2px] after:w-full after:bg-emerald-600 after:scale-x-0 after:origin-center after:transition-transform after:duration-300
              hover:after:scale-x-100`,onClick:()=>o(!1),children:b},b)),d.jsxs("div",{className:"flex flex-col space-y-2 mt-20 px-3",children:[d.jsxs("button",{onClick:i,className:"text-center py-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors flex items-center justify-center gap-2",children:[n?d.jsx(Nd,{className:"h-5 w-5"}):d.jsx(Ad,{className:"h-5 w-5"}),n?"Light Mode":"Dark Mode"]}),d.jsx(tt,{to:"/login",className:"text-center py-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Sign In"}),d.jsx(tt,{to:"/register",className:"gradient-accent text-white px-4 py-2 rounded-lg text-center font-semibold",children:"Get Started"})]})]})})]}),d.jsxs("section",{className:"relative py-24 bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 overflow-hidden pt-20",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx(J.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-emerald-400/20 to-teal-400/20 dark:from-emerald-400/10 dark:to-teal-400/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"}}),d.jsx(J.div,{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-teal-400/20 to-blue-400/20 dark:from-teal-400/10 dark:to-blue-400/10 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"}})]}),d.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs(J.div,{initial:"hidden",animate:"visible",variants:m,className:"text-center",children:[d.jsx(J.div,{variants:p,className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 text-emerald-700 dark:text-emerald-300 px-6 py-3 rounded-full text-sm font-semibold shadow-sm mb-8",children:" Open Source Healthcare  GSSoC'25 Project"}),d.jsxs(J.h1,{variants:p,className:"text-5xl lg:text-7xl font-black text-gray-900 dark:text-gray-100 leading-tight mb-8",children:["About",d.jsxs("span",{className:"bg-gradient-to-r from-emerald-600 via-teal-600 to-blue-600 bg-clip-text text-transparent",children:[" ","CareSync"]})]}),d.jsx(J.p,{variants:p,className:"text-xl lg:text-2xl text-gray-600 dark:text-gray-300 leading-relaxed max-w-4xl mx-auto mb-12 font-medium",children:"An open source healthcare management platform built collaboratively by developers worldwide through GSSoC'25, connecting patients, doctors, and pharmacies with transparent, secure technology."}),d.jsx(J.div,{variants:p,className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-8 text-base text-gray-600 dark:text-gray-400",children:["Open Source Community","GSSoC'25 Project","MIT Licensed"].map((b,_)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ag,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),d.jsx("span",{className:"font-medium",children:b})]},_))}),d.jsxs(J.div,{variants:p,className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[d.jsxs(J.a,{href:"https://github.com/akathedeveloper/CareSync",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-gray-900 dark:bg-white text-white dark:text-gray-900 px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"})}),"View on GitHub"]}),d.jsxs(J.Link,{to:"/register",className:"inline-flex items-center gradient-accent text-white px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(U9,{className:"w-5 h-5 mr-2"}),"Try Beta Version"]})]})]})})]}),d.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[d.jsx(J.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl flex items-center justify-center mb-6",children:d.jsx(fr,{className:"h-8 w-8 text-white"})}),d.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Mission"}),d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:"To democratize healthcare technology through open source collaboration, creating accessible tools that empower healthcare providers and improve patient outcomes worldwide."})]})}),d.jsx(J.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center mb-6",children:d.jsx(KT,{className:"h-8 w-8 text-white"})}),d.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Vision"}),d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:"A world where healthcare technology is transparent, collaborative, and accessible to all, built by a global community of developers and healthcare professionals working together."})]})})]})})}),d.jsx(lH,{}),d.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(J.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:m,className:"text-center mb-16",children:[d.jsx(J.h2,{variants:p,className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Core Values"}),d.jsx(J.p,{variants:p,className:"text-xl text-gray-600 dark:text-gray-300",children:"The principles that drive our open source healthcare initiative"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:l.map((b,_)=>d.jsx(J.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:_*.1},whileHover:x,viewport:{once:!0},className:"relative group cursor-pointer",onMouseEnter:()=>e(_),children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 h-full shadow-lg hover:shadow-2xl transition-all duration-300 border-2 border-transparent hover:border-emerald-200 dark:hover:border-emerald-800",children:[d.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${b.color} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:d.jsx(b.icon,{className:"h-8 w-8 text-white"})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:b.title}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:b.description})]})},_))})]})}),d.jsx("section",{className:"py-20 bg-white dark:bg-gray-950",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(J.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:m,className:"text-center mb-16",children:[d.jsx(J.h2,{variants:p,className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Community"}),d.jsx(J.p,{variants:p,className:"text-xl text-gray-600 dark:text-gray-300",children:"Meet the passionate individuals building CareSync together"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:u.map((b,_)=>d.jsx(J.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:_*.1},whileHover:x,viewport:{once:!0},className:"group",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 text-center h-full",children:[d.jsx("div",{className:"text-6xl mb-6 group-hover:scale-110 transition-transform duration-300",children:b.image}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:b.name}),d.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 font-semibold mb-4",children:b.role}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 leading-relaxed",children:b.bio}),d.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:b.specialties.map((A,R)=>d.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-3 py-1 rounded-full text-xs font-medium",children:A},R))})]})},_))}),d.jsx(J.div,{className:"text-center mt-12",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},children:d.jsxs(J.a,{href:"https://github.com/akathedeveloper/CareSync/graphs/contributors",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gradient-accent text-white px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(SN,{className:"w-5 h-5 mr-2"}),"View All Contributors"]})})]})}),d.jsx("section",{className:"py-20 bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(J.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:m,className:"text-center mb-16",children:[d.jsx(J.h2,{variants:p,className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Project Timeline"}),d.jsx(J.p,{variants:p,className:"text-xl text-gray-600 dark:text-gray-300",children:"Key milestones in our open source journey"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),d.jsx("div",{className:"space-y-12",children:h.map((b,_)=>d.jsxs(J.div,{initial:{opacity:0,x:_%2===0?-50:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:_*.2},viewport:{once:!0},className:`relative flex items-center ${_%2===0?"justify-start":"justify-end"}`,children:[d.jsx("div",{className:`w-full lg:w-5/12 ${_%2===0?"lg:pr-16":"lg:pl-16"}`,children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center mr-4",children:d.jsx("span",{className:"text-white font-bold text-sm",children:b.year})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:b.title})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:b.description})]})}),d.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-6 h-6 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full border-4 border-white dark:border-gray-950 shadow-lg"})]},_))})]})]})}),d.jsxs("section",{className:"py-20 bg-gradient-to-br from-emerald-500 via-teal-600 to-blue-600 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black/10"}),d.jsx(J.div,{className:"absolute inset-0 opacity-20",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},children:d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-y-12"})}),d.jsx("div",{className:"relative max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:d.jsxs(J.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:m,children:[d.jsx(J.h2,{variants:p,className:"text-4xl lg:text-5xl font-black text-white mb-8",children:"Ready to Contribute to Open Source Healthcare?"}),d.jsx(J.p,{variants:p,className:"text-xl lg:text-2xl text-white/90 mb-12 font-medium leading-relaxed max-w-3xl mx-auto",children:"Join our growing community of developers, designers, and healthcare professionals building the future of healthcare technology together."}),d.jsxs(J.div,{variants:p,className:"flex flex-col sm:flex-row gap-6 justify-center mb-8",children:[d.jsx(J.a,{href:"https://github.com/akathedeveloper/CareSync",target:"_blank",rel:"noopener noreferrer",className:"bg-white text-emerald-600 px-10 py-4 rounded-xl hover:bg-gray-50 transition-all duration-300 font-bold text-lg shadow-xl hover:shadow-2xl",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Start Contributing"}),d.jsx(J.Link,{to:"/register",className:"border-2 border-white text-white px-10 py-4 rounded-xl hover:bg-white hover:text-emerald-600 transition-all duration-300 font-bold text-lg backdrop-blur-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Try CareSync"})]}),d.jsxs(J.div,{variants:p,className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-12 text-white/80 font-medium",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ym,{className:"h-5 w-5"}),d.jsx("span",{children:"MIT Licensed"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Cs,{className:"h-5 w-5"}),d.jsx("span",{children:"GSSoC'25 Project"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(fr,{className:"h-5 w-5"}),d.jsx("span",{children:"Community Driven"})]})]})]})})]}),d.jsx(Ib,{})]})};function uH({apiBase:t="/api/notifications"}){const[e,n]=S.useState(!1),[i,s]=S.useState([]),[o,l]=S.useState(!1),u=S.useRef(null),h=i.filter(b=>!b.read).length;S.useEffect(()=>{const b=_=>{u.current&&!u.current.contains(_.target)&&n(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const m=async()=>{try{l(!0);const _=await(await fetch(`${t}/me`,{credentials:"include"})).json();s(_)}finally{l(!1)}};S.useEffect(()=>{m()},[]);const p=async b=>{await fetch(`${t}/${b}/read`,{method:"PUT",credentials:"include"}),s(_=>_.map(A=>A._id===b?{...A,read:!0}:A))},x=async()=>{await fetch(`${t}/read-all`,{method:"PUT",credentials:"include"}),s(b=>b.map(_=>({..._,read:!0})))};return d.jsxs("div",{className:"relative",ref:u,children:[d.jsxs("button",{onClick:()=>n(b=>!b),className:"relative p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700","aria-label":"Notifications",children:[d.jsx($z,{className:"w-6 h-6 text-gray-700 dark:text-gray-200"}),h>0&&d.jsx("span",{className:`absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 
                           bg-red-500 text-white text-[10px] leading-[18px] 
                           font-bold rounded-full text-center`,children:h})]}),d.jsx(ys,{children:e&&d.jsxs(J.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.18},className:`absolute right-0 mt-2 w-96 max-w-[92vw] z-50
                       bg-white dark:bg-gray-800 rounded-2xl shadow-xl
                       border border-gray-200 dark:border-gray-700`,children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:"Notifications"}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:x,className:`text-xs inline-flex items-center gap-1 px-2 py-1 rounded-lg
                             bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600
                             text-gray-700 dark:text-gray-200`,children:[d.jsx(Kz,{className:"w-4 h-4"})," Mark all read"]})})]}),d.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[o&&d.jsx("div",{className:"p-4 text-sm text-gray-500",children:"Loading"}),!o&&i.length===0&&d.jsx("div",{className:"p-4 text-sm text-gray-500",children:"No notifications"}),i.map(b=>d.jsxs("button",{onClick:async()=>{b.read||await p(b._id)},className:`w-full text-left px-4 py-3 border-b 
                             border-gray-100 dark:border-gray-700 hover:bg-gray-50
                             dark:hover:bg-gray-700 transition
                             ${b.read?"":"bg-blue-50/40 dark:bg-blue-900/20"}`,children:[d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-100",children:b.message}),d.jsx("div",{className:"shrink-0 text-[11px] text-gray-500",children:new Date(b.createdAt).toLocaleString()})]}),!b.read&&d.jsx("span",{className:"mt-1 inline-block text-[10px] text-blue-600 dark:text-blue-400",children:"Unread"})]},b._id))]}),d.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 text-center",children:d.jsx(tt,{to:"/notifications",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View all notifications"})})]})})]})}const dH=()=>{const{user:t,logout:e}=qn(),{isDark:n,toggleTheme:i}=Bo(),s=cg(),o=async()=>{try{await e(),s("/login")}catch(h){console.error("Logout failed:",h),s("/login")}},l=h=>{switch(h){case"patient":return" Patient";case"doctor":return" Doctor";case"pharmacist":return" Pharmacist";default:return h}},u=t?.name||t?.displayName||t?.email||"User";return d.jsx("header",{className:"bg-surface border-subtle border-b shadow-sm",children:d.jsx("div",{className:"px-6 py-2",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>s("/"),children:[d.jsx("h1",{className:"text-2xl font-bold text-primary",children:"CareSync"}),d.jsx("span",{className:"ml-2 px-2 py-1 bg-primary-100/80 text-primary-800 text-xs rounded-full dark:bg-primary-900/30 dark:text-primary-200",children:"Beta"})]}),d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[d.jsx("button",{onClick:i,className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",title:n?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",children:n?d.jsx(Nd,{className:"h-6 w-6"}):d.jsx(Ad,{className:"h-6 w-6"})}),d.jsx(uH,{}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(tt,{to:"/dashboard/profile",className:"flex items-center space-x-2 hover:bg-gray-100 rounded-md p-2 dark:hover:bg-gray-800",children:[d.jsx(XV,{className:"h-8 w-8 text-gray-600 dark:text-gray-300"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:u}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:l(t?.role)})]})]}),d.jsx("button",{onClick:o,className:"ml-2 p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors dark:text-gray-300 dark:hover:text-red-400 dark:hover:bg-red-950/30",title:"Logout",children:d.jsx(O9,{className:"h-5 w-5"})})]})]})]})})})},hH=[{name:"Dashboard",href:"/patient",icon:Zd},{name:"Appointments",href:"/patient/appointments",icon:hc},{name:"Prescriptions",href:"/patient/prescriptions",icon:hc},{name:"Health Logs",href:"/patient/health-logs",icon:Cs},{name:"Notifications",href:"/notifications",icon:Ed},{name:"Messages",href:"/patient/messages",icon:kg},{name:"Settings",href:"/patient/settings",icon:Jv}],fH=[{name:"Dashboard",href:"/doctor",icon:Zd},{name:"Schedule",href:"/doctor/schedule",icon:hc},{name:"Patients",href:"/doctor/patients",icon:Cs},{name:"Notifications",href:"/notifications",icon:Ed},{name:"Messages",href:"/doctor/messages",icon:kg},{name:"Settings",href:"/doctor/settings",icon:Jv}],mH=[{name:"Dashboard",href:"/pharmacist",icon:Zd},{name:"Prescriptions",href:"/pharmacist/prescriptions",icon:hc},{name:"Inventory",href:"/pharmacist/inventory",icon:Cs},{name:"Notifications",href:"/notifications",icon:Ed},{name:"Messages",href:"/pharmacist/messages",icon:kg},{name:"Settings",href:"/pharmacist/settings",icon:Jv}];function gH(){const t=Qk(),{user:e}=qn(),[n,i]=jo.useState(!1),s=e?.role==="doctor"?fH:e?.role==="pharmacist"?mH:hH;jo.useEffect(()=>{i(!1)},[t.pathname]);const o="w-64",u=(()=>{switch(e?.role){case"patient":return{title:"Patient Panel",subtitle:"Your Health Hub"};case"doctor":return{title:"Doctor Panel",subtitle:"Your Practice Hub"};case"pharmacist":return{title:"Pharmacist Panel",subtitle:"Your Pharmacy Hub"};default:return{title:"CareSync",subtitle:"Integrated Health"}}})();return d.jsxs(d.Fragment,{children:[d.jsx("button",{"aria-label":"Open Sidebar",className:"fixed z-40 left-0 top-1/2 -translate-y-1/2 bg-primary-600 text-white rounded-r-full shadow-md p-2 focus:outline-none focus:ring-2 focus:ring-primary-400 transition hover:bg-primary-700 lg:hidden",onClick:()=>i(!0),tabIndex:n?-1:0,children:d.jsx(iV,{className:"h-6 w-6"})}),n&&d.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 lg:hidden",onClick:()=>i(!1),"aria-label":"Sidebar overlay"}),d.jsxs("aside",{className:`fixed top-0 left-0 min-h-screen ${o} bg-gradient-to-b from-primary-50/90 via-white to-medical-50/90 shadow-xl border-r border-subtle flex flex-col z-50 transition-transform duration-200 ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static lg:h-auto dark:from-gray-950 dark:via-gray-900/95 dark:to-gray-950`,children:[d.jsxs("div",{className:"flex items-center gap-3 px-6 h-20 border-b border-subtle bg-surface/90 backdrop-blur",children:[d.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-primary-100/90 shadow-inner dark:bg-primary-900/30",children:d.jsx("span",{className:"text-primary text-2xl font-bold",children:""})}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-lg font-bold text-primary-700 tracking-wide dark:text-primary-300",children:u.title}),d.jsx("span",{className:"block text-xs text-gray-400 dark:text-gray-500",children:u.subtitle})]}),d.jsx("div",{className:"ml-auto lg:hidden",children:d.jsx("button",{"aria-label":"Close Sidebar",className:"p-1",onClick:()=>i(!1),children:d.jsx(Jd,{className:"h-7 w-7 text-gray-500 dark:text-gray-300"})})})]}),d.jsx("nav",{className:"flex-1 mt-4 px-2 lg:px-4",children:d.jsx("ul",{className:"space-y-1",children:s.map(h=>{const m=t.pathname===h.href;return d.jsx("li",{children:d.jsxs(tt,{to:h.href,className:`flex items-center px-4 py-2 text-base rounded-lg transition-colors group ${m?"bg-primary-100 text-primary-700 font-semibold shadow-inner dark:bg-primary-900/20 dark:text-primary-200":"text-gray-700 hover:bg-primary-50 hover:text-primary-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-primary-200"}`,children:[d.jsx(h.icon,{className:`mr-3 h-6 w-6 ${m?"text-primary-500 dark:text-primary-300":"text-gray-400 group-hover:text-primary-400 dark:text-gray-500 dark:group-hover:text-primary-300"}`}),d.jsx("span",{className:"truncate",children:h.name})]})},h.name)})})}),d.jsxs("div",{className:"mt-auto mb-6 mx-4 p-4 bg-medical-50 rounded-xl shadow-sm hidden md:block dark:bg-gray-900 dark:border dark:border-gray-800",children:[d.jsx("h3",{className:"text-sm font-medium text-primary-700 mb-2 tracking-wide dark:text-primary-300",children:"Quick Stats"}),d.jsxs("div",{className:"text-xs text-gray-600 space-y-1 font-mono dark:text-gray-400",children:[d.jsx("p",{children:" 3 pending reminders"}),d.jsx("p",{children:" 1 new prescription"}),d.jsx("p",{children:" Next appointment: Tomorrow"})]})]}),d.jsx("div",{className:"hidden lg:block mt-auto px-6 pb-6",children:d.jsx("div",{className:"h-2 w-full rounded-xl bg-gradient-to-r from-primary-200 via-medical-200 to-primary-100 opacity-70 dark:from-primary-900 dark:via-medical-900 dark:to-primary-900"})})]})]})}const $f=()=>d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[d.jsx(dH,{}),d.jsxs("div",{className:"flex",children:[d.jsx(gH,{}),d.jsx("main",{className:"flex-1 p-6 bg-white dark:bg-gray-900",children:d.jsx(Zk,{})})]})]}),jc=({size:t="md",color:e="primary"})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},i={primary:"text-primary-600",white:"text-white",gray:"text-gray-600"};return d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("div",{className:`${n[t]} ${i[e]} animate-spin rounded-full border-2 border-current border-r-transparent`,role:"status","aria-label":"Loading",children:d.jsx("span",{className:"sr-only",children:"Loading..."})})})},pH=()=>{const{login:t,loginWithGoogle:e}=qn(),n=cg(),[i,s]=S.useState(!1),[o,l]=S.useState(!1),[u,h]=S.useState(""),[m,p]=S.useState({email:"",password:"",role:"patient"}),x=U=>{p({...m,[U.target.name]:U.target.value}),u&&h("")},b=async U=>{U.preventDefault(),l(!0),h("");try{const F=await t(m.email,m.password,m.role);F.success&&n(`/${F.user.role}`)}catch(F){h(F.message||"An error occurred during login")}finally{l(!1)}},_=U=>{let F;U==="patient"&&(F=Gm[0]),U==="doctor"&&(F=Sd[0]),U==="pharmacist"&&(F=Wm[0]),F&&p({email:F.email,password:F.password,role:F.role})},A={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94],staggerChildren:.1}}},R={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},C={animate:{y:[0,-10,0],transition:{duration:3,repeat:1/0,ease:"easeInOut"}}},L={animate:{scale:[1,1.05,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx(J.div,{className:"absolute top-10 left-10 w-20 h-20 bg-emerald-200 rounded-full opacity-20",variants:L,animate:"animate"}),d.jsx(J.div,{className:"absolute top-32 right-20 w-16 h-16 bg-teal-200 rounded-full opacity-20",variants:C,animate:"animate",style:{animationDelay:"0.5s"}}),d.jsx(J.div,{className:"absolute bottom-20 left-1/4 w-12 h-12 bg-cyan-200 rounded-full opacity-20",variants:L,animate:"animate",style:{animationDelay:"1s"}}),d.jsx(J.div,{className:"absolute bottom-32 right-10 w-24 h-24 bg-emerald-200 rounded-full opacity-20",variants:C,animate:"animate",style:{animationDelay:"1.5s"}}),d.jsx(J.div,{className:"absolute top-6 left-6 z-20",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.2},children:d.jsxs(tt,{to:"/",className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/50 text-emerald-600 hover:text-emerald-700 hover:bg-white transition-all duration-300 group",children:[d.jsx(J.div,{whileHover:{x:-2},transition:{type:"spring",stiffness:300},children:d.jsx(Zd,{className:"w-5 h-5"})}),d.jsx("span",{className:"font-medium text-sm",children:"Home"})]})}),d.jsxs(J.div,{className:"max-w-lg w-full space-y-8 bg-white/80 backdrop-blur-sm p-10 rounded-2xl shadow-2xl border border-white/50 relative z-10",variants:A,initial:"hidden",animate:"visible",whileHover:{y:-5},transition:{type:"spring",stiffness:300},children:[d.jsxs(J.div,{className:"text-center",variants:R,children:[d.jsx(J.div,{className:"flex justify-center mb-6",whileHover:{rotate:360},transition:{duration:.6},children:d.jsx("div",{className:"w-16 h-16 gradient-accent rounded-2xl flex items-center justify-center shadow-lg transform rotate-3 hover:rotate-0 transition-transform duration-300",children:d.jsx(J.svg,{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),d.jsx(J.h1,{className:"text-5xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent mb-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},children:"CareSync"}),d.jsx(J.h2,{className:"text-2xl font-bold text-gray-800 mb-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"Welcome Back"}),d.jsx(J.p,{className:"text-gray-600 text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:"Sign in to continue your healthcare journey"}),d.jsxs(J.p,{className:"mt-2 text-center text-sm text-gray-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:["Don't have an account?"," ",d.jsx(tt,{to:"/register",className:"font-semibold text-emerald-600 hover:text-emerald-500 transition-colors duration-200 underline decoration-2 underline-offset-2 hover:decoration-emerald-500",children:"Create one here"})]})]}),d.jsxs(J.div,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border-l-4 border-emerald-400 p-5 rounded-xl shadow-sm",variants:R,children:[d.jsxs(J.div,{className:"flex items-center mb-3",initial:{x:-20},animate:{x:0},transition:{delay:.8},children:[d.jsx("div",{className:"w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center mr-2",children:d.jsx(J.svg,{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",initial:{scale:0},animate:{scale:1},transition:{delay:.9,type:"spring"},children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),d.jsx("h3",{className:"text-sm font-bold text-emerald-800",children:"Quick Demo Access"})]}),d.jsxs("div",{className:"space-y-3 text-xs",children:[["patient","doctor","pharmacist"].map((U,F)=>{const G=U==="patient"?Gm[0]:U==="doctor"?Sd[0]:Wm[0],Q={patient:"from-blue-400 to-blue-500",doctor:"from-green-400 to-green-500",pharmacist:"from-purple-400 to-purple-500"},te={patient:"",doctor:"",pharmacist:""},V={patient:"Patient Portal",doctor:"Doctor Dashboard",pharmacist:"Pharmacy System"};return d.jsxs(J.button,{type:"button",onClick:()=>_(U),className:"w-full flex items-center gap-3 p-3 bg-white/70 hover:bg-white hover:shadow-md rounded-lg transition-all duration-200 text-emerald-700 hover:text-emerald-800 border border-emerald-100",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1+F*.1},whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(J.div,{className:`w-8 h-8 bg-gradient-to-br ${Q[U]} rounded-full flex items-center justify-center text-white text-sm`,whileHover:{rotate:360},transition:{duration:.3},children:te[U]}),d.jsxs("div",{className:"text-left flex-1",children:[d.jsx("div",{className:"font-medium",children:V[U]}),d.jsx("div",{className:"text-emerald-600 text-xs",children:G?.email||"No email"})]})]},U)}),d.jsx(J.div,{className:"bg-emerald-100 rounded-lg p-3 mt-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4},children:d.jsxs("p",{className:"text-emerald-700 text-center",children:[d.jsx("span",{className:"font-medium",children:"Default Password:"}),d.jsx(J.code,{className:"bg-emerald-200 px-2 py-1 rounded font-mono text-xs ml-1",whileHover:{scale:1.05},children:"password123"})]})})]})]}),d.jsxs(J.form,{className:"space-y-6",onSubmit:b,variants:R,children:[d.jsx(ys,{children:u&&d.jsx(J.div,{className:"bg-gradient-to-r from-red-50 to-pink-50 border-l-4 border-red-500 p-4 rounded-xl shadow-sm",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(J.div,{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center mr-2",initial:{scale:0},animate:{scale:1},transition:{type:"spring"},children:d.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-red-800",children:"Authentication Error"}),d.jsx("p",{className:"text-red-700 text-sm",children:u})]})]})})}),d.jsxs(J.div,{className:"space-y-5",variants:R,children:[d.jsxs(J.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5},children:[d.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Select Role"}),d.jsxs("div",{className:"relative",children:[d.jsxs(J.select,{id:"role",name:"role",value:m.role,onChange:x,className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 bg-white/70 backdrop-blur-sm hover:bg-white",whileFocus:{scale:1.02},"aria-label":"Select your role",children:[d.jsx("option",{value:"patient",children:"Patient"}),d.jsx("option",{value:"doctor",children:"Doctor"}),d.jsx("option",{value:"pharmacist",children:"Pharmacist"})]}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-emerald-500",children:d.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),d.jsxs(J.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.6},children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),d.jsx(J.input,{id:"email",name:"email",type:"email",required:!0,value:m.email,onChange:x,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 bg-white/70 backdrop-blur-sm hover:bg-white",placeholder:"Enter your email address",whileFocus:{scale:1.02},"aria-label":"Email address"})]}),d.jsxs(J.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.7},children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(J.input,{id:"password",name:"password",type:i?"text":"password",required:!0,value:m.password,onChange:x,className:"block w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 bg-white/70 backdrop-blur-sm hover:bg-white",placeholder:"Enter your password",whileFocus:{scale:1.02},"aria-label":"Password"}),d.jsx(J.button,{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-emerald-500 hover:text-emerald-600 transition-colors duration-200",onClick:()=>s(!i),whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":i?"Hide password":"Show password",children:d.jsx(ys,{mode:"wait",children:i?d.jsx(J.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(gx,{className:"h-5 w-5"})},"eyeslash"):d.jsx(J.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(px,{className:"h-5 w-5"})},"eye")})})]})]})]}),d.jsxs(J.div,{className:"flex items-center justify-between",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.8},children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded transition-colors duration-200"}),d.jsx("label",{htmlFor:"remember-me",className:"ml-3 block text-sm text-gray-700",children:"Keep me signed in"})]}),d.jsx("div",{className:"text-sm",children:d.jsx("button",{type:"button",className:"font-medium text-emerald-600 hover:text-emerald-500 transition-colors duration-200 bg-transparent border-none cursor-pointer",onClick:()=>{},children:"Forgot password?"})})]}),d.jsx(J.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.9},children:d.jsx(J.button,{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-white bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",whileHover:{scale:o?1:1.02,y:o?0:-2},whileTap:{scale:o?1:.98},children:d.jsx(ys,{mode:"wait",children:o?d.jsxs(J.div,{className:"flex items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[d.jsx(jc,{size:"sm",color:"white"}),d.jsx("span",{className:"ml-2",children:"Signing in..."})]},"loading"):d.jsxs(J.span,{className:"flex items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[d.jsx(J.svg,{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:{x:2},children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013 3v1"})}),"Sign In to CareSync"]},"signin")})})})]})]})]})};let yH={data:""},xH=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||yH,vH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,bH=/\/\*[^]*?\*\/|  +/g,RE=/\n+/g,ia=(t,e)=>{let n="",i="",s="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":i+=o[1]=="f"?ia(l,o):o+"{"+ia(l,o[1]=="k"?"":e)+"}":typeof l=="object"?i+=ia(l,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ia.p?ia.p(o,l):o+":"+l+";")}return n+(e&&s?e+"{"+s+"}":s)+i},sr={},IC=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+IC(t[n]);return e}return t},wH=(t,e,n,i,s)=>{let o=IC(t),l=sr[o]||(sr[o]=(h=>{let m=0,p=11;for(;m<h.length;)p=101*p+h.charCodeAt(m++)>>>0;return"go"+p})(o));if(!sr[l]){let h=o!==t?t:(m=>{let p,x,b=[{}];for(;p=vH.exec(m.replace(bH,""));)p[4]?b.shift():p[3]?(x=p[3].replace(RE," ").trim(),b.unshift(b[0][x]=b[0][x]||{})):b[0][p[1]]=p[2].replace(RE," ").trim();return b[0]})(t);sr[l]=ia(s?{["@keyframes "+l]:h}:h,n?"":"."+l)}let u=n&&sr.g?sr.g:null;return n&&(sr.g=sr[l]),((h,m,p,x)=>{x?m.data=m.data.replace(x,h):m.data.indexOf(h)===-1&&(m.data=p?h+m.data:m.data+h)})(sr[l],e,i,u),l},_H=(t,e,n)=>t.reduce((i,s,o)=>{let l=e[o];if(l&&l.call){let u=l(n),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=h?"."+h:u&&typeof u=="object"?u.props?"":ia(u,""):u===!1?"":u}return i+s+(l??"")},"");function Ug(t){let e=this||{},n=t.call?t(e.p):t;return wH(n.unshift?n.raw?_H(n,[].slice.call(arguments,1),e.p):n.reduce((i,s)=>Object.assign(i,s&&s.call?s(e.p):s),{}):n,xH(e.target),e.g,e.o,e.k)}let OC,Zx,Jx;Ug.bind({g:1});let wr=Ug.bind({k:1});function TH(t,e,n,i){ia.p=e,OC=t,Zx=n,Jx=i}function Aa(t,e){let n=this||{};return function(){let i=arguments;function s(o,l){let u=Object.assign({},o),h=u.className||s.className;n.p=Object.assign({theme:Zx&&Zx()},u),n.o=/ *go\d+/.test(h),u.className=Ug.apply(n,i)+(h?" "+h:"");let m=t;return t[0]&&(m=u.as||t,delete u.as),Jx&&m[0]&&Jx(u),OC(m,u)}return s}}var SH=t=>typeof t=="function",tg=(t,e)=>SH(t)?t(e):t,EH=(()=>{let t=0;return()=>(++t).toString()})(),PC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),kH=20,Gb="default",VC=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:i}=e;return VC(t,{type:t.toasts.find(l=>l.id===i.id)?1:0,toast:i});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},_m=[],LC={toasts:[],pausedAt:void 0,settings:{toastLimit:kH}},xs={},UC=(t,e=Gb)=>{xs[e]=VC(xs[e]||LC,t),_m.forEach(([n,i])=>{n===e&&i(xs[e])})},BC=t=>Object.keys(xs).forEach(e=>UC(t,e)),AH=t=>Object.keys(xs).find(e=>xs[e].toasts.some(n=>n.id===t)),Bg=(t=Gb)=>e=>{UC(e,t)},NH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jH=(t={},e=Gb)=>{let[n,i]=S.useState(xs[e]||LC),s=S.useRef(xs[e]);S.useEffect(()=>(s.current!==xs[e]&&i(xs[e]),_m.push([e,i]),()=>{let l=_m.findIndex(([u])=>u===e);l>-1&&_m.splice(l,1)}),[e]);let o=n.toasts.map(l=>{var u,h,m;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((u=t[l.type])==null?void 0:u.removeDelay)||t?.removeDelay,duration:l.duration||((h=t[l.type])==null?void 0:h.duration)||t?.duration||NH[l.type],style:{...t.style,...(m=t[l.type])==null?void 0:m.style,...l.style}}});return{...n,toasts:o}},CH=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||EH()}),lh=t=>(e,n)=>{let i=CH(e,t,n);return Bg(i.toasterId||AH(i.id))({type:2,toast:i}),i.id},Zt=(t,e)=>lh("blank")(t,e);Zt.error=lh("error");Zt.success=lh("success");Zt.loading=lh("loading");Zt.custom=lh("custom");Zt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Bg(e)(n):BC(n)};Zt.dismissAll=t=>Zt.dismiss(void 0,t);Zt.remove=(t,e)=>{let n={type:4,toastId:t};e?Bg(e)(n):BC(n)};Zt.removeAll=t=>Zt.remove(void 0,t);Zt.promise=(t,e,n)=>{let i=Zt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?tg(e.success,s):void 0;return o?Zt.success(o,{id:i,...n,...n?.success}):Zt.dismiss(i),s}).catch(s=>{let o=e.error?tg(e.error,s):void 0;o?Zt.error(o,{id:i,...n,...n?.error}):Zt.dismiss(i)}),t};var RH=1e3,DH=(t,e="default")=>{let{toasts:n,pausedAt:i}=jH(t,e),s=S.useRef(new Map).current,o=S.useCallback((x,b=RH)=>{if(s.has(x))return;let _=setTimeout(()=>{s.delete(x),l({type:4,toastId:x})},b);s.set(x,_)},[]);S.useEffect(()=>{if(i)return;let x=Date.now(),b=n.map(_=>{if(_.duration===1/0)return;let A=(_.duration||0)+_.pauseDuration-(x-_.createdAt);if(A<0){_.visible&&Zt.dismiss(_.id);return}return setTimeout(()=>Zt.dismiss(_.id,e),A)});return()=>{b.forEach(_=>_&&clearTimeout(_))}},[n,i,e]);let l=S.useCallback(Bg(e),[e]),u=S.useCallback(()=>{l({type:5,time:Date.now()})},[l]),h=S.useCallback((x,b)=>{l({type:1,toast:{id:x,height:b}})},[l]),m=S.useCallback(()=>{i&&l({type:6,time:Date.now()})},[i,l]),p=S.useCallback((x,b)=>{let{reverseOrder:_=!1,gutter:A=8,defaultPosition:R}=b||{},C=n.filter(F=>(F.position||R)===(x.position||R)&&F.height),L=C.findIndex(F=>F.id===x.id),U=C.filter((F,G)=>G<L&&F.visible).length;return C.filter(F=>F.visible).slice(..._?[U+1]:[0,U]).reduce((F,G)=>F+(G.height||0)+A,0)},[n]);return S.useEffect(()=>{n.forEach(x=>{if(x.dismissed)o(x.id,x.removeDelay);else{let b=s.get(x.id);b&&(clearTimeout(b),s.delete(x.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:h,startPause:u,endPause:m,calculateOffset:p}}},MH=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,IH=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OH=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,PH=Aa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${IH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${OH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,VH=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,LH=Aa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${VH} 1s linear infinite;
`,UH=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BH=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,FH=Aa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zH=Aa("div")`
  position: absolute;
`,HH=Aa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qH=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$H=Aa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,GH=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?S.createElement($H,null,e):e:n==="blank"?null:S.createElement(HH,null,S.createElement(LH,{...i}),n!=="loading"&&S.createElement(zH,null,n==="error"?S.createElement(PH,{...i}):S.createElement(FH,{...i})))},WH=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,YH=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,KH="0%{opacity:0;} 100%{opacity:1;}",XH="0%{opacity:1;} 100%{opacity:0;}",QH=Aa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ZH=Aa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,JH=(t,e)=>{let n=t.includes("top")?1:-1,[i,s]=PC()?[KH,XH]:[WH(n),YH(n)];return{animation:e?`${wr(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eq=S.memo(({toast:t,position:e,style:n,children:i})=>{let s=t.height?JH(t.position||e||"top-center",t.visible):{opacity:0},o=S.createElement(GH,{toast:t}),l=S.createElement(ZH,{...t.ariaProps},tg(t.message,t));return S.createElement(QH,{className:t.className,style:{...s,...n,...t.style}},typeof i=="function"?i({icon:o,message:l}):S.createElement(S.Fragment,null,o,l))});TH(S.createElement);var tq=({id:t,className:e,style:n,onHeightUpdate:i,children:s})=>{let o=S.useCallback(l=>{if(l){let u=()=>{let h=l.getBoundingClientRect().height;i(t,h)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return S.createElement("div",{ref:o,className:e,style:n},s)},nq=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:PC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...s}},iq=Ug`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gf=16,sq=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:s,toasterId:o,containerStyle:l,containerClassName:u})=>{let{toasts:h,handlers:m}=DH(n,o);return S.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Gf,left:Gf,right:Gf,bottom:Gf,pointerEvents:"none",...l},className:u,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(p=>{let x=p.position||e,b=m.calculateOffset(p,{reverseOrder:t,gutter:i,defaultPosition:e}),_=nq(x,b);return S.createElement(tq,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?iq:"",style:_},p.type==="custom"?tg(p.message,p):s?s(p):S.createElement(eq,{toast:p,position:x}))}))},oo=Zt;const rq=()=>{const{register:t,loginWithGoogle:e}=qn(),n=cg(),[i,s]=S.useState(!1),[o,l]=S.useState(!1),[u,h]=S.useState(!1),[m,p]=S.useState(""),[x,b]=S.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"patient",phone:"",specialization:"",licenseNumber:"",experience:"",pharmacyName:"",pharmacyAddress:""}),[_,A]=S.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),R=k=>{A({length:k.length>=8,uppercase:/[A-Z]/.test(k),lowercase:/[a-z]/.test(k),number:/[0-9]/.test(k),special:/[^A-Za-z0-9]/.test(k)})},C=k=>{b({...x,[k.target.name]:k.target.value}),m&&p(""),k.target.name==="password"&&R(k.target.value)},L=async k=>{if(k.preventDefault(),x.password!==x.confirmPassword){const D="Passwords do not match!";p(D),oo.error(D,{duration:4e3,icon:""});return}if(x.phone.replace(/\D/g,"").length!==10){const D="Phone number must be exactly 10 digits.";p(D),oo.error(D,{duration:4e3,icon:""});return}if(!Object.values(_).every(Boolean)){const D="Please meet all password requirements.";p(D),oo.error(D,{duration:4e3,icon:""});return}h(!0),p("");try{const D=await t(x);D.success&&(oo.success(`Welcome to CareSync, ${x.firstName}! Your account has been created successfully. Redirecting to your dashboard...`,{duration:4e3,icon:""}),setTimeout(()=>{n(`/${D.user.role}`)},2e3))}catch(D){const I=D.message||"Registration failed. Please try again.";p(I),oo.error(I,{duration:4e3,icon:""})}finally{h(!1)}},U=async()=>{try{h(!0);const k=await e();k.success&&(oo.success("Google sign-up successful! Redirecting to dashboard...",{duration:3e3,icon:""}),n(`/${k.user.role}`))}catch(k){const N="Google sign-in failed: "+k.message;oo.error(N,{duration:4e3,icon:""})}finally{h(!1)}},F={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94],staggerChildren:.08}}},G={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:[.25,.46,.45,.94]}}},Q={animate:{y:[0,-15,0],x:[0,10,0],transition:{duration:6,repeat:1/0,ease:"easeInOut"}}},te={animate:{scale:[1,1.1,1],rotate:[0,180,360],transition:{duration:20,repeat:1/0,ease:"linear"}}},V=()=>{switch(x.role){case"doctor":return d.jsxs(J.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.35,ease:"easeInOut"},className:"space-y-4",children:[d.jsxs(J.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25},className:"relative",children:[d.jsx(Jz,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"specialization",type:"text",required:!0,value:x.specialization,onChange:C,placeholder:"Specialization",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]}),d.jsxs(J.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25,delay:.03},className:"relative",children:[d.jsx(qf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"licenseNumber",type:"text",required:!0,value:x.licenseNumber,onChange:C,placeholder:"Medical License Number",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]}),d.jsxs(J.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25,delay:.06},className:"relative",children:[d.jsx(Hz,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"experience",type:"number",value:x.experience,onChange:C,placeholder:"Years of Experience",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]})]},"doctor-fields");case"pharmacist":return d.jsxs(J.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.35,ease:"easeInOut"},className:"space-y-4",children:[d.jsxs(J.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25},className:"relative",children:[d.jsx(qf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"licenseNumber",type:"text",required:!0,value:x.licenseNumber,onChange:C,placeholder:"Pharmacy License Number",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]}),d.jsxs(J.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25,delay:.03},className:"relative",children:[d.jsx(Wz,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"pharmacyName",type:"text",required:!0,value:x.pharmacyName,onChange:C,placeholder:"Pharmacy Name",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]}),d.jsxs(J.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25,delay:.06},className:"relative",children:[d.jsx(iH,{className:"absolute left-3 top-4 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("textarea",{name:"pharmacyAddress",required:!0,value:x.pharmacyAddress,onChange:C,rows:3,placeholder:"Pharmacy Address",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 resize-none text-black"})]})]},"pharmacist-fields");default:return null}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx(J.div,{variants:te,animate:"animate",className:"absolute -top-20 -right-20 w-40 h-40 bg-blue-200/20 dark:bg-blue-400/10 rounded-full blur-xl"}),d.jsx(J.div,{variants:Q,animate:"animate",className:"absolute -bottom-20 -left-20 w-60 h-60 bg-purple-200/20 dark:bg-purple-400/10 rounded-full blur-xl"}),d.jsx(J.div,{animate:{y:[0,-20,0],x:[0,15,0],scale:[1,1.05,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 right-1/4 w-32 h-32 bg-gradient-to-br from-blue-300/20 to-purple-300/20 dark:from-blue-400/10 dark:to-purple-400/10 rounded-full blur-lg"}),d.jsx(J.div,{animate:{y:[0,25,0],x:[0,-10,0],rotate:[0,180,360]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute bottom-1/3 left-1/3 w-24 h-24 bg-gradient-to-br from-purple-300/20 to-blue-300/20 dark:from-purple-400/10 dark:to-blue-400/10 rounded-full blur-lg"}),d.jsx(J.div,{className:"absolute top-6 left-6 z-20",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:d.jsxs(tt,{to:"/",className:"flex items-center gap-2 px-4 py-2 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl shadow-lg border border-white/50 dark:border-gray-700/50 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-white dark:hover:bg-gray-800 transition-all duration-300 group",children:[d.jsx(J.div,{whileHover:{x:-3},transition:{type:"spring",stiffness:400},children:d.jsx(Zd,{className:"w-5 h-5"})}),d.jsx("span",{className:"font-medium text-sm",children:"Home"})]})}),d.jsxs(J.div,{variants:F,initial:"hidden",animate:"visible",className:"max-w-lg w-full space-y-6 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm px-8 py-10 rounded-2xl shadow-2xl shadow-blue-200/20 dark:shadow-gray-900/50 border border-blue-100/50 dark:border-gray-700/50 relative z-10",whileHover:{y:-5},transition:{type:"spring",stiffness:300},children:[d.jsxs(J.div,{variants:G,className:"text-center space-y-3",children:[d.jsx(J.div,{whileHover:{rotate:360,scale:1.05},transition:{duration:.6},className:"inline-block",children:d.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-blue-600 to-purple-700 bg-clip-text text-transparent",children:"CareSync"})}),d.jsx(J.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Create your account"}),d.jsx(J.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.5,duration:.6},className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-purple-600 mx-auto rounded-full"}),d.jsxs(J.p,{variants:G,className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",d.jsx(tt,{to:"/login",className:"font-semibold text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 hover:underline transition-all duration-200",children:"Sign in here"})]})]}),d.jsxs(J.form,{variants:F,className:"mt-6 space-y-5",onSubmit:L,children:[d.jsx(ys,{children:m&&d.jsx(J.div,{initial:{opacity:0,scale:.95,height:0},animate:{opacity:1,scale:1,height:"auto"},exit:{opacity:0,scale:.95,height:0},transition:{duration:.3},className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-400 text-red-700 dark:text-red-300 p-4 rounded-xl shadow-sm overflow-hidden",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(J.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center mr-3 mt-0.5 flex-shrink-0",children:d.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm",children:"Registration Error"}),d.jsx("p",{className:"text-sm",children:m})]})]})})}),d.jsxs(J.div,{variants:G,className:"relative",children:[d.jsx(Sy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5 z-10"}),d.jsxs(J.select,{id:"role",name:"role",value:x.role,onChange:C,className:"w-full pl-12 pr-10 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 bg-white appearance-none cursor-pointer text-black",whileFocus:{scale:1.02},children:[d.jsx("option",{value:"patient",children:"Patient"}),d.jsx("option",{value:"doctor",children:"Doctor"}),d.jsx("option",{value:"pharmacist",children:"Pharmacist"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx(J.svg,{animate:{rotate:x.role!=="patient"?180:0},className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),d.jsxs(J.div,{variants:G,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs(J.div,{className:"relative",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[d.jsx(Sy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"firstName",type:"text",required:!0,value:x.firstName,onChange:C,placeholder:"First Name",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]}),d.jsxs(J.div,{className:"relative",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[d.jsx(Sy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"lastName",type:"text",required:!0,value:x.lastName,onChange:C,placeholder:"Last Name",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]})]}),d.jsxs(J.div,{variants:G,className:"relative",children:[d.jsx(tH,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx(J.input,{name:"email",type:"email",required:!0,value:x.email,onChange:C,placeholder:"Email Address",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black",whileFocus:{scale:1.02}})]}),d.jsxs(J.div,{variants:G,className:"relative",children:[d.jsx(rH,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx(J.input,{name:"phone",type:"tel",required:!0,value:x.phone,onChange:C,placeholder:"Phone Number",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black",whileFocus:{scale:1.02}})]}),d.jsx(ys,{mode:"wait",initial:!1,children:V()}),d.jsxs(J.div,{variants:G,className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(qf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx(J.input,{id:"password",name:"password",type:i?"text":"password",required:!0,value:x.password,onChange:C,placeholder:"Password",className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black",whileFocus:{scale:1.02}}),d.jsx(J.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!i),children:d.jsx(ys,{mode:"wait",children:i?d.jsx(J.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(gx,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"})},"eyeslash"):d.jsx(J.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(px,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"})},"eye")})})]}),x.password.length>0&&d.jsxs(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl border border-gray-200 dark:border-gray-600 space-y-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password Requirements:"}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:`flex items-center gap-2 text-sm ${_.length?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_.length?"":""," At least 8 characters long"]}),d.jsxs("p",{className:`flex items-center gap-2 text-sm ${_.uppercase?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_.uppercase?"":""," Contains at least one uppercase letter"]}),d.jsxs("p",{className:`flex items-center gap-2 text-sm ${_.lowercase?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_.lowercase?"":""," Contains at least one lowercase letter"]}),d.jsxs("p",{className:`flex items-center gap-2 text-sm ${_.number?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_.number?"":""," Contains at least one number"]}),d.jsxs("p",{className:`flex items-center gap-2 text-sm ${_.special?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_.special?"":""," Contains at least one special character"]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(qf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx(J.input,{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,value:x.confirmPassword,onChange:C,placeholder:"Confirm Password",className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black",whileFocus:{scale:1.02}}),d.jsx(J.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:d.jsx(ys,{mode:"wait",children:o?d.jsx(J.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(gx,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"})},"eyeslash2"):d.jsx(J.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(px,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"})},"eye2")})})]})]}),d.jsxs(J.div,{variants:G,className:"flex items-start text-sm space-x-3 py-2",children:[d.jsx(J.input,{id:"agree-terms",name:"agree-terms",type:"checkbox",required:!0,className:"mt-0.5 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded transition-colors bg-white dark:bg-gray-800",whileHover:{scale:1.1},whileTap:{scale:.9}}),d.jsxs("label",{htmlFor:"agree-terms",className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:["I agree to the"," ",d.jsx(J.a,{href:"#",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 font-medium hover:underline transition-all duration-200",whileHover:{scale:1.05},children:"Terms of Service"})," ","and"," ",d.jsx(J.a,{href:"#",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 font-medium hover:underline transition-all duration-200",whileHover:{scale:1.05},children:"Privacy Policy"})]})]}),d.jsx(J.button,{variants:G,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},type:"submit",disabled:u||!Object.values(_).every(Boolean),className:"w-full bg-gradient-to-r from-blue-600 to-purple-700 hover:from-blue-700 hover:to-purple-800 text-white py-3 px-6 rounded-xl text-lg font-bold shadow-lg shadow-blue-500/25 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:d.jsx(ys,{mode:"wait",children:u?d.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center space-x-2",children:[d.jsx(jc,{size:"sm",color:"white"}),d.jsx("span",{children:"Creating Account..."})]}):d.jsxs(J.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center space-x-2",children:[d.jsx(J.svg,{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:{x:2},children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),d.jsx("span",{children:"Create Account"})]})})}),d.jsxs(J.div,{variants:G,className:"relative flex items-center my-6",children:[d.jsx(J.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:2.5,duration:.5},className:"flex-1 border-t border-gray-200 dark:border-gray-600"}),d.jsx(J.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:2.6},className:"px-4 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Or continue with"}),d.jsx(J.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:2.5,duration:.5},className:"flex-1 border-t border-gray-200 dark:border-gray-600"})]}),d.jsxs(J.button,{variants:G,whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},type:"button",onClick:U,className:"w-full inline-flex justify-center items-center py-3 px-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl shadow-sm bg-white dark:bg-gray-800 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-500 hover:shadow-md transition-all duration-300",children:[d.jsx(J.img,{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"h-5 w-5 mr-3",whileHover:{rotate:360},transition:{duration:.6}}),d.jsx("span",{children:"Sign up with Google"})]})]})]})]})},FC=S.createContext(),ch=()=>S.useContext(FC),aq=({children:t})=>{const[e,n]=S.useState(()=>{try{const u=localStorage.getItem("appointments");return u?JSON.parse(u):GT}catch(u){return console.error("Error parsing appointments from localStorage",u),GT}});S.useEffect(()=>{try{localStorage.setItem("appointments",JSON.stringify(e))}catch(u){console.error("Error saving appointments to localStorage",u)}},[e]);const i=u=>{const h={...u,id:`apt${Date.now()}`,status:"Pending"};n(m=>[...m,h])},s=(u,h)=>{n(m=>m.map(p=>p.id===u?{...p,status:h}:p))},l={appointments:e,doctors:Sd,bookAppointment:i,updateAppointmentStatus:s,cancelAppointment:u=>{s(u,"Cancelled")}};return d.jsx(FC.Provider,{value:l,children:t})},oq=[{id:"RX001",doctor:"Dr. Sarah Johnson",date:"2024-01-15",status:"active",medicines:[{name:"Metformin",dosage:"500mg",frequency:"Twice daily",duration:"30 days"},{name:"Lisinopril",dosage:"10mg",frequency:"Once daily",duration:"30 days"}],instructions:"Take with meals. Monitor blood sugar levels regularly.",nextRefill:"2024-02-14"},{id:"RX002",doctor:"Dr. Michael Brown",date:"2024-01-10",status:"completed",medicines:[{name:"Amoxicillin",dosage:"500mg",frequency:"Three times daily",duration:"7 days"}],instructions:"Complete the full course even if symptoms improve.",nextRefill:null},{id:"RX003",doctor:"Dr. Sarah Johnson",date:"2024-01-05",status:"expired",medicines:[{name:"Vitamin D3",dosage:"1000 IU",frequency:"Once daily",duration:"90 days"}],instructions:"Take with fat-containing meal for better absorption.",nextRefill:"2024-04-05"}],DE={active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",expired:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300"};function zC(){const[t,e]=S.useState(null);return d.jsxs("div",{className:"p-2 sm:p-6",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"Prescriptions"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:oq.map(n=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-4 flex flex-col justify-between h-full border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:n.id}),d.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${DE[n.status]}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Doctor:"})," ",n.doctor]}),d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Date:"})," ",n.date]}),d.jsxs("div",{className:"text-sm mb-1 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Medicines:"}),d.jsx("ul",{className:"list-disc pl-5",children:n.medicines.map((i,s)=>d.jsxs("li",{children:[i.name," (",i.dosage,")"]},s))})]}),d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Next Refill:"})," ",n.nextRefill||d.jsx("span",{className:"text-gray-400 dark:text-gray-500 italic",children:"-"})]})]}),d.jsx("button",{className:"mt-3 px-4 py-2 bg-primary-600 text-white font-semibold rounded shadow hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-400 transition dark:bg-primary-500 dark:hover:bg-primary-600",onClick:()=>e(n),children:"View Details"})]},n.id))}),t&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full sm:w-auto sm:min-w-[340px] max-w-lg m-2 sm:m-0 rounded-lg shadow-lg p-4 sm:p-6 relative border border-gray-200 dark:border-gray-700",children:[d.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100 text-2xl",onClick:()=>e(null),"aria-label":"Close prescription details",children:""}),d.jsxs("h3",{className:"text-lg font-bold mb-2 text-gray-900 dark:text-gray-100",children:["Prescription ID: ",t.id]}),d.jsxs("p",{className:"mb-1 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Doctor:"})," ",t.doctor]}),d.jsxs("p",{className:"mb-1 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Date:"})," ",t.date]}),d.jsxs("p",{className:"mb-1 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Status:"}),d.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-semibold ${DE[t.status]}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),d.jsxs("div",{className:"mt-2 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Medicines:"}),d.jsx("ul",{className:"list-disc pl-5",children:t.medicines.map((n,i)=>d.jsxs("li",{children:[n.name,"  ",n.dosage,", ",n.frequency," (",n.duration,")"]},i))})]}),d.jsxs("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Instructions:"})," ",t.instructions]}),d.jsxs("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Next Refill:"})," ",t.nextRefill||d.jsx("span",{className:"text-gray-400 dark:text-gray-500 italic",children:"-"})]}),d.jsx("button",{className:"mt-4 w-full py-2 rounded bg-blue-600 text-white font-semibold hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 transition-colors",onClick:()=>e(null),children:"Close"})]})})]})}const HC=()=>{const{user:t}=qn(),{appointments:e,doctors:n,bookAppointment:i}=ch(),[s,o]=S.useState(""),[l,u]=S.useState(""),[h,m]=S.useState(""),[p,x]=S.useState(t?.name||""),[b,_]=S.useState(""),[A,R]=S.useState(!1),[C,L]=S.useState(!1),U=S.useRef(null),F=S.useRef(null);S.useEffect(()=>{const O=P=>{U.current&&!U.current.contains(P.target)&&R(!1),F.current&&!F.current.contains(P.target)&&L(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),S.useEffect(()=>{m("")},[l,s]);const G=S.useMemo(()=>{const O=new Date;return e.filter(P=>P.patientId===t.id).map(P=>({...P,doctor:N9(P.doctorId),isUpcoming:new Date(`${P.date}T${P.time.replace(" ","")}`)>=O&&P.status!=="Cancelled"&&P.status!=="Rejected"})).sort((P,X)=>new Date(X.date)-new Date(P.date))},[e,t.id]),Q=O=>{O.preventDefault(),s&&l&&h&&p&&(i({patientId:t.id,doctorId:s,date:l,time:h,patientName:p,notes:b}),o(""),u(""),m(""),x(t?.name||""),_(""))},te=O=>{switch(O.toLowerCase()){case"confirmed":return"bg-green-500 text-white";case"pending":return"bg-yellow-500 text-white";case"cancelled":case"rejected":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},V=O=>{const P={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(O).toLocaleDateString("en-US",P)},k=({apt:O})=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow duration-300",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:`h-1 ${te(O.status).split(" ")[0]}`}),d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${te(O.status)}`,children:O.status})})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mr-4",children:d.jsx(Vf,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:["Dr. ",O.doctor?.name||"N/A"]}),d.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:O.doctor?.specialization||"Specialization not available"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[d.jsx(iy,{className:"w-5 h-5 mr-3 text-gray-400"}),d.jsx("span",{className:"font-medium",children:V(O.date)})]}),d.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[d.jsx(xr,{className:"w-5 h-5 mr-3 text-gray-400"}),d.jsx("span",{className:"font-medium",children:O.time})]}),O.patientName&&d.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[d.jsx(Vf,{className:"w-5 h-5 mr-3 text-gray-400"}),d.jsx("span",{className:"font-medium",children:O.patientName})]}),O.notes&&d.jsxs("div",{className:"flex items-start text-gray-600 dark:text-gray-300",children:[d.jsx(kd,{className:"w-5 h-5 mr-3 text-gray-400 mt-0.5"}),d.jsx("span",{className:"text-sm",children:O.notes})]})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:d.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${O.isUpcoming?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:O.isUpcoming?"Upcoming":"Past"})})]})]}),N=({value:O,onChange:P,options:X,placeholder:se,isOpen:z,setIsOpen:$,ref:le,disabled:fe=!1,icon:ue})=>{const ve=X?.find(he=>he.value===O),xe=ve?ve.label:O;return d.jsxs("div",{className:"relative",ref:le,children:[d.jsxs("button",{type:"button",onClick:()=>!fe&&$(!z),disabled:fe,className:`w-full p-4 text-left border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-colors ${fe?"bg-gray-100 dark:bg-gray-700 cursor-not-allowed":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"} ${O?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400"}`,children:[d.jsxs("div",{className:"flex items-center",children:[ue&&d.jsx(ue,{className:"w-5 h-5 mr-3 text-gray-400"}),d.jsx("span",{className:"block truncate",children:xe||se})]}),d.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:d.jsx(tV,{className:`h-5 w-5 text-gray-400 dark:text-gray-500 transition-transform ${z?"rotate-180":""}`})})]}),z&&d.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:X&&X.length>0?X.map(he=>d.jsx("button",{type:"button",onClick:()=>{P(he.value),$(!1)},className:"w-full px-4 py-3 text-left text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 focus:bg-gray-100 dark:focus:bg-gray-700 focus:outline-none transition-colors",children:he.label},he.value)):d.jsx("div",{className:"px-4 py-3 text-gray-500 dark:text-gray-400 text-center",children:"No options available"})})]})},D=n?n.map(O=>({value:O.id,label:`${O.name} - ${O.specialization}`})):[],I=S.useMemo(()=>{if(!s||!l)return[];const O=n.find(z=>z.id===s);if(!O?.availability)return[];const P=new Date,X=P.toISOString().split("T")[0],se=l===X;return O.availability.filter(z=>{if(!se)return!0;let $,le;if(z.includes("AM")||z.includes("PM")){[$,le]=z.replace(/\s*(AM|PM)/i,"").split(":").map(Number);const ke=z.toUpperCase().includes("PM");ke&&$!==12?$+=12:!ke&&$===12&&($=0)}else[$,le]=z.split(":").map(Number);const fe=P.getHours(),ue=P.getMinutes(),ve=fe*60+ue;return $*60+(le||0)>ve}).map(z=>({value:z,label:z}))},[s,l,n]);return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsx("div",{className:"text-center mb-12",children:d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Your Appointments"})}),d.jsx("div",{className:"mb-12",children:G.length>0?d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:G.map(O=>d.jsx(k,{apt:O},O.id))}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(iy,{className:"w-12 h-12 text-gray-400"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"You have no scheduled appointments"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Schedule your first medical appointment using the form below"})]})}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-8 py-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-white text-center",children:"Book a New Appointment"}),d.jsx("p",{className:"text-blue-100 text-center mt-2",children:"Complete the form to schedule your medical appointment"})]}),d.jsx("div",{className:"p-8",children:d.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"patientName",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Patient Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Vf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{id:"patientName",type:"text",value:p,onChange:O=>x(O.target.value),placeholder:"Enter your full name",className:"w-full pl-10 pr-4 py-4 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Select Doctor"}),d.jsx(N,{value:s,onChange:o,options:D,placeholder:"Choose a doctor and specialization",isOpen:A,setIsOpen:R,ref:U,icon:Vf})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"appointmentDate",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Appointment Date"}),d.jsxs("div",{className:"relative",children:[d.jsx(iy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{id:"appointmentDate",type:"date",value:l,onChange:O=>u(O.target.value),onClick:O=>O.target.showPicker?.(),min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-4 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100 cursor-pointer",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Appointment Time"}),d.jsx(N,{value:h,onChange:m,options:I,placeholder:s?l?I.length===0?"No available slots for today":"Select an available time":"Select a date first":"Select a doctor first",isOpen:C,setIsOpen:L,ref:F,disabled:!s||!l,icon:xr})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Additional Notes"}),d.jsxs("div",{className:"relative",children:[d.jsx(kd,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),d.jsx("textarea",{id:"notes",value:b,onChange:O=>_(O.target.value),placeholder:"Briefly describe the reason for your consultation or any additional information...",rows:"4",className:"w-full pl-10 pr-4 py-4 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 resize-none"})]})]}),d.jsx("button",{type:"submit",disabled:!s||!l||!h||!p,className:"w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none enabled:hover:scale-[1.02] enabled:active:scale-[0.98]",children:"Schedule Appointment"})]})})]})]})})},lq=[{id:1,date:"2024-07-10",type:"Blood Pressure",value:"120/78",unit:"mmHg",status:"normal"},{id:2,date:"2024-07-09",type:"Heart Rate",value:"88",unit:"bpm",status:"elevated"},{id:3,date:"2024-07-08",type:"Temperature",value:"99.1",unit:"F",status:"normal"},{id:4,date:"2024-07-06",type:"Weight",value:"70.5",unit:"kg",status:"normal"},{id:5,date:"2024-07-05",type:"Blood Sugar",value:"115",unit:"mg/dL",status:"elevated"}],cq=[{id:101,date:"2024-07-09",symptom:"Headache",severity:"mild",notes:"After long meeting"},{id:102,date:"2024-07-05",symptom:"Fatigue",severity:"moderate",notes:"Tired in morning"}];let uq=200;const ME=()=>++uq,lo=t=>{if(!t)return null;const e=new Date(t);return Number.isNaN(e.getTime())?null:e.toISOString().slice(0,10)},dq=t=>{if(!t||typeof t!="string")return null;const e=t.split("/").map(n=>Number(n.trim()));return e.length===2&&!Number.isNaN(e[0])&&!Number.isNaN(e[1])?{sys:e[0],dia:e[1]}:null},hq=({type:t,value:e})=>{if(!t||e==null)return"normal";const n=t.toLowerCase();if(n.includes("blood pressure")){const i=dq(String(e));return i?i.sys>=140||i.dia>=90?"high":i.sys<=90||i.dia<=60?"low":"normal":"unknown"}if(n.includes("heart")){const i=Number(String(e).replace(/[^0-9.]/g,""));return Number.isNaN(i)?"unknown":i>100?"high":i<50?"low":"normal"}if(n.includes("temperature")||n.includes("temp")){const i=Number(String(e).replace(/[^0-9.]/g,""));return Number.isNaN(i)?"unknown":i>=100.4?"high":"normal"}if(n.includes("blood sugar")||n.includes("glucose")){const i=Number(String(e).replace(/[^0-9.]/g,""));return Number.isNaN(i)?"unknown":i>=126?"high":i<70?"low":"normal"}return"normal"},fq=t=>t.map(e=>e.map(n=>{const i=String(n??"");return i.includes(",")||i.includes('"')||i.includes(`
`)?`"${i.replace(/"/g,'""')}"`:i}).join(",")).join(`
`),qC=()=>{const[t,e]=S.useState("vitals"),[n,i]=S.useState(lq),[s,o]=S.useState(cq),[l,u]=S.useState(!1),[h,m]=S.useState(null),[p,x]=S.useState({kind:"vital",date:lo(new Date),type:"Heart Rate",value:"",unit:"",status:"",symptom:"",severity:"mild",notes:""}),[b,_]=S.useState("all"),[A,R]=S.useState(""),[C,L]=S.useState(""),[U,F]=S.useState(""),G=S.useMemo(()=>{const X=lo(A),se=lo(C);return n.filter(z=>{if(b!=="all"&&z.type!==b||X&&z.date<X||se&&z.date>se)return!1;if(U){const $=U.toLowerCase();if(!(z.type.toLowerCase().includes($)||String(z.value).toLowerCase().includes($)||(z.unit||"").toLowerCase().includes($)))return!1}return!0}).sort((z,$)=>$.date.localeCompare(z.date))},[n,b,A,C,U]),Q=S.useMemo(()=>{const X=lo(A),se=lo(C);return s.filter(z=>{if(X&&z.date<X||se&&z.date>se)return!1;if(U){const $=U.toLowerCase();if(!(z.symptom.toLowerCase().includes($)||(z.notes||"").toLowerCase().includes($)))return!1}return!0}).sort((z,$)=>$.date.localeCompare(z.date))},[s,A,C,U]),te=S.useMemo(()=>{const X=[...n,...s],se=X.length,z=n.filter(ue=>ue.status&&ue.status!=="normal").length,$=X.length?X.reduce((ue,ve)=>ue.date>ve.date?ue:ve).date:"--",le=n.reduce((ue,ve)=>(ue[ve.type]=(ue[ve.type]||0)+1,ue),{}),fe=Object.keys(le).length?Object.entries(le).sort((ue,ve)=>ve[1]-ue[1])[0][0]:"--";return{total:se,abnormal:z,lastLog:$,mostCommonType:fe,typeCounts:le}},[n,s]),V=(X="vital")=>{m(null),x({kind:X,date:lo(new Date),type:X==="vital"?"Heart Rate":"",value:"",unit:X==="vital"?"bpm":"",status:"",symptom:"",severity:"mild",notes:""}),u(!0)},k=(X,se)=>{m({kind:X,id:se.id}),x({kind:X,date:lo(se.date),type:X==="vital"?se.type:"",value:X==="vital"?String(se.value):"",unit:X==="vital"&&se.unit||"",status:X==="vital"&&se.status||"",symptom:X==="symptom"?se.symptom:"",severity:X==="symptom"?se.severity:"mild",notes:X==="symptom"&&se.notes||""}),u(!0)},N=()=>{u(!1),m(null)},D=()=>{if(p.kind==="vital"){if(!p.type||!p.date||!p.value){alert("Please provide date, type and value for the vital sign.");return}const X=hq({type:p.type,value:p.value}),se=p.status&&p.status!=="auto"?p.status:X;if(h)i(z=>z.map($=>$.id===h.id?{...$,date:p.date,type:p.type,value:p.value,unit:p.unit,status:se}:$));else{const z={id:ME(),date:p.date,type:p.type,value:p.value,unit:p.unit,status:se};i($=>[z,...$])}}else{if(!p.symptom||!p.date){alert("Please provide symptom and date.");return}if(h)o(X=>X.map(se=>se.id===h.id?{...se,date:p.date,symptom:p.symptom,severity:p.severity,notes:p.notes}:se));else{const X={id:ME(),date:p.date,symptom:p.symptom,severity:p.severity,notes:p.notes};o(se=>[X,...se])}}N()},I=(X,se)=>{window.confirm("Delete this entry? This cannot be undone.")&&(X==="vital"?i(z=>z.filter($=>$.id!==se)):o(z=>z.filter($=>$.id!==se)))},O=()=>{const X=[["Date","Type","Value","Unit","Status"],...n.map(le=>[le.date,le.type,le.value,le.unit,le.status])],se=fq(X),z=new Blob([se],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a");$.href=URL.createObjectURL(z),$.setAttribute("download",`vitals_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild($),$.click(),$.remove()},P=S.useMemo(()=>{const X=new Set(n.map(se=>se.type));return["all",...Array.from(X)]},[n]);return S.useEffect(()=>{_("all"),R(""),L(""),F("")},[t]),d.jsxs("div",{className:"space-y-6 px-4 md:px-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Health Logs"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:()=>V(t==="vitals"?"vital":"symptom"),className:"btn-primary flex items-center space-x-2",children:[d.jsx(zV,{className:"h-5 w-5"}),d.jsx("span",{children:"Add Entry"})]}),t==="vitals"&&d.jsxs("button",{onClick:O,className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[d.jsx(M9,{className:"h-5 w-5"}),"Export CSV"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Logs"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:te.total})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Abnormal Vitals"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:te.abnormal})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Last Log Date"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:te.lastLog||"--"})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Top Vital Type"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:te.mostCommonType||"--"})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("h4",{className:"font-medium mb-3 text-gray-900 dark:text-gray-100",children:"Log Type Breakdown"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(te.typeCounts).length?Object.entries(te.typeCounts).map(([X,se])=>d.jsxs("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 text-sm",children:[d.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:X}),d.jsxs("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:["(",se,")"]})]},X)):d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No vitals recorded yet."})})]}),d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:d.jsxs("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:[d.jsx("button",{onClick:()=>e("vitals"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t==="vitals"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"Vital Signs"}),d.jsx("button",{onClick:()=>e("symptoms"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t==="symptoms"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"Symptoms"})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 md:gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(AV,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),t==="vitals"?d.jsx("select",{value:b,onChange:X=>_(X.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:P.map(X=>d.jsx("option",{value:X,children:X},X))}):d.jsxs("select",{value:b,onChange:X=>_(X.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"mild",children:"Mild"}),d.jsx("option",{value:"moderate",children:"Moderate"}),d.jsx("option",{value:"severe",children:"Severe"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"From"}),d.jsx("input",{type:"date",value:A,onChange:X=>R(X.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-2 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),d.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"To"}),d.jsx("input",{type:"date",value:C,onChange:X=>L(X.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-2 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),d.jsx("div",{className:"flex items-center ml-auto",children:d.jsx("input",{type:"search",placeholder:"Search...",value:U,onChange:X=>F(X.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm w-full md:w-64 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[t==="vitals"&&d.jsxs("div",{className:"p-6 space-y-4",children:[G.length===0&&d.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No vitals match your filters."}),G.map(X=>d.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${X.status==="high"?"bg-red-50 dark:bg-red-900/20":X.status==="low"?"bg-yellow-50 dark:bg-yellow-900/20":"bg-gray-50 dark:bg-gray-700"}`,children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:X.type}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:X.date})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[X.value," ",X.unit]}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${X.status==="normal"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":X.status==="high"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":X.status==="low"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:X.status||"unknown"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>k("vital",X),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:d.jsx(XT,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),d.jsx("button",{onClick:()=>I("vital",X.id),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:d.jsx(JT,{className:"h-5 w-5 text-red-500 dark:text-red-400"})})]})]})]},X.id))]}),t==="symptoms"&&d.jsxs("div",{className:"p-6 space-y-4",children:[Q.length===0&&d.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No symptoms match your filters."}),Q.map(X=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:X.symptom}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:X.date}),X.notes&&d.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:X.notes})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${X.severity==="mild"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":X.severity==="moderate"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:X.severity}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>k("symptom",X),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:d.jsx(XT,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),d.jsx("button",{onClick:()=>I("symptom",X.id),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:d.jsx(JT,{className:"h-5 w-5 text-red-500 dark:text-red-400"})})]})]})]},X.id))]})]}),l&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 dark:bg-opacity-50 z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-lg shadow-xl",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:h?"Edit Entry":"Add Entry"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date"}),d.jsx("input",{type:"date",value:p.date,onChange:X=>x(se=>({...se,date:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),p.kind==="vital"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),d.jsx("input",{type:"text",value:p.type,onChange:X=>x(se=>({...se,type:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Value"}),d.jsx("input",{type:"text",value:p.value,onChange:X=>/^[0-9+\-*/%.]*$/.test(X.target.value)&&x(se=>({...se,value:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Unit"}),d.jsx("input",{type:"text",value:p.unit,onChange:X=>x(se=>({...se,unit:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),d.jsxs("select",{value:p.status,onChange:X=>x(se=>({...se,status:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"auto",children:"Auto-detect"}),d.jsx("option",{value:"normal",children:"Normal"}),d.jsx("option",{value:"high",children:"High"}),d.jsx("option",{value:"low",children:"Low"}),d.jsx("option",{value:"unknown",children:"Unknown"})]})]})]}),p.kind==="symptom"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Symptom"}),d.jsx("input",{type:"text",value:p.symptom,onChange:X=>x(se=>({...se,symptom:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Severity"}),d.jsxs("select",{value:p.severity,onChange:X=>x(se=>({...se,severity:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"mild",children:"Mild"}),d.jsx("option",{value:"moderate",children:"Moderate"}),d.jsx("option",{value:"severe",children:"Severe"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),d.jsx("textarea",{value:p.notes,onChange:X=>x(se=>({...se,notes:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",rows:"3"})]})]})]}),d.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[d.jsx("button",{onClick:N,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:D,className:"btn-primary",children:"Save"})]})]})})]})},$C=()=>{const[t,e]=S.useState([{id:1,medicine:"Vitamin D3",dosage:"1000 IU",time:"08:00 AM",taken:!1,frequency:"Daily"},{id:2,medicine:"Metformin",dosage:"500mg",time:"12:00 PM",taken:!0,frequency:"Twice daily"},{id:3,medicine:"Lisinopril",dosage:"10mg",time:"08:00 PM",taken:!1,frequency:"Daily"}]),n=S.useRef(null),i=o=>{e(l=>l.map(u=>u.id===o?{...u,taken:!u.taken}:u))},s=o=>{n.current?(clearTimeout(n.current),n.current=null,i(o)):n.current=setTimeout(()=>{i(o),n.current=null},250)};return d.jsxs("div",{className:"bg-surface p-6 rounded-lg shadow-sm border border-subtle",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-default",children:"Medicine Reminders"}),d.jsx("button",{className:"text-primary hover:text-primary-700 text-sm font-medium",children:"View All"})]}),d.jsx("div",{className:"space-y-3",children:t.map(o=>d.jsx("div",{onClick:()=>s(o.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${o.taken?"border-medical-200 bg-medical-50/80 dark:border-medical-800 dark:bg-medical-900/20":"border-subtle bg-surface hover:border-primary-200 dark:hover:border-primary-500"}`,children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h4",{className:`font-medium ${o.taken?"text-green-800 dark:text-green-300 line-through":"text-gray-900 dark:text-gray-100"}`,children:o.medicine}),d.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",o.dosage,")"]})]}),d.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-600 dark:text-gray-400",children:[d.jsx(xr,{className:"h-4 w-4 mr-1"}),d.jsxs("span",{children:[o.time,"  ",o.frequency]})]})]}),d.jsx("button",{onClick:l=>{l.stopPropagation(),i(o.id)},className:`p-2 rounded-full transition-colors ${o.taken?"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30":"text-gray-400 hover:text-green-600 hover:bg-green-50 dark:text-gray-500 dark:hover:text-green-400 dark:hover:bg-green-900/20"}`,children:d.jsx(Ag,{className:"h-5 w-5"})})]})},o.id))}),d.jsx("button",{className:"w-full mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 transition-colors",children:"Set New Reminder"})]})},mq=({activeTab:t})=>{const{user:e}=qn(),{appointments:n}=ch(),s=n.filter(l=>l.patientId===e?.id).length,o=()=>{switch(t){case"prescriptions":return d.jsx(zC,{});case"appointments":return d.jsx(HC,{});case"health-logs":return d.jsx(qC,{});case"medicine-reminders":return d.jsx($C,{});default:return d.jsx(gq,{user:e,apptCount:s})}};return d.jsx("div",{className:"p-6 bg-subtle min-h-full",children:o()})},gq=({user:t,apptCount:e})=>{const n=[{name:"Active Prescriptions",value:"3",icon:kd,color:"text-blue-600 dark:text-blue-400"},{name:"Medicine Reminders",value:"5",icon:xr,color:"text-green-600 dark:text-green-400"},{name:"Health Logs",value:"12",icon:fr,color:"text-red-600 dark:text-red-400"},{name:"Appointments",value:String(e),icon:xr,color:"text-purple-600 dark:text-purple-400"}];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["Welcome back, ",t?.name,"!"]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Here's your health overview for today."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(i=>d.jsx("div",{className:"bg-surface p-6 rounded-lg shadow-sm border border-subtle hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`p-2 rounded-lg bg-gray-100 dark:bg-gray-700 ${i.color}`,children:d.jsx(i.icon,{className:"h-6 w-6"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:i.name}),d.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i.value})]})]})},i.name))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx($C,{}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Recent Health Logs"}),d.jsx("div",{className:"space-y-3",children:[{date:"Today",type:"Blood Pressure",value:"120/80 mmHg",status:"normal"},{date:"Yesterday",type:"Weight",value:"70 kg",status:"normal"},{date:"2 days ago",type:"Temperature",value:"98.6F",status:"normal"}].map((i,s)=>d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:i.type}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.date})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:i.value}),d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded-full",children:i.status})]})]},s))})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function uh(t){return t+.5|0}const ra=(t,e,n)=>Math.max(Math.min(t,n),e);function Yu(t){return ra(uh(t*2.55),0,255)}function ha(t){return ra(uh(t*255),0,255)}function lr(t){return ra(uh(t/2.55)/100,0,1)}function IE(t){return ra(uh(t*100),0,100)}const Ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ev=[..."0123456789ABCDEF"],pq=t=>ev[t&15],yq=t=>ev[(t&240)>>4]+ev[t&15],Wf=t=>(t&240)>>4===(t&15),xq=t=>Wf(t.r)&&Wf(t.g)&&Wf(t.b)&&Wf(t.a);function vq(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ti[t[1]]*17,g:255&Ti[t[2]]*17,b:255&Ti[t[3]]*17,a:e===5?Ti[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ti[t[1]]<<4|Ti[t[2]],g:Ti[t[3]]<<4|Ti[t[4]],b:Ti[t[5]]<<4|Ti[t[6]],a:e===9?Ti[t[7]]<<4|Ti[t[8]]:255})),n}const bq=(t,e)=>t<255?e(t):"";function wq(t){var e=xq(t)?pq:yq;return t?"#"+e(t.r)+e(t.g)+e(t.b)+bq(t.a,e):void 0}const _q=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GC(t,e,n){const i=e*Math.min(n,1-n),s=(o,l=(o+t/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function Tq(t,e,n){const i=(s,o=(s+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Sq(t,e,n){const i=GC(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function Eq(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Wb(t){const n=t.r/255,i=t.g/255,s=t.b/255,o=Math.max(n,i,s),l=Math.min(n,i,s),u=(o+l)/2;let h,m,p;return o!==l&&(p=o-l,m=u>.5?p/(2-o-l):p/(o+l),h=Eq(n,i,s,p,o),h=h*60+.5),[h|0,m||0,u]}function Yb(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(ha)}function Kb(t,e,n){return Yb(GC,t,e,n)}function kq(t,e,n){return Yb(Sq,t,e,n)}function Aq(t,e,n){return Yb(Tq,t,e,n)}function WC(t){return(t%360+360)%360}function Nq(t){const e=_q.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Yu(+e[5]):ha(+e[5]));const s=WC(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=kq(s,o,l):e[1]==="hsv"?i=Aq(s,o,l):i=Kb(s,o,l),{r:i[0],g:i[1],b:i[2],a:n}}function jq(t,e){var n=Wb(t);n[0]=WC(n[0]+e),n=Kb(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Cq(t){if(!t)return;const e=Wb(t),n=e[0],i=IE(e[1]),s=IE(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${lr(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const OE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},PE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Rq(){const t={},e=Object.keys(PE),n=Object.keys(OE);let i,s,o,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],s=0;s<n.length;s++)o=n[s],u=u.replace(o,OE[o]);o=parseInt(PE[l],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let Yf;function Dq(t){Yf||(Yf=Rq(),Yf.transparent=[0,0,0,0]);const e=Yf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Mq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Iq(t){const e=Mq.exec(t);let n=255,i,s,o;if(e){if(e[7]!==i){const l=+e[7];n=e[8]?Yu(l):ra(l*255,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?Yu(i):ra(i,0,255)),s=255&(e[4]?Yu(s):ra(s,0,255)),o=255&(e[6]?Yu(o):ra(o,0,255)),{r:i,g:s,b:o,a:n}}}function Oq(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${lr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ey=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Pl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Pq(t,e,n){const i=Pl(lr(t.r)),s=Pl(lr(t.g)),o=Pl(lr(t.b));return{r:ha(Ey(i+n*(Pl(lr(e.r))-i))),g:ha(Ey(s+n*(Pl(lr(e.g))-s))),b:ha(Ey(o+n*(Pl(lr(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Kf(t,e,n){if(t){let i=Wb(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Kb(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function YC(t,e){return t&&Object.assign(e||{},t)}function VE(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ha(t[3]))):(e=YC(t,{r:0,g:0,b:0,a:1}),e.a=ha(e.a)),e}function Vq(t){return t.charAt(0)==="r"?Iq(t):Nq(t)}class Vd{constructor(e){if(e instanceof Vd)return e;const n=typeof e;let i;n==="object"?i=VE(e):n==="string"&&(i=vq(e)||Dq(e)||Vq(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=YC(this._rgb);return e&&(e.a=lr(e.a)),e}set rgb(e){this._rgb=VE(e)}rgbString(){return this._valid?Oq(this._rgb):void 0}hexString(){return this._valid?wq(this._rgb):void 0}hslString(){return this._valid?Cq(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let o;const l=n===o?.5:n,u=2*l-1,h=i.a-s.a,m=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;o=1-m,i.r=255&m*i.r+o*s.r+.5,i.g=255&m*i.g+o*s.g+.5,i.b=255&m*i.b+o*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Pq(this._rgb,e._rgb,n)),this}clone(){return new Vd(this.rgb)}alpha(e){return this._rgb.a=ha(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=uh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Kf(this._rgb,2,e),this}darken(e){return Kf(this._rgb,2,-e),this}saturate(e){return Kf(this._rgb,1,e),this}desaturate(e){return Kf(this._rgb,1,-e),this}rotate(e){return jq(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function rr(){}const Lq=(()=>{let t=0;return()=>t++})();function ft(t){return t==null}function en(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Xe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ci(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function fs(t,e){return Ci(t)?t:e}function Je(t,e){return typeof t>"u"?e:t}const Uq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function pt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function rt(t,e,n,i){let s,o,l;if(en(t))for(o=t.length,s=0;s<o;s++)e.call(n,t[s],s);else if(Xe(t))for(l=Object.keys(t),o=l.length,s=0;s<o;s++)e.call(n,t[l[s]],l[s])}function ng(t,e){let n,i,s,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],o=e[n],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function ig(t){if(en(t))return t.map(ig);if(Xe(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=ig(t[n[s]]);return e}return t}function KC(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Bq(t,e,n,i){if(!KC(t))return;const s=e[t],o=n[t];Xe(s)&&Xe(o)?Ld(s,o,i):e[t]=ig(o)}function Ld(t,e,n){const i=en(e)?e:[e],s=i.length;if(!Xe(t))return t;n=n||{};const o=n.merger||Bq;let l;for(let u=0;u<s;++u){if(l=i[u],!Xe(l))continue;const h=Object.keys(l);for(let m=0,p=h.length;m<p;++m)o(h[m],t,l,n)}return t}function ud(t,e){return Ld(t,e,{merger:Fq})}function Fq(t,e,n){if(!KC(t))return;const i=e[t],s=n[t];Xe(i)&&Xe(s)?ud(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ig(s))}const LE={"":t=>t,x:t=>t.x,y:t=>t.y};function zq(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Hq(t){const e=zq(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function gc(t,e){return(LE[e]||(LE[e]=Hq(e)))(t)}function Xb(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ud=t=>typeof t<"u",Ta=t=>typeof t=="function",UE=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function qq(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Pn=Math.PI,fa=2*Pn,sg=Number.POSITIVE_INFINITY,$q=Pn/180,$i=Pn/2,co=Pn/4,BE=Pn*2/3,XC=Math.log10,ma=Math.sign;function Tm(t,e,n){return Math.abs(t-e)<n}function FE(t){const e=Math.round(t);t=Tm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(XC(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Gq(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,o)=>s-o).pop(),e}function Wq(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function rg(t){return!Wq(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Yq(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Kq(t,e,n){let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function wo(t){return t*(Pn/180)}function Xq(t){return t*(180/Pn)}function zE(t){if(!Ci(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Qq(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Pn&&(o+=fa),{angle:o,distance:s}}function Zq(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function uo(t){return(t%fa+fa)%fa}function Jq(t,e,n,i){const s=uo(t),o=uo(e),l=uo(n),u=uo(o-s),h=uo(l-s),m=uo(s-o),p=uo(s-l);return s===o||s===l||i||u>h&&m<p}function Gi(t,e,n){return Math.max(e,Math.min(n,t))}function e$(t){return Gi(t,-32768,32767)}function Yl(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Qb(t,e,n){n=n||(l=>t[l]<e);let i=t.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,n(o)?s=o:i=o;return{lo:s,hi:i}}const tv=(t,e,n,i)=>Qb(t,n,i?s=>{const o=t[s][e];return o<n||o===n&&t[s+1][e]===n}:s=>t[s][e]<n),t$=(t,e,n)=>Qb(t,n,i=>t[i][e]>=n);function n$(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const QC=["push","pop","shift","splice","unshift"];function i$(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),QC.forEach(n=>{const i="_onData"+Xb(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const l=s.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function HE(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(QC.forEach(o=>{delete t[o]}),delete t._chartjs)}function ZC(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const JC=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function e4(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,JC.call(window,()=>{i=!1,t.apply(e,n)}))}}function s$(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Zb=t=>t==="start"?"left":t==="end"?"right":"center",Rn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,r$=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Xf=t=>t===0||t===1,qE=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*fa/n)),$E=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*fa/n)+1,dd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*$i)+1,easeOutSine:t=>Math.sin(t*$i),easeInOutSine:t=>-.5*(Math.cos(Pn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Xf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Xf(t)?t:qE(t,.075,.3),easeOutElastic:t=>Xf(t)?t:$E(t,.075,.3),easeInOutElastic(t){return Xf(t)?t:t<.5?.5*qE(t*2,.1125,.45):.5+.5*$E(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-dd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?dd.easeInBounce(t*2)*.5:dd.easeOutBounce(t*2-1)*.5+.5};function t4(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function GE(t){return t4(t)?t:new Vd(t)}function ky(t){return t4(t)?t:new Vd(t).saturate(.5).darken(.1).hexString()}const a$=["x","y","borderWidth","radius","tension"],o$=["color","borderColor","backgroundColor"];function l$(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:o$},numbers:{type:"number",properties:a$}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function c$(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const WE=new Map;function u$(t,e){e=e||{};const n=t+JSON.stringify(e);let i=WE.get(n);return i||(i=new Intl.NumberFormat(t,e),WE.set(n,i)),i}function n4(t,e,n){return u$(e,n).format(t)}const d$={values(t){return en(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(s="scientific"),o=h$(t,n)}const l=XC(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),n4(t,i,h)}};function h$(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var i4={formatters:d$};function f$(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:i4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Oo=Object.create(null),nv=Object.create(null);function hd(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function Ay(t,e,n){return typeof e=="string"?Ld(hd(t,e),n):Ld(hd(t,""),e)}class m${constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>ky(s.backgroundColor),this.hoverBorderColor=(i,s)=>ky(s.borderColor),this.hoverColor=(i,s)=>ky(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ay(this,e,n)}get(e){return hd(this,e)}describe(e,n){return Ay(nv,e,n)}override(e,n){return Ay(Oo,e,n)}route(e,n,i,s){const o=hd(this,e),l=hd(this,i),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[u],m=l[s];return Xe(h)?Object.assign({},m,h):Je(h,m)},set(h){this[u]=h}}})}apply(e){e.forEach(n=>n(this))}}var Lt=new m$({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[l$,c$,f$]);function g$(t){return!t||ft(t.size)||ft(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function YE(t,e,n,i,s){let o=e[s];return o||(o=e[s]=t.measureText(s).width,n.push(s)),o>i&&(i=o),i}function ho(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function KE(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function XE(t,e,n,i){s4(t,e,n,i,null)}function s4(t,e,n,i,s){let o,l,u,h,m,p,x,b;const _=e.pointStyle,A=e.rotation,R=e.radius;let C=(A||0)*$q;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(C),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(R)||R<=0)){switch(t.beginPath(),_){default:s?t.ellipse(n,i,s/2,R,0,0,fa):t.arc(n,i,R,0,fa),t.closePath();break;case"triangle":p=s?s/2:R,t.moveTo(n+Math.sin(C)*p,i-Math.cos(C)*R),C+=BE,t.lineTo(n+Math.sin(C)*p,i-Math.cos(C)*R),C+=BE,t.lineTo(n+Math.sin(C)*p,i-Math.cos(C)*R),t.closePath();break;case"rectRounded":m=R*.516,h=R-m,l=Math.cos(C+co)*h,x=Math.cos(C+co)*(s?s/2-m:h),u=Math.sin(C+co)*h,b=Math.sin(C+co)*(s?s/2-m:h),t.arc(n-x,i-u,m,C-Pn,C-$i),t.arc(n+b,i-l,m,C-$i,C),t.arc(n+x,i+u,m,C,C+$i),t.arc(n-b,i+l,m,C+$i,C+Pn),t.closePath();break;case"rect":if(!A){h=Math.SQRT1_2*R,p=s?s/2:h,t.rect(n-p,i-h,2*p,2*h);break}C+=co;case"rectRot":x=Math.cos(C)*(s?s/2:R),l=Math.cos(C)*R,u=Math.sin(C)*R,b=Math.sin(C)*(s?s/2:R),t.moveTo(n-x,i-u),t.lineTo(n+b,i-l),t.lineTo(n+x,i+u),t.lineTo(n-b,i+l),t.closePath();break;case"crossRot":C+=co;case"cross":x=Math.cos(C)*(s?s/2:R),l=Math.cos(C)*R,u=Math.sin(C)*R,b=Math.sin(C)*(s?s/2:R),t.moveTo(n-x,i-u),t.lineTo(n+x,i+u),t.moveTo(n+b,i-l),t.lineTo(n-b,i+l);break;case"star":x=Math.cos(C)*(s?s/2:R),l=Math.cos(C)*R,u=Math.sin(C)*R,b=Math.sin(C)*(s?s/2:R),t.moveTo(n-x,i-u),t.lineTo(n+x,i+u),t.moveTo(n+b,i-l),t.lineTo(n-b,i+l),C+=co,x=Math.cos(C)*(s?s/2:R),l=Math.cos(C)*R,u=Math.sin(C)*R,b=Math.sin(C)*(s?s/2:R),t.moveTo(n-x,i-u),t.lineTo(n+x,i+u),t.moveTo(n+b,i-l),t.lineTo(n-b,i+l);break;case"line":l=s?s/2:Math.cos(C)*R,u=Math.sin(C)*R,t.moveTo(n-l,i-u),t.lineTo(n+l,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(C)*(s?s/2:R),i+Math.sin(C)*R);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function r4(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Jb(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function e1(t){t.restore()}function p$(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ft(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function y$(t,e,n,i,s){if(s.strikethrough||s.underline){const o=t.measureText(i),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,h=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,p=s.strikethrough?(h+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(l,p),t.lineTo(u,p),t.stroke()}}function x$(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Bd(t,e,n,i,s,o={}){const l=en(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let h,m;for(t.save(),t.font=s.string,p$(t,o),h=0;h<l.length;++h)m=l[h],o.backdrop&&x$(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),ft(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,i,o.maxWidth)),t.fillText(m,n,i,o.maxWidth),y$(t,n,i,m,o),i+=Number(s.lineHeight);t.restore()}function ag(t,e){const{x:n,y:i,w:s,h:o,radius:l}=e;t.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*Pn,Pn,!0),t.lineTo(n,i+o-l.bottomLeft),t.arc(n+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Pn,$i,!0),t.lineTo(n+s-l.bottomRight,i+o),t.arc(n+s-l.bottomRight,i+o-l.bottomRight,l.bottomRight,$i,0,!0),t.lineTo(n+s,i+l.topRight),t.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-$i,!0),t.lineTo(n+l.topLeft,i)}const v$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,b$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function w$(t,e){const n=(""+t).match(v$);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const _$=t=>+t||0;function a4(t,e){const n={},i=Xe(e),s=i?Object.keys(e):e,o=Xe(t)?i?l=>Je(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of s)n[l]=_$(o(l));return n}function o4(t){return a4(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ec(t){return a4(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ri(t){const e=o4(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function On(t,e){t=t||{},e=e||Lt.font;let n=Je(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Je(t.style,e.style);i&&!(""+i).match(b$)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Je(t.family,e.family),lineHeight:w$(Je(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Je(t.weight,e.weight),string:""};return s.string=g$(s),s}function Qf(t,e,n,i){let s,o,l;for(s=0,o=t.length;s<o;++s)if(l=t[s],l!==void 0&&l!==void 0)return l}function T$(t,e,n){const{min:i,max:s}=t,o=Uq(e,(s-i)/2),l=(u,h)=>n&&u===0?0:u+h;return{min:l(i,-Math.abs(o)),max:l(s,o)}}function Cc(t,e){return Object.assign(Object.create(t),e)}function t1(t,e=[""],n,i,s=()=>t[0]){const o=n||t;typeof i>"u"&&(i=d4("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:s,override:u=>t1([u,...t],e,o,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete t[0][h],!0},get(u,h){return c4(u,h,()=>R$(h,e,t,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,h){return ZE(u).includes(h)},ownKeys(u){return ZE(u)},set(u,h,m){const p=u._storage||(u._storage=s());return u[h]=p[h]=m,delete u._keys,!0}})}function pc(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:l4(t,i),setContext:o=>pc(t,o,n,i),override:o=>pc(t.override(o),e,n,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete t[l],!0},get(o,l,u){return c4(o,l,()=>E$(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(o,l,u){return t[l]=u,delete o[l],!0}})}function l4(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ta(n)?n:()=>n,isIndexable:Ta(i)?i:()=>i}}const S$=(t,e)=>t?t+Xb(e):e,n1=(t,e)=>Xe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function c4(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function E$(t,e,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=t;let u=i[e];return Ta(u)&&l.isScriptable(e)&&(u=k$(e,u,t,n)),en(u)&&u.length&&(u=A$(e,u,t,l.isIndexable)),n1(e,u)&&(u=pc(u,s,o&&o[e],l)),u}function k$(t,e,n,i){const{_proxy:s,_context:o,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let h=e(o,l||i);return u.delete(t),n1(t,h)&&(h=i1(s._scopes,s,t,h)),h}function A$(t,e,n,i){const{_proxy:s,_context:o,_subProxy:l,_descriptors:u}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(Xe(e[0])){const h=e,m=s._scopes.filter(p=>p!==h);e=[];for(const p of h){const x=i1(m,s,t,p);e.push(pc(x,o,l&&l[t],u))}}return e}function u4(t,e,n){return Ta(t)?t(e,n):t}const N$=(t,e)=>t===!0?e:typeof t=="string"?gc(e,t):void 0;function j$(t,e,n,i,s){for(const o of e){const l=N$(n,o);if(l){t.add(l);const u=u4(l._fallback,n,s);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function i1(t,e,n,i){const s=e._rootScopes,o=u4(e._fallback,n,i),l=[...t,...s],u=new Set;u.add(i);let h=QE(u,l,n,o||n,i);return h===null||typeof o<"u"&&o!==n&&(h=QE(u,l,o,h,i),h===null)?!1:t1(Array.from(u),[""],s,o,()=>C$(e,n,i))}function QE(t,e,n,i,s){for(;n;)n=j$(t,e,n,i,s);return n}function C$(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return en(s)&&Xe(n)?n:s||{}}function R$(t,e,n,i){let s;for(const o of e)if(s=d4(S$(o,t),n),typeof s<"u")return n1(t,s)?i1(n,i,t,s):s}function d4(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function ZE(t){let e=t._keys;return e||(e=t._keys=D$(t._scopes)),e}function D$(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function s1(){return typeof window<"u"&&typeof document<"u"}function r1(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function og(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Fg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function M$(t,e){return Fg(t).getPropertyValue(e)}const I$=["top","right","bottom","left"];function No(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const o=I$[s];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const O$=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function P$(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:o}=i;let l=!1,u,h;if(O$(s,o,t.target))u=s,h=o;else{const m=e.getBoundingClientRect();u=i.clientX-m.left,h=i.clientY-m.top,l=!0}return{x:u,y:h,box:l}}function po(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Fg(n),o=s.boxSizing==="border-box",l=No(s,"padding"),u=No(s,"border","width"),{x:h,y:m,box:p}=P$(t,n),x=l.left+(p&&u.left),b=l.top+(p&&u.top);let{width:_,height:A}=e;return o&&(_-=l.width+u.width,A-=l.height+u.height),{x:Math.round((h-x)/_*n.width/i),y:Math.round((m-b)/A*n.height/i)}}function V$(t,e,n){let i,s;if(e===void 0||n===void 0){const o=t&&r1(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const l=o.getBoundingClientRect(),u=Fg(o),h=No(u,"border","width"),m=No(u,"padding");e=l.width-m.width-h.width,n=l.height-m.height-h.height,i=og(u.maxWidth,o,"clientWidth"),s=og(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||sg,maxHeight:s||sg}}const Zf=t=>Math.round(t*10)/10;function L$(t,e,n,i){const s=Fg(t),o=No(s,"margin"),l=og(s.maxWidth,t,"clientWidth")||sg,u=og(s.maxHeight,t,"clientHeight")||sg,h=V$(t,e,n);let{width:m,height:p}=h;if(s.boxSizing==="content-box"){const b=No(s,"border","width"),_=No(s,"padding");m-=_.width+b.width,p-=_.height+b.height}return m=Math.max(0,m-o.width),p=Math.max(0,i?m/i:p-o.height),m=Zf(Math.min(m,l,h.maxWidth)),p=Zf(Math.min(p,u,h.maxHeight)),m&&!p&&(p=Zf(m/2)),(e!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,m=Zf(Math.floor(p*i))),{width:m,height:p}}function JE(t,e,n){const i=e||1,s=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==s||l.width!==o?(t.currentDevicePixelRatio=i,l.height=s,l.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const U$=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};s1()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function ek(t,e){const n=M$(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const B$=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},F$=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function tc(t,e,n){return t?B$(e,n):F$()}function h4(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function f4(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Jf(t,e,n){return t.options.clip?t[n]:e[n]}function z$(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Jf(n,e,"left"),right:Jf(n,e,"right"),top:Jf(i,e,"top"),bottom:Jf(i,e,"bottom")}:e}function H$(t,e){const n=e._clip;if(n.disabled)return!1;const i=z$(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class q${constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const o=n.listeners[s],l=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=JC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(s.draw(),this._notify(s,i,e,"progress")),o.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ar=new q$;const tk="transparent",$$={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=GE(t||tk),s=i.valid&&GE(e||tk);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class G${constructor(e,n,i,s){const o=n[i];s=Qf([e.to,s,o,e.from]);const l=Qf([e.from,o,s]);this._active=!0,this._fn=e.fn||$$[e.type||typeof l],this._easing=dd[e.easing]||dd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Qf([e.to,n,s,e.from]),this._from=Qf([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,o=this._from,l=this._loop,u=this._to;let h;if(this._active=o!==u&&(l||n<i),!this._active){this._target[s]=u,this._notify(!0);return}if(n<0){this._target[s]=o;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(o,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class m4{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Xe(e))return;const n=Object.keys(Lt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!Xe(o))return;const l={};for(const u of n)l[u]=o[u];(en(o.properties)&&o.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,n){const i=n.options,s=Y$(e,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&W$(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,s=[],o=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const m=l[h];if(m.charAt(0)==="$")continue;if(m==="options"){s.push(...this._animateOptions(e,n));continue}const p=n[m];let x=o[m];const b=i.get(m);if(x)if(b&&x.active()){x.update(b,p,u);continue}else x.cancel();if(!b||!b.duration){e[m]=p;continue}o[m]=x=new G$(b,e,m,p),s.push(x)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ar.add(this._chart,i),!0}}function W$(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const o=t[i[s]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function Y$(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function nk(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:s,end:i?s:o}}function K$(t,e,n){if(n===!1)return!1;const i=nk(t,n),s=nk(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function X$(t){let e,n,i,s;return Xe(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function g4(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,o;for(s=0,o=i.length;s<o;++s)n.push(i[s].index);return n}function ik(t,e,n,i={}){const s=t.keys,o=i.mode==="single";let l,u,h,m;if(e===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}m=t.values[h],Ci(m)&&(o||e===0||ma(e)===ma(m))&&(e+=m)}return!p&&!i.all?0:e}function Q$(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let h,m,p;for(h=0,m=l.length;h<m;++h)p=l[h],u[h]={[s]:p,[o]:t[p]};return u}function Ny(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Z$(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function J$(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function eG(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function sk(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const o=t[s.index];if(n&&o>0||!n&&o<0)return s.index}return null}function rk(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:u}=i,h=o.axis,m=l.axis,p=Z$(o,l,i),x=e.length;let b;for(let _=0;_<x;++_){const A=e[_],{[h]:R,[m]:C}=A,L=A._stacks||(A._stacks={});b=L[m]=eG(s,p,R),b[u]=C,b._top=sk(b,l,!0,i.type),b._bottom=sk(b,l,!1,i.type);const U=b._visualValues||(b._visualValues={});U[u]=C}}function jy(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function tG(t,e){return Cc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function nG(t,e,n){return Cc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Pu(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const o=s._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Cy=t=>t==="reset"||t==="none",ak=(t,e)=>e?t:Object.assign({},t),iG=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:g4(n,!0),values:null};class p4{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ny(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(x,b,_,A)=>x==="x"?b:x==="r"?A:_,o=n.xAxisID=Je(i.xAxisID,jy(e,"x")),l=n.yAxisID=Je(i.yAxisID,jy(e,"y")),u=n.rAxisID=Je(i.rAxisID,jy(e,"r")),h=n.indexAxis,m=n.iAxisID=s(h,o,l,u),p=n.vAxisID=s(h,l,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&HE(this._data,this),e._stacked&&Pu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Xe(n)){const s=this._cachedMeta;this._data=Q$(n,s)}else if(i!==n){if(i){HE(i,this);const s=this._cachedMeta;Pu(s),s._parsed=[]}n&&Object.isExtensible(n)&&i$(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=Ny(n.vScale,n),n.stack!==i.stack&&(s=!0,Pu(n),n.stack=i.stack),this._resyncElements(e),(s||o!==n._stacked)&&(rk(this,n._parsed),n._stacked=Ny(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:l}=i,u=o.axis;let h=e===0&&n===s.length?!0:i._sorted,m=e>0&&i._parsed[e-1],p,x,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{en(s[e])?b=this.parseArrayData(i,s,e,n):Xe(s[e])?b=this.parseObjectData(i,s,e,n):b=this.parsePrimitiveData(i,s,e,n);const _=()=>x[u]===null||m&&x[u]<m[u];for(p=0;p<n;++p)i._parsed[p+e]=x=b[p],h&&(_()&&(h=!1),m=x);i._sorted=h}l&&rk(this,b)}parsePrimitiveData(e,n,i,s){const{iScale:o,vScale:l}=e,u=o.axis,h=l.axis,m=o.getLabels(),p=o===l,x=new Array(s);let b,_,A;for(b=0,_=s;b<_;++b)A=b+i,x[b]={[u]:p||o.parse(m[A],A),[h]:l.parse(n[A],A)};return x}parseArrayData(e,n,i,s){const{xScale:o,yScale:l}=e,u=new Array(s);let h,m,p,x;for(h=0,m=s;h<m;++h)p=h+i,x=n[p],u[h]={x:o.parse(x[0],p),y:l.parse(x[1],p)};return u}parseObjectData(e,n,i,s){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=new Array(s);let p,x,b,_;for(p=0,x=s;p<x;++p)b=p+i,_=n[b],m[p]={x:o.parse(gc(_,u),b),y:l.parse(gc(_,h),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,o=this._cachedMeta,l=n[e.axis],u={keys:g4(s,!0),values:n._stacks[e.axis]._visualValues};return ik(u,l,o.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const o=i[n.axis];let l=o===null?NaN:o;const u=s&&i._stacks[n.axis];s&&u&&(s.values=u,l=ik(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&e===i.iScale,l=s.length,u=this._getOtherScale(e),h=iG(n,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=J$(u);let b,_;function A(){_=s[b];const R=_[u.axis];return!Ci(_[e.axis])||p>R||x<R}for(b=0;b<l&&!(!A()&&(this.updateRangeFromParsed(m,e,_,h),o));++b);if(o){for(b=l-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(m,e,_,h);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,o,l;for(s=0,o=n.length;s<o;++s)l=n[s][e.axis],Ci(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=X$(Je(this.options.clip,K$(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],o=n.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,m=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,o,u,h),p=u;p<u+h;++p){const x=s[p];x.hidden||(x.active&&m?l.push(x):x.draw(e,o))}for(p=0;p<l.length;++p)l[p].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=nG(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=tG(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",o=this._cachedDataOpts,l=e+"-"+n,u=o[l],h=this.enableOptionSharing&&Ud(i);if(u)return ak(u,h);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,e),x=s?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),p),_=Object.keys(Lt.elements[e]),A=()=>this.getContext(i,s,n),R=m.resolveNamedOptions(b,_,A,x);return R.$shared&&(R.$shared=h,o[l]=Object.freeze(ak(R,h))),R}_resolveAnimations(e,n,i){const s=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,u=o[l];if(u)return u;let h;if(s.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),x);h=p.createResolver(b,this.getContext(e,i,n))}const m=new m4(s,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Cy(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:l}}updateElement(e,n,i,s){Cy(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Cy(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,h,m]of this._syncList)this[u](h,m);this._syncList=[];const s=i.length,o=n.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,n,i=!0){const s=this._cachedMeta,o=s.data,l=e+n;let u;const h=m=>{for(m.length+=n,u=m.length-1;u>=l;u--)m[u]=m[u-n]};for(h(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Pu(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function sG(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,o=n.length;s<o;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=ZC(i.sort((s,o)=>s-o))}return t._cache.$bar}function rG(t){const e=t.iScale,n=sG(e,t.type);let i=e._length,s,o,l,u;const h=()=>{l===32767||l===-32768||(Ud(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,o=n.length;s<o;++s)l=e.getPixelForValue(n[s]),h();for(u=void 0,s=0,o=e.ticks.length;s<o;++s)l=e.getPixelForTick(s),h();return i}function aG(t,e,n,i){const s=n.barThickness;let o,l;return ft(s)?(o=e.min*n.categoryPercentage,l=n.barPercentage):(o=s*i,l=1),{chunk:o/i,ratio:l,start:e.pixels[t]-o/2}}function oG(t,e,n,i){const s=e.pixels,o=s[t];let l=t>0?s[t-1]:null,u=t<s.length-1?s[t+1]:null;const h=n.categoryPercentage;l===null&&(l=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-l);const m=o-(o-Math.min(l,u))/2*h;return{chunk:Math.abs(u-l)/2*h/i,ratio:n.barPercentage,start:m}}function lG(t,e,n,i){const s=n.parse(t[0],i),o=n.parse(t[1],i),l=Math.min(s,o),u=Math.max(s,o);let h=l,m=u;Math.abs(l)>Math.abs(u)&&(h=u,m=l),e[n.axis]=m,e._custom={barStart:h,barEnd:m,start:s,end:o,min:l,max:u}}function y4(t,e,n,i){return en(t)?lG(t,e,n,i):e[n.axis]=n.parse(t,i),e}function ok(t,e,n,i){const s=t.iScale,o=t.vScale,l=s.getLabels(),u=s===o,h=[];let m,p,x,b;for(m=n,p=n+i;m<p;++m)b=e[m],x={},x[s.axis]=u||s.parse(l[m],m),h.push(y4(b,x,o,m));return h}function Ry(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function cG(t,e,n){return t!==0?ma(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function uG(t){let e,n,i,s,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",o="start"):(s="start",o="end"),{start:n,end:i,reverse:e,top:s,bottom:o}}function dG(t,e,n,i){let s=e.borderSkipped;const o={};if(!s){t.borderSkipped=o;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:h,top:m,bottom:p}=uG(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=m:(n._bottom||0)===i?s=p:(o[lk(p,l,u,h)]=!0,s=m)),o[lk(s,l,u,h)]=!0,t.borderSkipped=o}function lk(t,e,n,i){return i?(t=hG(t,e,n),t=ck(t,n,e)):t=ck(t,e,n),t}function hG(t,e,n){return t===e?n:t===n?e:t}function ck(t,e,n){return t==="start"?e:t==="end"?n:t}function fG(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class mG extends p4{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,s){return ok(e,n,i,s)}parseArrayData(e,n,i,s){return ok(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:o,vScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=o.axis==="x"?u:h,p=l.axis==="x"?u:h,x=[];let b,_,A,R;for(b=i,_=i+s;b<_;++b)R=n[b],A={},A[o.axis]=o.parse(gc(R,m),b),x.push(y4(gc(R,p),A,l,b));return x}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const o=i._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,o=this.getParsed(e),l=o._custom,u=Ry(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const o=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),m=u.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:b}=this._getSharedOptions(n,s);for(let _=n;_<n+i;_++){const A=this.getParsed(_),R=o||ft(A[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(_),C=this._calculateBarIndexPixels(_,p),L=(A._stacks||{})[u.axis],U={horizontal:m,base:R.base,enableBorderRadius:!L||Ry(A._custom)||l===L._top||l===L._bottom,x:m?R.head:C.center,y:m?C.center:R.head,height:m?C.size:Math.abs(R.size),width:m?Math.abs(R.size):C.size};b&&(U.options=x||this.resolveDataElementOptions(_,e[_].active?"active":s));const F=U.options||e[_].options;dG(U,F,L,l),fG(U,F,p.ratio),this.updateElement(e[_],_,U,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),h=u&&u[i.axis],m=p=>{const x=p._parsed.find(_=>_[i.axis]===h),b=x&&x[p.vScale.axis];if(ft(b)||isNaN(b))return!0};for(const p of s)if(!(n!==void 0&&m(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Je(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const s=this._getStacks(e,i),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let o,l;for(o=0,l=n.data.length;o<l;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=e.barThickness;return{min:u||rG(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:o,minBarLength:l}}=this,u=o||0,h=this.getParsed(e),m=h._custom,p=Ry(m);let x=h[n.axis],b=0,_=i?this.applyStack(n,h,i):x,A,R;_!==x&&(b=_-x,_=x),p&&(x=m.barStart,_=m.barEnd-m.barStart,x!==0&&ma(x)!==ma(m.barEnd)&&(b=0),b+=x);const C=!ft(o)&&!p?o:b;let L=n.getPixelForValue(C);if(this.chart.getDataVisibility(e)?A=n.getPixelForValue(b+_):A=L,R=A-L,Math.abs(R)<l){R=cG(R,n,u)*l,x===u&&(L-=R/2);const U=n.getPixelForDecimal(0),F=n.getPixelForDecimal(1),G=Math.min(U,F),Q=Math.max(U,F);L=Math.max(Math.min(L,Q),G),A=L+R,i&&!p&&(h._stacks[n.axis]._visualValues[s]=n.getValueForPixel(A)-n.getValueForPixel(L))}if(L===n.getPixelForValue(u)){const U=ma(R)*n.getLineWidthForValue(u)/2;L+=U,R-=U}return{size:R,base:L,head:A,center:A+R/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,o=s.skipNull,l=Je(s.maxBarThickness,1/0);let u,h;const m=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(e):n.stackCount,x=s.barThickness==="flex"?oG(e,n,s,p*m):aG(e,n,s,p*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Je(b,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+_;u=x.start+x.chunk*A+x.chunk/2,h=Math.min(l,x.chunk*x.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,n.min*n.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class a1{static override(e){Object.assign(a1.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return fo()}parse(){return fo()}format(){return fo()}add(){return fo()}diff(){return fo()}startOf(){return fo()}endOf(){return fo()}}var gG={_date:a1};function pG(t,e,n,i){const{controller:s,data:o,_sorted:l}=t,u=s._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const m=u._reversePixels?t$:tv;if(i){if(s._sharedOptions){const p=o[0],x=typeof p.getRange=="function"&&p.getRange(e);if(x){const b=m(o,e,n-x),_=m(o,e,n+x);return{lo:b.lo,hi:_.hi}}}}else{const p=m(o,e,n);if(h){const{vScale:x}=s._cachedMeta,{_parsed:b}=t,_=b.slice(0,p.lo+1).reverse().findIndex(R=>!ft(R[x.axis]));p.lo-=Math.max(0,_);const A=b.slice(p.hi).findIndex(R=>!ft(R[x.axis]));p.hi+=Math.max(0,A)}return p}}return{lo:0,hi:o.length-1}}function zg(t,e,n,i,s){const o=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,h=o.length;u<h;++u){const{index:m,data:p}=o[u],{lo:x,hi:b}=pG(o[u],e,l,s);for(let _=x;_<=b;++_){const A=p[_];A.skip||i(A,m,_)}}}function yG(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const o=e?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Dy(t,e,n,i,s){const o=[];return!s&&!t.isPointInArea(e)||zg(t,n,e,function(u,h,m){!s&&!r4(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:h,index:m})},!0),o}function xG(t,e,n,i){let s=[];function o(l,u,h){const{startAngle:m,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:x}=Qq(l,{x:e.x,y:e.y});Jq(x,m,p)&&s.push({element:l,datasetIndex:u,index:h})}return zg(t,n,e,o),s}function vG(t,e,n,i,s,o){let l=[];const u=yG(n);let h=Number.POSITIVE_INFINITY;function m(p,x,b){const _=p.inRange(e.x,e.y,s);if(i&&!_)return;const A=p.getCenterPoint(s);if(!(!!o||t.isPointInArea(A))&&!_)return;const C=u(e,A);C<h?(l=[{element:p,datasetIndex:x,index:b}],h=C):C===h&&l.push({element:p,datasetIndex:x,index:b})}return zg(t,n,e,m),l}function My(t,e,n,i,s,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?xG(t,e,n,s):vG(t,e,n,i,s,o)}function uk(t,e,n,i,s){const o=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return zg(t,n,e,(h,m,p)=>{h[l]&&h[l](e[n],s)&&(o.push({element:h,datasetIndex:m,index:p}),u=u||h.inRange(e.x,e.y,s))}),i&&!u?[]:o}var bG={modes:{index(t,e,n,i){const s=po(e,t),o=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?Dy(t,s,o,i,l):My(t,s,o,!1,i,l),h=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const p=u[0].index,x=m.data[p];x&&!x.skip&&h.push({element:x,datasetIndex:m.index,index:p})}),h):[]},dataset(t,e,n,i){const s=po(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?Dy(t,s,o,i,l):My(t,s,o,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,m=t.getDatasetMeta(h).data;u=[];for(let p=0;p<m.length;++p)u.push({element:m[p],datasetIndex:h,index:p})}return u},point(t,e,n,i){const s=po(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return Dy(t,s,o,i,l)},nearest(t,e,n,i){const s=po(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return My(t,s,o,n.intersect,i,l)},x(t,e,n,i){const s=po(e,t);return uk(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=po(e,t);return uk(t,s,"y",n.intersect,i)}}};const x4=["left","top","right","bottom"];function Vu(t,e){return t.filter(n=>n.pos===e)}function dk(t,e){return t.filter(n=>x4.indexOf(n.pos)===-1&&n.box.axis===e)}function Lu(t,e){return t.sort((n,i)=>{const s=e?i:n,o=e?n:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function wG(t){const e=[];let n,i,s,o,l,u;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:o,options:{stack:l,stackWeight:u=1}}=s,e.push({index:n,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&o+l,stackWeight:u});return e}function _G(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:o}=n;if(!i||!x4.includes(s))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function TG(t,e){const n=_G(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let o,l,u;for(o=0,l=t.length;o<l;++o){u=t[o];const{fullSize:h}=u.box,m=n[u.stack],p=m&&u.stackWeight/m.weight;u.horizontal?(u.width=p?p*i:h&&e.availableWidth,u.height=s):(u.width=i,u.height=p?p*s:h&&e.availableHeight)}return n}function SG(t){const e=wG(t),n=Lu(e.filter(m=>m.box.fullSize),!0),i=Lu(Vu(e,"left"),!0),s=Lu(Vu(e,"right")),o=Lu(Vu(e,"top"),!0),l=Lu(Vu(e,"bottom")),u=dk(e,"x"),h=dk(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:s.concat(h).concat(l).concat(u),chartArea:Vu(e,"chartArea"),vertical:i.concat(s).concat(h),horizontal:o.concat(l).concat(u)}}function hk(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function v4(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function EG(t,e,n,i){const{pos:s,box:o}=n,l=t.maxPadding;if(!Xe(s)){n.size&&(t[s]-=n.size);const x=i[n.stack]||{size:0,count:1};x.size=Math.max(x.size,n.horizontal?o.height:o.width),n.size=x.size/x.count,t[s]+=n.size}o.getPadding&&v4(l,o.getPadding());const u=Math.max(0,e.outerWidth-hk(l,t,"left","right")),h=Math.max(0,e.outerHeight-hk(l,t,"top","bottom")),m=u!==t.w,p=h!==t.h;return t.w=u,t.h=h,n.horizontal?{same:m,other:p}:{same:p,other:m}}function kG(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function AG(t,e){const n=e.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{o[l]=Math.max(e[l],n[l])}),o}return i(t?["left","right"]:["top","bottom"])}function Ku(t,e,n,i){const s=[];let o,l,u,h,m,p;for(o=0,l=t.length,m=0;o<l;++o){u=t[o],h=u.box,h.update(u.width||e.w,u.height||e.h,AG(u.horizontal,e));const{same:x,other:b}=EG(e,n,u,i);m|=x&&s.length,p=p||b,h.fullSize||s.push(u)}return m&&Ku(s,e,n,i)||p}function em(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function fk(t,e,n,i){const s=n.padding;let{x:o,y:l}=e;for(const u of t){const h=u.box,m=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/m.weight||1;if(u.horizontal){const x=e.w*p,b=m.size||h.height;Ud(m.start)&&(l=m.start),h.fullSize?em(h,s.left,l,n.outerWidth-s.right-s.left,b):em(h,e.left+m.placed,l,x,b),m.start=l,m.placed+=x,l=h.bottom}else{const x=e.h*p,b=m.size||h.width;Ud(m.start)&&(o=m.start),h.fullSize?em(h,o,s.top,b,n.outerHeight-s.bottom-s.top):em(h,o,e.top+m.placed,b,x),m.start=o,m.placed+=x,o=h.right}}e.x=o,e.y=l}var Ai={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Ri(t.options.layout.padding),o=Math.max(e-s.width,0),l=Math.max(n-s.height,0),u=SG(t.boxes),h=u.vertical,m=u.horizontal;rt(t.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const p=h.reduce((R,C)=>C.box.options&&C.box.options.display===!1?R:R+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},s);v4(b,Ri(i));const _=Object.assign({maxPadding:b,w:o,h:l,x:s.left,y:s.top},s),A=TG(h.concat(m),x);Ku(u.fullSize,_,x,A),Ku(h,_,x,A),Ku(m,_,x,A)&&Ku(h,_,x,A),kG(_),fk(u.leftAndTop,_,x,A),_.x+=_.w,_.y+=_.h,fk(u.rightAndBottom,_,x,A),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},rt(u.chartArea,R=>{const C=R.box;Object.assign(C,t.chartArea),C.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class b4{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class NG extends b4{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Sm="$chartjs",jG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mk=t=>t===null||t==="";function CG(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Sm]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mk(s)){const o=ek(t,"width");o!==void 0&&(t.width=o)}if(mk(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=ek(t,"height");o!==void 0&&(t.height=o)}return t}const w4=U$?{passive:!0}:!1;function RG(t,e,n){t&&t.addEventListener(e,n,w4)}function DG(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,w4)}function MG(t,e){const n=jG[t.type]||t.type,{x:i,y:s}=po(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function lg(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function IG(t,e,n){const i=t.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||lg(u.addedNodes,i),l=l&&!lg(u.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function OG(t,e,n){const i=t.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||lg(u.removedNodes,i),l=l&&!lg(u.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Fd=new Map;let gk=0;function _4(){const t=window.devicePixelRatio;t!==gk&&(gk=t,Fd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function PG(t,e){Fd.size||window.addEventListener("resize",_4),Fd.set(t,e)}function VG(t){Fd.delete(t),Fd.size||window.removeEventListener("resize",_4)}function LG(t,e,n){const i=t.canvas,s=i&&r1(i);if(!s)return;const o=e4((u,h)=>{const m=s.clientWidth;n(u,h),m<s.clientWidth&&n()},window),l=new ResizeObserver(u=>{const h=u[0],m=h.contentRect.width,p=h.contentRect.height;m===0&&p===0||o(m,p)});return l.observe(s),PG(t,o),l}function Iy(t,e,n){n&&n.disconnect(),e==="resize"&&VG(t)}function UG(t,e,n){const i=t.canvas,s=e4(o=>{t.ctx!==null&&n(MG(o,t))},t);return RG(i,e,s),s}class BG extends b4{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(CG(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Sm])return!1;const i=n[Sm].initial;["height","width"].forEach(o=>{const l=i[o];ft(l)?n.removeAttribute(o):n.setAttribute(o,l)});const s=i.style||{};return Object.keys(s).forEach(o=>{n.style[o]=s[o]}),n.width=n.width,delete n[Sm],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),l={attach:IG,detach:OG,resize:LG}[n]||UG;s[n]=l(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Iy,detach:Iy,resize:Iy}[n]||DG)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return L$(e,n,i,s)}isAttached(e){const n=e&&r1(e);return!!(n&&n.isConnected)}}function FG(t){return!s1()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?NG:BG}let Rc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return rg(this.x)&&rg(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}};function zG(t,e){const n=t.options.ticks,i=HG(t),s=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?$G(e):[],l=o.length,u=o[0],h=o[l-1],m=[];if(l>s)return GG(e,m,o,l/s),m;const p=qG(o,e,s);if(l>0){let x,b;const _=l>1?Math.round((h-u)/(l-1)):null;for(tm(e,m,p,ft(_)?0:u-_,u),x=0,b=l-1;x<b;x++)tm(e,m,p,o[x],o[x+1]);return tm(e,m,p,h,ft(_)?e.length:h+_),m}return tm(e,m,p),m}function HG(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function qG(t,e,n){const i=WG(t),s=e.length/n;if(!i)return Math.max(s,1);const o=Gq(i);for(let l=0,u=o.length-1;l<u;l++){const h=o[l];if(h>s)return h}return Math.max(s,1)}function $G(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function GG(t,e,n,i){let s=0,o=n[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===o&&(e.push(t[l]),s++,o=n[s*i])}function tm(t,e,n,i,s){const o=Je(i,0),l=Math.min(Je(s,t.length),t.length);let u=0,h,m,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=o;p<0;)u++,p=Math.round(o+u*n);for(m=Math.max(o,0);m<l;m++)m===p&&(e.push(t[m]),u++,p=Math.round(o+u*n))}function WG(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const YG=t=>t==="left"?"right":t==="right"?"left":t,pk=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,yk=(t,e)=>Math.min(e||t,t);function xk(t,e){const n=[],i=t.length/e,s=t.length;let o=0;for(;o<s;o+=i)n.push(t[Math.floor(o)]);return n}function KG(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),o=t._startPixel,l=t._endPixel,u=1e-6;let h=t.getPixelForTick(s),m;if(!(n&&(i===1?m=Math.max(h-o,l-h):e===0?m=(t.getPixelForTick(1)-h)/2:m=(h-t.getPixelForTick(s-1))/2,h+=s<e?m:-m,h<o-u||h>l+u)))return h}function XG(t,e){rt(t,n=>{const i=n.gc,s=i.length/2;let o;if(s>e){for(o=0;o<s;++o)delete n.data[i[o]];i.splice(0,s)}})}function Uu(t){return t.drawTicks?t.tickLength:0}function vk(t,e){if(!t.display)return 0;const n=On(t.font,e),i=Ri(t.padding);return(en(t.text)?t.text.length:1)*n.lineHeight+i.height}function QG(t,e){return Cc(t,{scale:e,type:"scale"})}function ZG(t,e,n){return Cc(t,{tick:n,index:e,type:"tick"})}function JG(t,e,n){let i=Zb(t);return(n&&e!=="right"||!n&&e==="right")&&(i=YG(i)),i}function eW(t,e,n,i){const{top:s,left:o,bottom:l,right:u,chart:h}=t,{chartArea:m,scales:p}=h;let x=0,b,_,A;const R=l-s,C=u-o;if(t.isHorizontal()){if(_=Rn(i,o,u),Xe(n)){const L=Object.keys(n)[0],U=n[L];A=p[L].getPixelForValue(U)+R-e}else n==="center"?A=(m.bottom+m.top)/2+R-e:A=pk(t,n,e);b=u-o}else{if(Xe(n)){const L=Object.keys(n)[0],U=n[L];_=p[L].getPixelForValue(U)-C+e}else n==="center"?_=(m.left+m.right)/2-C+e:_=pk(t,n,e);A=Rn(i,l,s),x=n==="left"?-$i:$i}return{titleX:_,titleY:A,maxWidth:b,rotation:x}}class Dc extends Rc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=fs(e,Number.POSITIVE_INFINITY),n=fs(n,Number.NEGATIVE_INFINITY),i=fs(i,Number.POSITIVE_INFINITY),s=fs(s,Number.NEGATIVE_INFINITY),{min:fs(e,i),max:fs(n,s),minDefined:Ci(e),maxDefined:Ci(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),l;if(s&&o)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,m=u.length;h<m;++h)l=u[h].controller.getMinMax(this,e),s||(n=Math.min(n,l.min)),o||(i=Math.max(i,l.max));return n=o&&n>i?i:n,i=s&&n>i?n:i,{min:fs(n,fs(i,n)),max:fs(i,fs(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=T$(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?xk(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=zG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pt(this.options.afterUpdate,[this])}beforeSetDimensions(){pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),pt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i],o.label=pt(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=yk(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation;let l=s,u,h,m;if(!this._isVisible()||!n.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),x=p.widest.width,b=p.highest.height,_=Gi(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),x+6>u&&(u=_/(i-(e.offset?.5:1)),h=this.maxHeight-Uu(e.grid)-n.padding-vk(e.title,this.chart.options.font),m=Math.sqrt(x*x+b*b),l=Xq(Math.min(Math.asin(Gi((p.highest.height+6)/u,-1,1)),Math.asin(Gi(h/m,-1,1))-Math.asin(Gi(b/m,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=vk(s,n.options.font);if(u?(e.width=this.maxWidth,e.height=Uu(o)+h):(e.height=this.maxHeight,e.width=Uu(o)+h),i.display&&this.ticks.length){const{first:m,last:p,widest:x,highest:b}=this._getLabelSizes(),_=i.padding*2,A=wo(this.labelRotation),R=Math.cos(A),C=Math.sin(A);if(u){const L=i.mirror?0:C*x.width+R*b.height;e.height=Math.min(this.maxHeight,e.height+L+_)}else{const L=i.mirror?0:R*x.width+C*b.height;e.width=Math.min(this.maxWidth,e.width+L+_)}this._calculatePadding(m,p,C,R)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:o,padding:l},position:u}=this.options,h=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,_=0;h?m?(b=s*e.width,_=i*n.height):(b=i*e.height,_=s*n.width):o==="start"?_=n.width:o==="end"?b=e.width:o!=="inner"&&(b=e.width/2,_=n.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-x+l)*this.width/(this.width-x),0)}else{let p=n.height/2,x=e.height/2;o==="start"?(p=0,x=e.height):o==="end"&&(p=n.height,x=0),this.paddingTop=p+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ft(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=xk(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:o}=this,l=[],u=[],h=Math.floor(n/yk(n,i));let m=0,p=0,x,b,_,A,R,C,L,U,F,G,Q;for(x=0;x<n;x+=h){if(A=e[x].label,R=this._resolveTickFontOptions(x),s.font=C=R.string,L=o[C]=o[C]||{data:{},gc:[]},U=R.lineHeight,F=G=0,!ft(A)&&!en(A))F=YE(s,L.data,L.gc,F,A),G=U;else if(en(A))for(b=0,_=A.length;b<_;++b)Q=A[b],!ft(Q)&&!en(Q)&&(F=YE(s,L.data,L.gc,F,Q),G+=U);l.push(F),u.push(G),m=Math.max(F,m),p=Math.max(G,p)}XG(o,n);const te=l.indexOf(m),V=u.indexOf(p),k=N=>({width:l[N]||0,height:u[N]||0});return{first:k(0),last:k(n-1),widest:k(te),highest:k(V),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return e$(this._alignToPixels?ho(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=ZG(this.getContext(),e,i))}return this.$context||(this.$context=QG(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=wo(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*i>u*s?u/i:h/s:h*s<u*i?h/i:u/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:o,position:l,border:u}=s,h=o.offset,m=this.isHorizontal(),x=this.ticks.length+(h?1:0),b=Uu(o),_=[],A=u.setContext(this.getContext()),R=A.display?A.width:0,C=R/2,L=function(z){return ho(i,z,R)};let U,F,G,Q,te,V,k,N,D,I,O,P;if(l==="top")U=L(this.bottom),V=this.bottom-b,N=U-C,I=L(e.top)+C,P=e.bottom;else if(l==="bottom")U=L(this.top),I=e.top,P=L(e.bottom)-C,V=U+C,N=this.top+b;else if(l==="left")U=L(this.right),te=this.right-b,k=U-C,D=L(e.left)+C,O=e.right;else if(l==="right")U=L(this.left),D=e.left,O=L(e.right)-C,te=U+C,k=this.left+b;else if(n==="x"){if(l==="center")U=L((e.top+e.bottom)/2+.5);else if(Xe(l)){const z=Object.keys(l)[0],$=l[z];U=L(this.chart.scales[z].getPixelForValue($))}I=e.top,P=e.bottom,V=U+C,N=V+b}else if(n==="y"){if(l==="center")U=L((e.left+e.right)/2);else if(Xe(l)){const z=Object.keys(l)[0],$=l[z];U=L(this.chart.scales[z].getPixelForValue($))}te=U-C,k=te-b,D=e.left,O=e.right}const X=Je(s.ticks.maxTicksLimit,x),se=Math.max(1,Math.ceil(x/X));for(F=0;F<x;F+=se){const z=this.getContext(F),$=o.setContext(z),le=u.setContext(z),fe=$.lineWidth,ue=$.color,ve=le.dash||[],xe=le.dashOffset,he=$.tickWidth,ke=$.tickColor,$e=$.tickBorderDash||[],Be=$.tickBorderDashOffset;G=KG(this,F,h),G!==void 0&&(Q=ho(i,G,fe),m?te=k=D=O=Q:V=N=I=P=Q,_.push({tx1:te,ty1:V,tx2:k,ty2:N,x1:D,y1:I,x2:O,y2:P,width:fe,color:ue,borderDash:ve,borderDashOffset:xe,tickWidth:he,tickColor:ke,tickBorderDash:$e,tickBorderDashOffset:Be}))}return this._ticksLength=x,this._borderValue=U,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:m,padding:p,mirror:x}=o,b=Uu(i.grid),_=b+p,A=x?-p:_,R=-wo(this.labelRotation),C=[];let L,U,F,G,Q,te,V,k,N,D,I,O,P="middle";if(s==="top")te=this.bottom-A,V=this._getXAxisLabelAlignment();else if(s==="bottom")te=this.top+A,V=this._getXAxisLabelAlignment();else if(s==="left"){const se=this._getYAxisLabelAlignment(b);V=se.textAlign,Q=se.x}else if(s==="right"){const se=this._getYAxisLabelAlignment(b);V=se.textAlign,Q=se.x}else if(n==="x"){if(s==="center")te=(e.top+e.bottom)/2+_;else if(Xe(s)){const se=Object.keys(s)[0],z=s[se];te=this.chart.scales[se].getPixelForValue(z)+_}V=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")Q=(e.left+e.right)/2-_;else if(Xe(s)){const se=Object.keys(s)[0],z=s[se];Q=this.chart.scales[se].getPixelForValue(z)}V=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(h==="start"?P="top":h==="end"&&(P="bottom"));const X=this._getLabelSizes();for(L=0,U=u.length;L<U;++L){F=u[L],G=F.label;const se=o.setContext(this.getContext(L));k=this.getPixelForTick(L)+o.labelOffset,N=this._resolveTickFontOptions(L),D=N.lineHeight,I=en(G)?G.length:1;const z=I/2,$=se.color,le=se.textStrokeColor,fe=se.textStrokeWidth;let ue=V;l?(Q=k,V==="inner"&&(L===U-1?ue=this.options.reverse?"left":"right":L===0?ue=this.options.reverse?"right":"left":ue="center"),s==="top"?m==="near"||R!==0?O=-I*D+D/2:m==="center"?O=-X.highest.height/2-z*D+D:O=-X.highest.height+D/2:m==="near"||R!==0?O=D/2:m==="center"?O=X.highest.height/2-z*D:O=X.highest.height-I*D,x&&(O*=-1),R!==0&&!se.showLabelBackdrop&&(Q+=D/2*Math.sin(R))):(te=k,O=(1-I)*D/2);let ve;if(se.showLabelBackdrop){const xe=Ri(se.backdropPadding),he=X.heights[L],ke=X.widths[L];let $e=O-xe.top,Be=0-xe.left;switch(P){case"middle":$e-=he/2;break;case"bottom":$e-=he;break}switch(V){case"center":Be-=ke/2;break;case"right":Be-=ke;break;case"inner":L===U-1?Be-=ke:L>0&&(Be-=ke/2);break}ve={left:Be,top:$e,width:ke+xe.width,height:he+xe.height,color:se.backdropColor}}C.push({label:G,font:N,textOffset:O,options:{rotation:R,color:$,strokeColor:le,strokeWidth:fe,textAlign:ue,textBaseline:P,translation:[Q,te],backdrop:ve}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-wo(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,h=l.widest.width;let m,p;return n==="left"?s?(p=this.right+o,i==="near"?m="left":i==="center"?(m="center",p+=h/2):(m="right",p+=h)):(p=this.right-u,i==="near"?m="right":i==="center"?(m="center",p-=h/2):(m="left",p=this.left)):n==="right"?s?(p=this.left+o,i==="near"?m="right":i==="center"?(m="center",p-=h/2):(m="left",p-=h)):(p=this.left+u,i==="near"?m="left":i==="center"?(m="center",p+=h/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:o,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,o,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(h,m,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(n.display)for(o=0,l=s.length;o<l;++o){const h=s[o];n.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,p,x,b;this.isHorizontal()?(m=ho(e,this.left,l)-l/2,p=ho(e,this.right,u)+u/2,x=b=h):(x=ho(e,this.top,l)-l/2,b=ho(e,this.bottom,u)+u/2,m=p=h),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,x),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Jb(i,s);const o=this.getLabelItems(e);for(const l of o){const u=l.options,h=l.font,m=l.label,p=l.textOffset;Bd(i,m,0,p,h,u)}s&&e1(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const o=On(i.font),l=Ri(i.padding),u=i.align;let h=o.lineHeight/2;n==="bottom"||n==="center"||Xe(n)?(h+=l.bottom,en(i.text)&&(h+=o.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:m,titleY:p,maxWidth:x,rotation:b}=eW(this,h,n,u);Bd(e,i.text,0,0,o,{color:i.color,maxWidth:x,rotation:b,textAlign:JG(u,n,s),textBaseline:"middle",translation:[m,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Je(e.grid&&e.grid.z,-1),s=Je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Dc.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,l;for(o=0,l=n.length;o<l;++o){const u=n[o];u[i]===this.id&&(!e||u.type===e)&&s.push(u)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return On(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nm{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;iW(n)&&(i=this.register(n));const s=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,tW(e,l,i),this.override&&Lt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in Lt[s]&&(delete Lt[s][i],this.override&&delete Oo[i])}}function tW(t,e,n){const i=Ld(Object.create(null),[n?Lt.get(n):{},Lt.get(e),t.defaults]);Lt.set(e,i),t.defaultRoutes&&nW(e,t.defaultRoutes),t.descriptors&&Lt.describe(e,t.descriptors)}function nW(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),o=[t].concat(i).join("."),l=e[n].split("."),u=l.pop(),h=l.join(".");Lt.route(o,s,h,u)})}function iW(t){return"id"in t&&"defaults"in t}class sW{constructor(){this.controllers=new nm(p4,"datasets",!0),this.elements=new nm(Rc,"elements"),this.plugins=new nm(Object,"plugins"),this.scales=new nm(Dc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):rt(s,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,i){const s=Xb(e);pt(i["before"+s],[],i),n[e](i),pt(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var gs=new sW;class rW{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,i,s){s=s||{};for(const o of e){const l=o.plugin,u=l[i],h=[n,s,o.options];if(pt(u,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=Je(i.options&&i.options.plugins,{}),o=aW(i);return s===!1&&!n?[]:lW(e,o,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(o,l)=>o.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function aW(t){const e={},n=[],i=Object.keys(gs.plugins.items);for(let o=0;o<i.length;o++)n.push(gs.getPlugin(i[o]));const s=t.plugins||[];for(let o=0;o<s.length;o++){const l=s[o];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function oW(t,e){return!e&&t===!1?null:t===!0?{}:t}function lW(t,{plugins:e,localIds:n},i,s){const o=[],l=t.getContext();for(const u of e){const h=u.id,m=oW(i[h],s);m!==null&&o.push({plugin:u,options:cW(t.config,{plugin:u,local:n[h]},m,l)})}return o}function cW(t,{plugin:e,local:n},i,s){const o=t.pluginScopeKeys(e),l=t.getOptionScopes(i,o);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function iv(t,e){const n=Lt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function uW(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function dW(t,e){return t===e?"_index_":"_value_"}function bk(t){if(t==="x"||t==="y"||t==="r")return t}function hW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function sv(t,...e){if(bk(t))return t;for(const n of e){const i=n.axis||hW(n.position)||t.length>1&&bk(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function wk(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function fW(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return wk(t,"x",n[0])||wk(t,"y",n[0])}return{}}function mW(t,e){const n=Oo[t.type]||{scales:{}},i=e.scales||{},s=iv(t.type,e),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Xe(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=sv(l,u,fW(l,t),Lt.scales[u.type]),m=dW(h,s),p=n.scales||{};o[l]=ud(Object.create(null),[{axis:h},u,p[h],p[m]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,h=l.indexAxis||iv(u,e),p=(Oo[u]||{}).scales||{};Object.keys(p).forEach(x=>{const b=uW(x,h),_=l[b+"AxisID"]||b;o[_]=o[_]||Object.create(null),ud(o[_],[{axis:b},i[_],p[x]])})}),Object.keys(o).forEach(l=>{const u=o[l];ud(u,[Lt.scales[u.type],Lt.scale])}),o}function T4(t){const e=t.options||(t.options={});e.plugins=Je(e.plugins,{}),e.scales=mW(t,e)}function S4(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function gW(t){return t=t||{},t.data=S4(t.data),T4(t),t}const _k=new Map,E4=new Set;function im(t,e){let n=_k.get(t);return n||(n=e(),_k.set(t,n),E4.add(n)),n}const Bu=(t,e,n)=>{const i=gc(e,n);i!==void 0&&t.add(i)};class pW{constructor(e){this._config=gW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=S4(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),T4(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return im(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return im(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return im(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return im(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:o}=this,l=this._cachedScopes(e,i),u=l.get(n);if(u)return u;const h=new Set;n.forEach(p=>{e&&(h.add(e),p.forEach(x=>Bu(h,e,x))),p.forEach(x=>Bu(h,s,x)),p.forEach(x=>Bu(h,Oo[o]||{},x)),p.forEach(x=>Bu(h,Lt,x)),p.forEach(x=>Bu(h,nv,x))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),E4.has(n)&&l.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,Oo[n]||{},Lt.datasets[n]||{},{type:n},Lt,nv]}resolveNamedOptions(e,n,i,s=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=Tk(this._resolverCache,e,s);let h=l;if(xW(l,n)){o.$shared=!1,i=Ta(i)?i():i;const m=this.createResolver(e,i,u);h=pc(l,i,m)}for(const m of n)o[m]=h[m];return o}createResolver(e,n,i=[""],s){const{resolver:o}=Tk(this._resolverCache,e,i);return Xe(n)?pc(o,n,void 0,s):o}}function Tk(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let o=i.get(s);return o||(o={resolver:t1(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,o)),o}const yW=t=>Xe(t)&&Object.getOwnPropertyNames(t).some(e=>Ta(t[e]));function xW(t,e){const{isScriptable:n,isIndexable:i}=l4(t);for(const s of e){const o=n(s),l=i(s),u=(l||o)&&t[s];if(o&&(Ta(u)||yW(u))||l&&en(u))return!0}return!1}var vW="4.5.0";const bW=["top","bottom","left","right","chartArea"];function Sk(t,e){return t==="top"||t==="bottom"||bW.indexOf(t)===-1&&e==="x"}function Ek(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function kk(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),pt(n&&n.onComplete,[t],e)}function wW(t){const e=t.chart,n=e.options.animation;pt(n&&n.onProgress,[t],e)}function k4(t){return s1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Em={},Ak=t=>{const e=k4(t);return Object.values(Em).filter(n=>n.canvas===e).pop()};function _W(t,e,n){const i=Object.keys(t);for(const s of i){const o=+s;if(o>=e){const l=t[s];delete t[s],(n>0||o>e)&&(t[o+n]=l)}}}function TW(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let Hg=class{static defaults=Lt;static instances=Em;static overrides=Oo;static registry=gs;static version=vW;static getChart=Ak;static register(...e){gs.add(...e),Nk()}static unregister(...e){gs.remove(...e),Nk()}constructor(e,n){const i=this.config=new pW(n),s=k4(e),o=Ak(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||FG(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,m=h&&h.height,p=h&&h.width;if(this.id=Lq(),this.ctx=u,this.canvas=h,this.width=p,this.height=m,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=s$(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],Em[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ar.listen(this,"complete",kk),ar.listen(this,"progress",wW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:o}=this;return ft(e)?n&&o?o:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():JE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return KE(this.canvas,this.ctx),this}stop(){return ar.stop(this),this}resize(e,n){ar.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,n,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,JE(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),pt(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};rt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const u=n[l],h=sv(l,u),m=h==="r",p=h==="x";return{options:u,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),rt(o,l=>{const u=l.options,h=u.id,m=sv(h,u),p=Je(u.type,l.dtype);(u.position===void 0||Sk(u.position,m)!==Sk(l.dposition))&&(u.position=l.dposition),s[h]=!0;let x=null;if(h in i&&i[h].type===p)x=i[h];else{const b=gs.getScale(p);x=new b({id:h,type:p,ctx:this.ctx,chart:this}),i[x.id]=x}x.init(u,e)}),rt(s,(l,u)=>{l||delete i[u]}),rt(i,l=>{Ai.configure(this,l,l.options),Ai.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,o)=>s.index-o.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Ek("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const o=n[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||iv(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=gs.getController(u),{datasetElementType:m,dataElementType:p}=Lt.datasets[u];Object.assign(h,{dataElementType:gs.getElement(p),datasetElementType:m&&gs.getElement(m)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){rt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:x}=this.getDatasetMeta(m),b=!s&&o.indexOf(x)===-1;x.buildOrUpdateElements(b),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||rt(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ek("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){rt(this.scales,e=>{Ai.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!UE(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of n){const l=i==="_removeElements"?-o:o;_W(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let o=1;o<n;o++)if(!UE(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ai.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],rt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ta(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ar.has(this)?this.attached&&!ar.running(this)&&ar.start(this):(this.draw(),kk({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=H$(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Jb(n,s),e.controller.draw(),s&&e1(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return r4(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const o=bG.modes[n];return typeof o=="function"?o(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Cc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,s);Ud(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ar.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),KE(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Em[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,l)=>{n.addEventListener(this,o,l),e[o]=l},s=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};rt(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(h,m)=>{n.addEventListener(this,h,m),e[h]=m},s=(h,m)=>{e[h]&&(n.removeEventListener(this,h,m),delete e[h])},o=(h,m)=>{this.canvas&&this.resize(h,m)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){rt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},rt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let o,l,u,h;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const m=l&&this.getDatasetMeta(l.datasetIndex).controller;m&&m[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!ng(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,o=(h,m)=>h.filter(p=>!m.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),l=o(n,e),u=i?e:o(e,n);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:o}=this,l=n,u=this._getActiveElements(e,s,i,l),h=qq(e),m=TW(e,this._lastEvent,i,h);i&&(this._lastEvent=null,pt(o.onHover,[e,u,this],this),h&&pt(o.onClick,[e,u,this],this));const p=!ng(u,s);return(p||n)&&(this._active=u,this._updateHoverStyles(u,s,n)),this._lastEvent=m,p}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}};function Nk(){return rt(Hg.instances,t=>t._plugins.invalidate())}function A4(t,e){const{x:n,y:i,base:s,width:o,height:l}=t.getProps(["x","y","base","width","height"],e);let u,h,m,p,x;return t.horizontal?(x=l/2,u=Math.min(n,s),h=Math.max(n,s),m=i-x,p=i+x):(x=o/2,u=n-x,h=n+x,m=Math.min(i,s),p=Math.max(i,s)),{left:u,top:m,right:h,bottom:p}}function aa(t,e,n,i){return t?0:Gi(e,n,i)}function SW(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,o=o4(i);return{t:aa(s.top,o.top,0,n),r:aa(s.right,o.right,0,e),b:aa(s.bottom,o.bottom,0,n),l:aa(s.left,o.left,0,e)}}function EW(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,o=ec(s),l=Math.min(e,n),u=t.borderSkipped,h=i||Xe(s);return{topLeft:aa(!h||u.top||u.left,o.topLeft,0,l),topRight:aa(!h||u.top||u.right,o.topRight,0,l),bottomLeft:aa(!h||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:aa(!h||u.bottom||u.right,o.bottomRight,0,l)}}function kW(t){const e=A4(t),n=e.right-e.left,i=e.bottom-e.top,s=SW(t,n/2,i/2),o=EW(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Oy(t,e,n,i){const s=e===null,o=n===null,u=t&&!(s&&o)&&A4(t,i);return u&&(s||Yl(e,u.left,u.right))&&(o||Yl(n,u.top,u.bottom))}function AW(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function NW(t,e){t.rect(e.x,e.y,e.w,e.h)}function Py(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,l=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+o,h:t.h+l,radius:t.radius}}class jW extends Rc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:l}=kW(this),u=AW(l.radius)?ag:NW;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),u(e,Py(l,n,o)),e.clip(),u(e,Py(o,-n,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,Py(o,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Oy(this,e,n,i)}inXRange(e,n){return Oy(this,e,null,n)}inYRange(e,n){return Oy(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+s)/2:n,y:o?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const jk=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},CW=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ck extends Rc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=pt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=On(i.font),o=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=jk(i,o);let m,p;n.font=s.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(l,o,u,h)+10):(p=this.maxHeight,m=this._fitCols(l,s,u,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],p=s+u;let x=e;o.textAlign="left",o.textBaseline="middle";let b=-1,_=-p;return this.legendItems.forEach((A,R)=>{const C=i+n/2+o.measureText(A.text).width;(R===0||m[m.length-1]+C+2*u>l)&&(x+=p,m[m.length-(R>0?0:1)]=0,_+=p,b++),h[R]={left:0,top:_,row:b,width:C,height:s},m[m.length-1]+=C+u}),x}_fitCols(e,n,i,s){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],p=l-e;let x=u,b=0,_=0,A=0,R=0;return this.legendItems.forEach((C,L)=>{const{itemWidth:U,itemHeight:F}=RW(i,n,o,C,s);L>0&&_+F+2*u>p&&(x+=b+u,m.push({width:b,height:_}),A+=b+u,R++,b=_=0),h[L]={left:A,top:_,col:R,width:U,height:F},b=Math.max(b,U),_+=F+u}),x+=b,m.push({width:b,height:_}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:o}}=this,l=tc(o,this.left,this.width);if(this.isHorizontal()){let u=0,h=Rn(i,this.left+s,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,h=Rn(i,this.left+s,this.right-this.lineWidths[u])),m.top+=this.top+e+s,m.left=l.leftForLtr(l.x(h),m.width),h+=m.width+s}else{let u=0,h=Rn(i,this.top+e+s,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,h=Rn(i,this.top+e+s,this.bottom-this.columnSizes[u].height)),m.top=h,m.left+=this.left+s,m.left=l.leftForLtr(l.x(m.left),m.width),h+=m.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Jb(e,this),this._draw(),e1(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:o,labels:l}=e,u=Lt.color,h=tc(e.rtl,this.left,this.width),m=On(l.font),{padding:p}=l,x=m.size,b=x/2;let _;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=m.string;const{boxWidth:A,boxHeight:R,itemHeight:C}=jk(l,x),L=function(te,V,k){if(isNaN(A)||A<=0||isNaN(R)||R<0)return;s.save();const N=Je(k.lineWidth,1);if(s.fillStyle=Je(k.fillStyle,u),s.lineCap=Je(k.lineCap,"butt"),s.lineDashOffset=Je(k.lineDashOffset,0),s.lineJoin=Je(k.lineJoin,"miter"),s.lineWidth=N,s.strokeStyle=Je(k.strokeStyle,u),s.setLineDash(Je(k.lineDash,[])),l.usePointStyle){const D={radius:R*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:N},I=h.xPlus(te,A/2),O=V+b;s4(s,D,I,O,l.pointStyleWidth&&A)}else{const D=V+Math.max((x-R)/2,0),I=h.leftForLtr(te,A),O=ec(k.borderRadius);s.beginPath(),Object.values(O).some(P=>P!==0)?ag(s,{x:I,y:D,w:A,h:R,radius:O}):s.rect(I,D,A,R),s.fill(),N!==0&&s.stroke()}s.restore()},U=function(te,V,k){Bd(s,k.text,te,V+C/2,m,{strikethrough:k.hidden,textAlign:h.textAlign(k.textAlign)})},F=this.isHorizontal(),G=this._computeTitleHeight();F?_={x:Rn(o,this.left+p,this.right-i[0]),y:this.top+p+G,line:0}:_={x:this.left+p,y:Rn(o,this.top+G+p,this.bottom-n[0].height),line:0},h4(this.ctx,e.textDirection);const Q=C+p;this.legendItems.forEach((te,V)=>{s.strokeStyle=te.fontColor,s.fillStyle=te.fontColor;const k=s.measureText(te.text).width,N=h.textAlign(te.textAlign||(te.textAlign=l.textAlign)),D=A+b+k;let I=_.x,O=_.y;h.setWidth(this.width),F?V>0&&I+D+p>this.right&&(O=_.y+=Q,_.line++,I=_.x=Rn(o,this.left+p,this.right-i[_.line])):V>0&&O+Q>this.bottom&&(I=_.x=I+n[_.line].width+p,_.line++,O=_.y=Rn(o,this.top+G+p,this.bottom-n[_.line].height));const P=h.x(I);if(L(P,O,te),I=r$(N,I+A+b,F?I+D:this.right,e.rtl),U(h.x(I),O,te),F)_.x+=D+p;else if(typeof te.text!="string"){const X=m.lineHeight;_.y+=N4(te,X)+p}else _.y+=Q}),f4(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=On(n.font),s=Ri(n.padding);if(!n.display)return;const o=tc(e.rtl,this.left,this.width),l=this.ctx,u=n.position,h=i.size/2,m=s.top+h;let p,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+m,x=Rn(e.align,x,this.right-b);else{const A=this.columnSizes.reduce((R,C)=>Math.max(R,C.height),0);p=m+Rn(e.align,this.top,this.bottom-A-e.labels.padding-this._computeTitleHeight())}const _=Rn(u,x,x+b);l.textAlign=o.textAlign(Zb(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,Bd(l,n.text,_,p,i)}_computeTitleHeight(){const e=this.options.title,n=On(e.font),i=Ri(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,o;if(Yl(e,this.left,this.right)&&Yl(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],Yl(e,s.left,s.left+s.width)&&Yl(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!IW(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=CW(s,i);s&&!o&&pt(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!o&&pt(n.onHover,[e,i,this],this)}else i&&pt(n.onClick,[e,i,this],this)}}function RW(t,e,n,i,s){const o=DW(i,t,e,n),l=MW(s,i,e.lineHeight);return{itemWidth:o,itemHeight:l}}function DW(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((o,l)=>o.length>l.length?o:l)),e+n.size/2+i.measureText(s).width}function MW(t,e,n){let i=t;return typeof e.text!="string"&&(i=N4(e,n)),i}function N4(t,e){const n=t.text?t.text.length:0;return e*n}function IW(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var OW={id:"legend",_element:Ck,start(t,e,n){const i=t.legend=new Ck({ctx:t.ctx,options:n,chart:t});Ai.configure(t,i,n),Ai.addBox(t,i)},stop(t){Ai.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ai.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(n?0:void 0),p=Ri(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:s||m.textAlign,borderRadius:l&&(u||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class j4 extends Rc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=en(i.text)?i.text.length:1;this._padding=Ri(i.padding);const o=s*On(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:o,options:l}=this,u=l.align;let h=0,m,p,x;return this.isHorizontal()?(p=Rn(u,i,o),x=n+e,m=o-i):(l.position==="left"?(p=i+e,x=Rn(u,s,n),h=Pn*-.5):(p=o-e,x=Rn(u,n,s),h=Pn*.5),m=s-n),{titleX:p,titleY:x,maxWidth:m,rotation:h}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=On(n.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:m}=this._drawArgs(o);Bd(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:m,textAlign:Zb(n.align),textBaseline:"middle",translation:[l,u]})}}function PW(t,e){const n=new j4({ctx:t.ctx,options:e,chart:t});Ai.configure(t,n,e),Ai.addBox(t,n),t.titleBlock=n}var VW={id:"title",_element:j4,start(t,e,n){PW(t,n)},stop(t){const e=t.titleBlock;Ai.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ai.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xu={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),s+=h.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:s/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=t.length;o<l;++o){const h=t[o].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),p=Zq(e,m);p<s&&(s=p,u=h)}}if(u){const h=u.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function ms(t,e){return e&&(en(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function or(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function LW(t,e){const{element:n,datasetIndex:i,index:s}=e,o=t.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(s);return{chart:t,label:l,parsed:o.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:u,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Rk(t,e){const n=t.chart.ctx,{body:i,footer:s,title:o}=t,{boxWidth:l,boxHeight:u}=e,h=On(e.bodyFont),m=On(e.titleFont),p=On(e.footerFont),x=o.length,b=s.length,_=i.length,A=Ri(e.padding);let R=A.height,C=0,L=i.reduce((G,Q)=>G+Q.before.length+Q.lines.length+Q.after.length,0);if(L+=t.beforeBody.length+t.afterBody.length,x&&(R+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),L){const G=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;R+=_*G+(L-_)*h.lineHeight+(L-1)*e.bodySpacing}b&&(R+=e.footerMarginTop+b*p.lineHeight+(b-1)*e.footerSpacing);let U=0;const F=function(G){C=Math.max(C,n.measureText(G).width+U)};return n.save(),n.font=m.string,rt(t.title,F),n.font=h.string,rt(t.beforeBody.concat(t.afterBody),F),U=e.displayColors?l+2+e.boxPadding:0,rt(i,G=>{rt(G.before,F),rt(G.lines,F),rt(G.after,F)}),U=0,n.font=p.string,rt(t.footer,F),n.restore(),C+=A.width,{width:C,height:R}}function UW(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function BW(t,e,n,i){const{x:s,width:o}=i,l=n.caretSize+n.caretPadding;if(t==="left"&&s+o+l>e.width||t==="right"&&s-o-l<0)return!0}function FW(t,e,n,i){const{x:s,width:o}=n,{width:l,chartArea:{left:u,right:h}}=t;let m="center";return i==="center"?m=s<=(u+h)/2?"left":"right":s<=o/2?m="left":s>=l-o/2&&(m="right"),BW(m,t,e,n)&&(m="center"),m}function Dk(t,e,n){const i=n.yAlign||e.yAlign||UW(t,n);return{xAlign:n.xAlign||e.xAlign||FW(t,e,n,i),yAlign:i}}function zW(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function HW(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function Mk(t,e,n,i){const{caretSize:s,caretPadding:o,cornerRadius:l}=t,{xAlign:u,yAlign:h}=n,m=s+o,{topLeft:p,topRight:x,bottomLeft:b,bottomRight:_}=ec(l);let A=zW(e,u);const R=HW(e,h,m);return h==="center"?u==="left"?A+=m:u==="right"&&(A-=m):u==="left"?A-=Math.max(p,b)+s:u==="right"&&(A+=Math.max(x,_)+s),{x:Gi(A,0,i.width-e.width),y:Gi(R,0,i.height-e.height)}}function sm(t,e,n){const i=Ri(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Ik(t){return ms([],or(t))}function qW(t,e,n){return Cc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Ok(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const C4={beforeTitle:rr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:rr,beforeBody:rr,beforeLabel:rr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ft(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:rr,afterBody:rr,beforeFooter:rr,footer:rr,afterFooter:rr};function Yn(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?C4[e].call(n,i):s}class Pk extends Rc{static positioners=Xu;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,o=new m4(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=qW(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=Yn(i,"beforeTitle",this,e),o=Yn(i,"title",this,e),l=Yn(i,"afterTitle",this,e);let u=[];return u=ms(u,or(s)),u=ms(u,or(o)),u=ms(u,or(l)),u}getBeforeBody(e,n){return Ik(Yn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return rt(e,o=>{const l={before:[],lines:[],after:[]},u=Ok(i,o);ms(l.before,or(Yn(u,"beforeLabel",this,o))),ms(l.lines,Yn(u,"label",this,o)),ms(l.after,or(Yn(u,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(e,n){return Ik(Yn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=Yn(i,"beforeFooter",this,e),o=Yn(i,"footer",this,e),l=Yn(i,"afterFooter",this,e);let u=[];return u=ms(u,or(s)),u=ms(u,or(o)),u=ms(u,or(l)),u}_createItems(e){const n=this._active,i=this.chart.data,s=[],o=[],l=[];let u=[],h,m;for(h=0,m=n.length;h<m;++h)u.push(LW(this.chart,n[h]));return e.filter&&(u=u.filter((p,x,b)=>e.filter(p,x,b,i))),e.itemSort&&(u=u.sort((p,x)=>e.itemSort(p,x,i))),rt(u,p=>{const x=Ok(e.callbacks,p);s.push(Yn(x,"labelColor",this,p)),o.push(Yn(x,"labelPointStyle",this,p)),l.push(Yn(x,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const u=Xu[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Rk(this,i),m=Object.assign({},u,h),p=Dk(this.chart,i,m),x=Mk(i,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const o=this.getCaretPosition(e,i,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:m,bottomLeft:p,bottomRight:x}=ec(u),{x:b,y:_}=e,{width:A,height:R}=n;let C,L,U,F,G,Q;return o==="center"?(G=_+R/2,s==="left"?(C=b,L=C-l,F=G+l,Q=G-l):(C=b+A,L=C+l,F=G-l,Q=G+l),U=C):(s==="left"?L=b+Math.max(h,p)+l:s==="right"?L=b+A-Math.max(m,x)-l:L=this.caretX,o==="top"?(F=_,G=F-l,C=L-l,U=L+l):(F=_+R,G=F+l,C=L+l,U=L-l),Q=F),{x1:C,x2:L,x3:U,y1:F,y2:G,y3:Q}}drawTitle(e,n,i){const s=this.title,o=s.length;let l,u,h;if(o){const m=tc(i.rtl,this.x,this.width);for(e.x=sm(this,i.titleAlign,i),n.textAlign=m.textAlign(i.titleAlign),n.textBaseline="middle",l=On(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<o;++h)n.fillText(s[h],m.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,s,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:m}=o,p=On(o.bodyFont),x=sm(this,"left",o),b=s.x(x),_=h<p.lineHeight?(p.lineHeight-h)/2:0,A=n.y+_;if(o.usePointStyle){const R={radius:Math.min(m,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=s.leftForLtr(b,m)+m/2,L=A+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,XE(e,R,C,L),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,XE(e,R,C,L)}else{e.lineWidth=Xe(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const R=s.leftForLtr(b,m),C=s.leftForLtr(s.xPlus(b,1),m-2),L=ec(l.borderRadius);Object.values(L).some(U=>U!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,ag(e,{x:R,y:A,w:m,h,radius:L}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),ag(e,{x:C,y:A+1,w:m-2,h:h-2,radius:L}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(R,A,m,h),e.strokeRect(R,A,m,h),e.fillStyle=l.backgroundColor,e.fillRect(C,A+1,m-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:m,boxPadding:p}=i,x=On(i.bodyFont);let b=x.lineHeight,_=0;const A=tc(i.rtl,this.x,this.width),R=function(k){n.fillText(k,A.x(e.x+_),e.y+b/2),e.y+=b+o},C=A.textAlign(l);let L,U,F,G,Q,te,V;for(n.textAlign=l,n.textBaseline="middle",n.font=x.string,e.x=sm(this,C,i),n.fillStyle=i.bodyColor,rt(this.beforeBody,R),_=u&&C!=="right"?l==="center"?m/2+p:m+2+p:0,G=0,te=s.length;G<te;++G){for(L=s[G],U=this.labelTextColors[G],n.fillStyle=U,rt(L.before,R),F=L.lines,u&&F.length&&(this._drawColorBox(n,e,G,A,i),b=Math.max(x.lineHeight,h)),Q=0,V=F.length;Q<V;++Q)R(F[Q]),b=x.lineHeight;rt(L.after,R)}_=0,b=x.lineHeight,rt(this.afterBody,R),e.y-=o}drawFooter(e,n,i){const s=this.footer,o=s.length;let l,u;if(o){const h=tc(i.rtl,this.x,this.width);for(e.x=sm(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=On(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,u=0;u<o;++u)n.fillText(s[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:o,yAlign:l}=this,{x:u,y:h}=e,{width:m,height:p}=i,{topLeft:x,topRight:b,bottomLeft:_,bottomRight:A}=ec(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(u+x,h),l==="top"&&this.drawCaret(e,n,i,s),n.lineTo(u+m-b,h),n.quadraticCurveTo(u+m,h,u+m,h+b),l==="center"&&o==="right"&&this.drawCaret(e,n,i,s),n.lineTo(u+m,h+p-A),n.quadraticCurveTo(u+m,h+p,u+m-A,h+p),l==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(u+_,h+p),n.quadraticCurveTo(u,h+p,u,h+p-_),l==="center"&&o==="left"&&this.drawCaret(e,n,i,s),n.lineTo(u,h+x),n.quadraticCurveTo(u,h,u+x,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const l=Xu[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Rk(this,e),h=Object.assign({},l,this._size),m=Dk(n,e,h),p=Mk(e,h,m,n);(s._to!==p.x||o._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ri(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,s,n),h4(e,n.textDirection),o.y+=l.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),f4(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:u,index:h})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[h],index:h}}),o=!ng(i,s),l=this._positionChanged(s,n);(o||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(e,o,n,i),u=this._positionChanged(l,e),h=n||!ng(l,o)||u;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,i,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:i,caretY:s,options:o}=this,l=Xu[o.position].call(this,e,n);return l!==!1&&(i!==l.x||s!==l.y)}}var $W={id:"tooltip",_element:Pk,positioners:Xu,afterInit(t,e,n){n&&(t.tooltip=new Pk({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:C4},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const GW=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function WW(t,e,n,i){const s=t.indexOf(e);if(s===-1)return GW(t,e,n,i);const o=t.lastIndexOf(e);return s!==o?n:s}const YW=(t,e)=>t===null?null:Gi(Math.round(t),0,e);function Vk(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class KW extends Dc{static id="category";static defaults={ticks:{callback:Vk}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:o}of n)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ft(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:WW(i,e,Je(n,e),this._addedLabels),YW(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=n;l++)s.push({value:l});return s}getLabelForValue(e){return Vk.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function XW(t,e){const n=[],{bounds:s,step:o,min:l,max:u,precision:h,count:m,maxTicks:p,maxDigits:x,includeBounds:b}=t,_=o||1,A=p-1,{min:R,max:C}=e,L=!ft(l),U=!ft(u),F=!ft(m),G=(C-R)/(x+1);let Q=FE((C-R)/A/_)*_,te,V,k,N;if(Q<1e-14&&!L&&!U)return[{value:R},{value:C}];N=Math.ceil(C/Q)-Math.floor(R/Q),N>A&&(Q=FE(N*Q/A/_)*_),ft(h)||(te=Math.pow(10,h),Q=Math.ceil(Q*te)/te),s==="ticks"?(V=Math.floor(R/Q)*Q,k=Math.ceil(C/Q)*Q):(V=R,k=C),L&&U&&o&&Yq((u-l)/o,Q/1e3)?(N=Math.round(Math.min((u-l)/Q,p)),Q=(u-l)/N,V=l,k=u):F?(V=L?l:V,k=U?u:k,N=m-1,Q=(k-V)/N):(N=(k-V)/Q,Tm(N,Math.round(N),Q/1e3)?N=Math.round(N):N=Math.ceil(N));const D=Math.max(zE(Q),zE(V));te=Math.pow(10,ft(h)?D:h),V=Math.round(V*te)/te,k=Math.round(k*te)/te;let I=0;for(L&&(b&&V!==l?(n.push({value:l}),V<l&&I++,Tm(Math.round((V+I*Q)*te)/te,l,Lk(l,G,t))&&I++):V<l&&I++);I<N;++I){const O=Math.round((V+I*Q)*te)/te;if(U&&O>u)break;n.push({value:O})}return U&&b&&k!==u?n.length&&Tm(n[n.length-1].value,u,Lk(u,G,t))?n[n.length-1].value=u:n.push({value:u}):(!U||k===u)&&n.push({value:k}),n}function Lk(t,e,{horizontal:n,minRotation:i}){const s=wo(i),o=(n?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+t).length;return Math.min(e/o,l)}class QW extends Dc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ft(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const l=h=>s=n?s:h,u=h=>o=i?o:h;if(e){const h=ma(s),m=ma(o);h<0&&m<0?u(0):h>0&&m>0&&l(0)}if(s===o){let h=o===0?1:Math.abs(o*.05);u(o+h),e||l(s-h)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=XW(s,o);return e.bounds==="ticks"&&Kq(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return n4(e,this.chart.options.locale,this.options.ticks.format)}}class ZW extends QW{static id="linear";static defaults={ticks:{callback:i4.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ci(e)?e:0,this.max=Ci(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=wo(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const qg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xn=Object.keys(qg);function Uk(t,e){return t-e}function Bk(t,e){if(ft(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:o}=t._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),Ci(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(rg(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,s)),+l)}function Fk(t,e,n,i){const s=Xn.length;for(let o=Xn.indexOf(t);o<s-1;++o){const l=qg[Xn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=i)return Xn[o]}return Xn[s-1]}function JW(t,e,n,i,s){for(let o=Xn.length-1;o>=Xn.indexOf(n);o--){const l=Xn[o];if(qg[l].common&&t._adapter.diff(s,i,l)>=e-1)return l}return Xn[n?Xn.indexOf(n):0]}function eY(t){for(let e=Xn.indexOf(t)+1,n=Xn.length;e<n;++e)if(qg[Xn[e]].common)return Xn[e]}function zk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=Qb(n,e),o=n[i]>=e?n[i]:n[s];t[o]=!0}}function tY(t,e,n,i){const s=t._adapter,o=+s.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=o;u<=l;u=+s.add(u,1,i))h=n[u],h>=0&&(e[h].major=!0);return e}function Hk(t,e,n){const i=[],s={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],s[u]=l,i.push({value:u,major:!1});return o===0||!n?i:tY(t,i,s,n)}class qk extends Dc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new gG._date(e.adapters.date);s.init(n),ud(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Bk(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function h(m){!l&&!isNaN(m.min)&&(s=Math.min(s,m.min)),!u&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Ci(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),o=Ci(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=this.max,u=n$(s,o,l);return this._unit=n.unit||(i.autoSkip?Fk(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):JW(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:eY(this._unit),this.initOffsets(s),e.reverse&&u.reverse(),Hk(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Gi(n,0,l),i=Gi(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,o=s.time,l=o.unit||Fk(o.minUnit,n,i,this._getLabelCapacity(n)),u=Je(s.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,m=rg(h)||h===!0,p={};let x=n,b,_;if(m&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,m?"day":l),e.diff(i,n,l)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+l);const A=s.ticks.source==="data"&&this.getDataTimestamps();for(b=x,_=0;b<i;b=+e.add(b,u,l),_++)zk(p,b,A);return(b===i||s.bounds==="ticks"||_===1)&&zk(p,b,A),Object.keys(p).sort(Uk).map(R=>+R)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,o=this._unit,l=n||s[o];return this._adapter.format(e,l)}_tickFormatFunction(e,n,i,s){const o=this.options,l=o.ticks.callback;if(l)return pt(l,[e,n,i],this);const u=o.time.displayFormats,h=this._unit,m=this._majorUnit,p=h&&u[h],x=m&&u[m],b=i[n],_=m&&x&&b&&b.major;return this._adapter.format(e,s||(_?x:p))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=wo(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Hk(this,[e],this._majorUnit),s),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(Bk(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return ZC(e.sort(Uk))}}function rm(t,e,n){let i=0,s=t.length-1,o,l,u,h;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=tv(t,"pos",e)),{pos:o,time:u}=t[i],{pos:l,time:h}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=tv(t,"time",e)),{time:o,pos:u}=t[i],{time:l,pos:h}=t[s]);const m=l-o;return m?u+(h-u)*(e-o)/m:u}class IY extends qk{static id="timeseries";static defaults=qk.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=rm(n,this.min),this._tableRange=rm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],o=[];let l,u,h,m,p;for(l=0,u=e.length;l<u;++l)m=e[l],m>=n&&m<=i&&s.push(m);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],h=s[l-1],m=s[l],Math.round((p+h)/2)!==m&&o.push({time:m,pos:l/(u-1)});return o}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(rm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return rm(this._table,i*this._tableRange+this._minPos,!0)}}const R4="label";function $k(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function nY(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function D4(t,e){t.labels=e}function M4(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R4;const i=[];t.datasets=e.map(s=>{const o=t.datasets.find(l=>l[n]===s[n]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function iY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R4;const n={labels:[],datasets:[]};return D4(n,t.labels),M4(n,t.datasets,e),n}function sY(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:l,data:u,options:h,plugins:m=[],fallbackContent:p,updateMode:x,...b}=t,_=S.useRef(null),A=S.useRef(null),R=()=>{_.current&&(A.current=new Hg(_.current,{type:l,data:iY(u,o),options:h&&{...h},plugins:m}),$k(e,A.current))},C=()=>{$k(e,null),A.current&&(A.current.destroy(),A.current=null)};return S.useEffect(()=>{!s&&A.current&&h&&nY(A.current,h)},[s,h]),S.useEffect(()=>{!s&&A.current&&D4(A.current.config.data,u.labels)},[s,u.labels]),S.useEffect(()=>{!s&&A.current&&u.datasets&&M4(A.current.config.data,u.datasets,o)},[s,u.datasets]),S.useEffect(()=>{A.current&&(s?(C(),setTimeout(R)):A.current.update(x))},[s,h,u.labels,u.datasets,x]),S.useEffect(()=>{A.current&&(C(),setTimeout(R))},[l]),S.useEffect(()=>(R(),()=>C()),[]),jo.createElement("canvas",{ref:_,role:"img",height:n,width:i,...b},p)}const rY=S.forwardRef(sY);function aY(t,e){return Hg.register(e),S.forwardRef((n,i)=>jo.createElement(rY,{...n,ref:i,type:t}))}const oY=aY("bar",mG);Hg.register(KW,ZW,jW,VW,$W,OW);const lY=()=>{const{user:t}=qn(),{appointments:e}=ch(),n=Qk(),i=e.filter(h=>h.doctorId===t.id),s=i.filter(h=>h.status==="Pending"),o=i.filter(h=>h.status==="Confirmed"),l=i.filter(h=>h.status==="Rejected"),u=n.pathname==="/doctor"||n.pathname==="/doctor/";return d.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-gray-900 dark:to-gray-800 min-h-full",children:u?d.jsx(cY,{user:t,appointments:i,pendingAppointments:s,confirmedAppointments:o,rejectedAppointments:l}):d.jsx(Zk,{})})},cY=({user:t,appointments:e,pendingAppointments:n,confirmedAppointments:i,rejectedAppointments:s})=>{const o={labels:["Accepted","Rejected","Pending"],datasets:[{label:"Appointments",data:[i.length,s.length,n.length],backgroundColor:["rgba(34,197,94,0.7)","rgba(239,68,68,0.7)","rgba(253,224,71,0.7)"],borderRadius:8}]},l={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Appointment Status Overview",color:"#2563eb",font:{size:18,weight:"bold"}}},animation:{duration:1200,easing:"easeOutBounce"},scales:{x:{grid:{display:!1},ticks:{color:"#2563eb",font:{size:14,weight:"bold"}}},y:{beginAtZero:!0,grid:{color:"#e0e7ff"},ticks:{color:"#2563eb",font:{size:14,weight:"bold"}}}}};return d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold text-blue-700 dark:text-blue-100 mb-2 animate-fade-in",children:["Welcome, Dr. ",t.name,"!"]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 animate-fade-in-slow",children:"Heres a quick overview of your dashboard."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[d.jsx(Vy,{title:"Total Appointments",value:e.length,color:"from-blue-400 to-blue-600",icon:""}),d.jsx(Vy,{title:"Accepted",value:i.length,color:"from-green-400 to-green-600",icon:""}),d.jsx(Vy,{title:"Rejected",value:s.length,color:"from-red-400 to-red-600",icon:""})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-10 animate-fade-in-slow",children:d.jsx(oY,{data:o,options:l})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsx(Ly,{title:"Pending Requests",value:n.length,description:"New appointment requests awaiting your action.",color:"bg-yellow-100 text-yellow-800",icon:""}),d.jsx(Ly,{title:"Open Patient Cases",value:e.length,description:"Total open cases you are handling.",color:"bg-blue-100 text-blue-800",icon:""}),d.jsx(Ly,{title:"Your Performance",value:e.length>0?`${Math.round(i.length/e.length*100)}%`:"0%",description:"Acceptance rate of appointments.",color:"bg-green-100 text-green-800",icon:""})]})]})},Vy=({title:t,value:e,color:n,icon:i})=>d.jsxs("div",{className:`bg-gradient-to-br ${n} rounded-xl shadow-md p-6 flex flex-col items-center justify-center animate-fade-in`,children:[d.jsx("span",{className:"text-4xl mb-2",children:i}),d.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:t}),d.jsx("p",{className:"text-2xl font-bold text-white",children:e})]}),Ly=({title:t,value:e,description:n,color:i,icon:s})=>d.jsxs("div",{className:`rounded-xl shadow-md p-6 flex flex-col gap-2 ${i} animate-fade-in`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:s}),d.jsx("h4",{className:"font-bold text-lg",children:t})]}),d.jsx("p",{className:"text-3xl font-extrabold",children:e}),d.jsx("p",{className:"text-sm",children:n})]}),I4=document.createElement("style");I4.innerHTML=`
@keyframes fade-in { from { opacity: 0; transform: translateY(20px);} to { opacity: 1; transform: none;} }
.animate-fade-in { animation: fade-in 0.8s ease; }
.animate-fade-in-slow { animation: fade-in 1.5s ease; }
`;document.head.appendChild(I4);var Uy={exports:{}},By,Gk;function uY(){if(Gk)return By;Gk=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return By=t,By}var Fy,Wk;function dY(){if(Wk)return Fy;Wk=1;var t=uY();function e(){}function n(){}return n.resetWarningCache=e,Fy=function(){function i(l,u,h,m,p,x){if(x!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function s(){return i}var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},Fy}var Yk;function hY(){return Yk||(Yk=1,Uy.exports=dY()()),Uy.exports}var fY=hY();const Kk=av(fY),O4=({onClose:t,inventoryData:e})=>{const[n,i]=S.useState(""),s=e.filter(o=>o.name.toLowerCase().includes(n.toLowerCase()));return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-4xl w-full mx-4 transform scale-95 transition-transform duration-300 max-h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Medicine Inventory"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:d.jsx(Jd,{className:"w-6 h-6"})})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Manage your pharmacy inventory with real-time stock tracking and expiry monitoring."}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(TN,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search medicines...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n,onChange:o=>i(o.target.value)})]}),d.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.length>0?s.map(o=>{const l=o.stock<50,u=new Date(o.expiry)<new Date(Date.now()+720*60*60*1e3);return d.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:o.name}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stock:"}),d.jsxs("span",{className:`text-sm font-medium ${l?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100"}`,children:[o.stock," ",o.unit]}),l&&d.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",children:"Low Stock"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expiry:"}),d.jsx("span",{className:`text-sm font-medium ${u?"text-orange-600 dark:text-orange-400":"text-gray-900 dark:text-gray-100"}`,children:o.expiry}),u&&d.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300",children:"Expiring Soon"})]})]})]}),d.jsx("button",{className:"px-3 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm font-medium",children:"Update"})]})},o.id)}):d.jsxs("div",{className:"col-span-2 text-center py-12 text-gray-500 dark:text-gray-400",children:[d.jsx(_N,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),d.jsx("p",{children:"No medicines found."})]})})}),d.jsx("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-600",children:d.jsx("button",{onClick:t,className:"px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:"Close"})})]})})};O4.propTypes={onClose:Kk.func.isRequired,inventoryData:Kk.array.isRequired};const mY=()=>{const[t,e]=S.useState(!1),[n,i]=S.useState(""),s=[{id:1,name:"Metformin 500mg",stock:150,unit:"tablets",expiry:"2026-03-15"},{id:2,name:"Lisinopril 10mg",stock:25,unit:"tablets",expiry:"2025-08-20"},{id:3,name:"Vitamin D3",stock:300,unit:"capsules",expiry:"2027-01-10"},{id:4,name:"Ibuprofen 400mg",stock:15,unit:"tablets",expiry:"2025-09-01"},{id:5,name:"Amoxicillin 250mg",stock:100,unit:"capsules",expiry:"2026-11-25"},{id:6,name:"Acetaminophen 325mg",stock:45,unit:"tablets",expiry:"2025-12-10"},{id:7,name:"Losartan 50mg",stock:80,unit:"tablets",expiry:"2026-05-20"},{id:8,name:"Omeprazole 20mg",stock:120,unit:"capsules",expiry:"2026-08-15"}],o=[{name:"Pending Orders",value:"12",icon:xr,color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-100 dark:bg-yellow-900/30"},{name:"Completed Today",value:"28",icon:Ag,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900/30"},{name:"Total Prescriptions",value:"156",icon:hc,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900/30"},{name:"Out for Delivery",value:"8",icon:YV,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900/30"}],u=[{id:"RX001",patient:"John Doe",doctor:"Dr. Smith",medicines:["Metformin 500mg","Lisinopril 10mg"],priority:"high",submittedAt:"2 hours ago",status:"pending"},{id:"RX002",patient:"Sarah Wilson",doctor:"Dr. Johnson",medicines:["Vitamin D3","Calcium tablets"],priority:"normal",submittedAt:"4 hours ago",status:"pending"},{id:"RX003",patient:"Michael Brown",doctor:"Dr. Davis",medicines:["Ibuprofen 400mg"],priority:"low",submittedAt:"6 hours ago",status:"pending"},{id:"RX004",patient:"Emily Johnson",doctor:"Dr. Wilson",medicines:["Omeprazole 20mg","Vitamin B12"],priority:"normal",submittedAt:"8 hours ago",status:"pending"}].filter(h=>h.id.toLowerCase().includes(n.toLowerCase())||h.patient.toLowerCase().includes(n.toLowerCase())||h.doctor.toLowerCase().includes(n.toLowerCase()));return d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[d.jsxs("div",{className:"p-6 lg:p-8",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl lg:text-4xl font-black text-gray-900 dark:text-gray-100",children:"Pharmacy Dashboard"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 text-lg",children:"Manage prescriptions and track inventory efficiently"})]}),d.jsxs("button",{onClick:()=>e(!0),className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 font-semibold hover:scale-105",children:[d.jsx(_N,{className:"h-5 w-5"}),d.jsx("span",{children:"View Inventory"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:o.map(h=>d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow border border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:h.name}),d.jsx("p",{className:"text-3xl font-black text-gray-900 dark:text-gray-100 mt-2",children:h.value})]}),d.jsx("div",{className:`p-4 rounded-2xl ${h.bgColor}`,children:d.jsx(h.icon,{className:`h-7 w-7 ${h.color}`})})]})},h.name))}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Pending Prescription Orders"}),d.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[u.length," orders awaiting processing"]})]}),d.jsx("button",{className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 text-sm font-semibold",children:"View All Orders"})]}),d.jsxs("div",{className:"relative mt-6",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:d.jsx(TN,{className:"w-5 h-5 text-gray-400"})}),d.jsx("input",{type:"text",placeholder:"Search by Patient, Doctor, or Order ID...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:n,onChange:h=>i(h.target.value)})]})]}),d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"space-y-4",children:u.length>0?u.map(h=>d.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-xl p-6 hover:border-emerald-300 dark:hover:border-emerald-600 transition-colors bg-gray-50 dark:bg-gray-700/50",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("span",{className:"font-mono text-sm bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-lg font-medium",children:h.id}),d.jsxs("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${h.priority==="high"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":h.priority==="normal"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:[h.priority.toUpperCase()," PRIORITY"]})]}),d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:h.submittedAt})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-1",children:"Patient"}),d.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:h.patient})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-1",children:"Prescribed by"}),d.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:h.doctor})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-1",children:"Items"}),d.jsxs("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:[h.medicines.length," medicines"]})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-3",children:"Prescribed Medicines:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:h.medicines.map((m,p)=>d.jsx("span",{className:"inline-block bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 px-3 py-2 rounded-lg text-sm font-medium",children:m},p))})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[d.jsx("button",{className:"px-6 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",children:"Review Details"}),d.jsx("button",{className:"px-6 py-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 font-semibold",children:"Process Order"})]})]},h.id)):d.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[d.jsx(hc,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),d.jsx("p",{className:"text-lg font-medium",children:"No pending orders found."}),d.jsx("p",{className:"text-sm",children:"Try adjusting your search criteria."})]})})})]})]}),t&&d.jsx(O4,{onClose:()=>e(!1),inventoryData:s})]})},zy=()=>{const{user:t,loading:e}=qn(),[n,i]=S.useState(!1),[s,o]=S.useState({name:"",email:"",contact:"",specialization:"",licenseNumber:"",experience:"",pharmacyName:"",pharmacyAddress:""});S.useEffect(()=>{t&&o({name:t.name||"",email:t.email||"",contact:t.contact||"",specialization:t.specialization||"",licenseNumber:t.licenseNumber||"",experience:t.experience||"",pharmacyName:t.pharmacyName||"",pharmacyAddress:t.pharmacyAddress||""})},[t]);const l=m=>{const{name:p,value:x}=m.target;o(b=>({...b,[p]:x}))},u=()=>{i(!n)},h=m=>{m.preventDefault(),console.log("Updated profile data:",s),i(!1)};return e?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(jc,{size:"lg"})}):t?d.jsx("div",{className:"container mx-auto p-4 md:p-8",children:d.jsx("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"My Profile"}),d.jsxs("form",{onSubmit:h,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"name",className:"block text-gray-700 font-semibold mb-2",children:"Full Name"}),d.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-semibold mb-2",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"contact",className:"block text-gray-700 font-semibold mb-2",children:"Contact Number"}),d.jsx("input",{type:"tel",id:"contact",name:"contact",value:s.contact,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),t.role==="doctor"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"specialization",className:"block text-gray-700 font-semibold mb-2",children:"Specialization"}),d.jsx("input",{type:"text",id:"specialization",name:"specialization",value:s.specialization,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"licenseNumber",className:"block text-gray-700 font-semibold mb-2",children:"Medical License Number"}),d.jsx("input",{type:"text",id:"licenseNumber",name:"licenseNumber",value:s.licenseNumber,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"experience",className:"block text-gray-700 font-semibold mb-2",children:"Years of Experience"}),d.jsx("input",{type:"number",id:"experience",name:"experience",value:s.experience,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]})]}),t.role==="pharmacist"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"licenseNumber",className:"block text-gray-700 font-semibold mb-2",children:"Pharmacy License Number"}),d.jsx("input",{type:"text",id:"licenseNumber",name:"licenseNumber",value:s.licenseNumber,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"pharmacyName",className:"block text-gray-700 font-semibold mb-2",children:"Pharmacy Name"}),d.jsx("input",{type:"text",id:"pharmacyName",name:"pharmacyName",value:s.pharmacyName,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"pharmacyAddress",className:"block text-gray-700 font-semibold mb-2",children:"Pharmacy Address"}),d.jsx("textarea",{id:"pharmacyAddress",name:"pharmacyAddress",value:s.pharmacyAddress,onChange:l,disabled:!n,rows:"3",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]})]}),d.jsxs("div",{className:"flex items-center justify-end gap-4",children:[d.jsx("button",{type:"button",onClick:u,className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:n?"Cancel":"Edit Profile"}),n&&d.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})]})})}):d.jsx("div",{className:"text-center mt-8",children:"Please log in to view your profile."})},gY={confirmed:"bg-green-500",pending:"bg-yellow-500",cancelled:"bg-red-500",rejected:"bg-red-500"},pY=()=>{const{user:t}=qn(),{appointments:e,bookAppointment:n,updateAppointmentStatus:i,cancelAppointment:s}=ch(),[o,l]=S.useState({patientName:"",date:"",time:""}),u=S.useMemo(()=>{const b=new Date;return e.filter(_=>_.doctorId===t.id).map(_=>{const A=_.time||"09:00",R=_.patient||(_.patientId?j9(_.patientId):{name:"N/A"}),C=_.status||"Pending";let L=new Date(`${_.date}T${A.replace(" ","")}`);return isNaN(L)&&(L=new Date(_.date)),{..._,patient:R,time:A,status:C,isUpcoming:L>=b&&C!=="Cancelled"&&C!=="Rejected"}}).sort((_,A)=>new Date(_.date)-new Date(A.date))},[e,t.id]),h=b=>{l({...o,[b.target.name]:b.target.value})},m=b=>{b.preventDefault(),o.patientName&&o.date&&(n({doctorId:t.id,patient:{name:o.patientName,email:`${o.patientName}@demo.com`},date:o.date,time:o.time||"09:00"}),l({patientName:"",date:"",time:""}))},p=b=>gY[b.toLowerCase()]||"bg-gray-500",x=({apt:b})=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden relative flex flex-col justify-between transition hover:scale-[1.02] duration-200",children:[d.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 text-white text-xs font-bold rounded-full bg-blue-500",children:b.isUpcoming?"Upcoming":"Past"}),d.jsx("div",{className:`h-2 ${p(b.status)}`}),d.jsxs("div",{className:"p-6 flex flex-col gap-2",children:[d.jsx("h3",{className:"text-xl font-bold text-blue-700 dark:text-blue-200 mb-2",children:b.patient?.name||"N/A"}),d.jsxs("div",{className:"flex flex-col gap-1 text-gray-700 dark:text-gray-300 mb-2",children:[d.jsxs("span",{children:[d.jsx("strong",{children:"Date:"})," ",b.date||"N/A"]}),d.jsxs("span",{children:[d.jsx("strong",{children:"Time:"})," ",b.time||"N/A"]}),d.jsxs("span",{children:[d.jsx("strong",{children:"Email:"})," ",b.patient?.email||"N/A"]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:`px-4 py-1 text-white text-sm font-semibold rounded-full ${p(b.status)}`,children:b.status}),d.jsxs("div",{className:"flex gap-2",children:[b.status==="Pending"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>i(b.id,"Confirmed"),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition",children:"Accept"}),d.jsx("button",{onClick:()=>i(b.id,"Rejected"),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition",children:"Reject"})]}),b.status==="Confirmed"&&b.isUpcoming&&d.jsx("button",{onClick:()=>s(b.id),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition",children:"Cancel"})]})]})]})]});return d.jsxs("div",{className:"p-8 bg-gradient-to-b from-purple-50 to-purple-100 dark:from-gray-900 dark:to-gray-800 rounded-xl shadow-lg min-h-screen",children:[d.jsxs("header",{className:"mb-8 text-center",children:[d.jsx("h2",{className:"text-4xl font-extrabold text-blue-700 dark:text-blue-100",children:"Your Appointment Schedule"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Add new appointments and manage your schedule."})]}),d.jsxs("form",{onSubmit:m,className:"flex flex-col md:flex-row gap-4 items-center justify-center mb-10",children:[d.jsx("input",{type:"text",name:"patientName",value:o.patientName,onChange:h,placeholder:"Patient Name",className:"border border-blue-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),d.jsx("input",{type:"date",name:"date",value:o.date,onChange:h,className:"border border-blue-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),d.jsx("input",{type:"time",name:"time",value:o.time,onChange:h,className:"border border-blue-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),d.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg shadow transition",children:"Add Appointment"})]}),d.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:u.length>0?u.map(b=>d.jsx(x,{apt:b},b.id)):d.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 col-span-full",children:"You have no appointments."})})]})};function yY(){const[t,e]=S.useState([]);return S.useEffect(()=>{fetch("/api/notifications/me",{credentials:"include"}).then(n=>n.json()).then(e).catch(n=>console.error("Error fetching notifications:",n))},[]),d.jsxs("div",{className:"p-6",children:[d.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Notifications"}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow border border-gray-200 dark:border-gray-700 divide-y",children:t.length>0?t.map(n=>d.jsxs("div",{className:"p-4 flex items-start justify-between hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-100",children:n.message}),d.jsx("div",{className:"text-xs text-gray-500",children:new Date(n.createdAt).toLocaleString()})]}),!n.read&&d.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300",children:"Unread"})]},n._id)):d.jsx("div",{className:"p-6 text-sm text-gray-500 text-center",children:"No notifications"})})]})}function xY(){const[t,e]=S.useState(!0),[n,i]=S.useState(0),{theme:s}=Bo();return S.useEffect(()=>{const o=()=>{window.scrollY>n?e(!1):e(!0),i(window.scrollY)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[n]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`fixed top-0 left-0 w-full z-50 transition-transform duration-300 ${t?"translate-y-0":"-translate-y-full"}`,children:d.jsx(rC,{})}),d.jsxs("div",{className:`pt-16 min-h-screen flex flex-col ${s==="dark"?"dark bg-secondary text-gray-300":"bg-gray-50 text-gray-800"}`,children:[d.jsxs("section",{className:"bg-gray-100 dark:bg-gray-800/40 py-12 text-center border-b border-gray-300 dark:border-gray-700",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Privacy Policy"}),d.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Last Updated: August 16, 2025"})]}),d.jsxs("main",{className:"max-w-4xl mx-auto px-6 py-12 space-y-8 flex-1",children:[d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"1. Introduction"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:"Welcome to CareSync. Your privacy is important to us. This Privacy Policy explains how we collect, use, and safeguard your personal information when you use our platform."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"2. Information We Collect"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700 dark:text-gray-300",children:[d.jsx("li",{children:"Personal information such as name, email, and phone number"}),d.jsx("li",{children:"Healthcare-related information provided by you or your provider"}),d.jsx("li",{children:"Technical data like IP address, browser type, and usage patterns"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"3. How We Use Your Information"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:"We use your data to provide and improve our services, ensure security, comply with legal obligations, and communicate updates about the platform."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"4. Data Security"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:"CareSync implements industry-standard security measures, including 256-bit encryption, HIPAA compliance, and multi-factor authentication to protect your data."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"5. Your Rights"}),d.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-gray-700 dark:text-gray-300",children:[d.jsx("li",{children:"Access your personal information"}),d.jsx("li",{children:"Request correction or deletion of your data"}),d.jsx("li",{children:"Opt out of certain data processing activities"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"6. Contact Us"}),d.jsxs("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:["If you have questions about this Privacy Policy, please contact us at"," ",d.jsx("a",{href:"mailto:privacy@caresync.com",className:"text-primary hover:underline",children:"privacy@caresync.com"}),"."]})]})]})]}),d.jsx(Ib,{})]})}const vY={Pending:"bg-yellow-100 text-yellow-800",Confirmed:"bg-green-100 text-green-800"},bY=()=>{const{user:t}=qn(),{appointments:e}=ch(),n=e.filter(o=>o.doctorId===t.id&&(o.status==="Pending"||o.status==="Confirmed")),i={};n.forEach(o=>{o.patient&&o.patient.name&&(i[o.patient.name]={...o.patient,status:o.status,date:o.date})});const s=Object.values(i);return d.jsxs("div",{className:"p-8 bg-gradient-to-b from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 rounded-xl shadow-lg min-h-screen",children:[d.jsxs("header",{className:"mb-8 text-center",children:[d.jsx("h2",{className:"text-4xl font-extrabold text-green-700 dark:text-green-100",children:"Your Patients"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"View all patients with active appointments."})]}),d.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:s.length>0?s.map((o,l)=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 flex flex-col gap-2 relative",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"font-bold text-lg text-green-700 dark:text-green-200",children:o.name}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${vY[o.status]||"bg-gray-100 text-gray-800"}`,children:o.status})]}),d.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[d.jsx("strong",{children:"Email:"})," ",o.email]}),d.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[d.jsx("strong",{children:"Next Appointment:"})," ",o.date]})]},o.email+l)):d.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 col-span-full",children:"No active patients found."})})]})},dh=({title:t="Under Construction",message:e="This feature is currently being developed. Please check back soon!"})=>d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-2xl mx-auto text-center px-6",children:[d.jsx(J.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:"/underconstruction.svg",alt:"Under Construction",className:"w-64 h-64 mx-auto drop-shadow-2xl"})}),d.jsx(J.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},className:"text-4xl md:text-5xl font-bold text-gray-800 dark:text-white mb-6",children:t}),d.jsx(J.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.4},className:"text-lg md:text-xl text-gray-600 dark:text-gray-300 mb-8 leading-relaxed",children:e}),d.jsx(J.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:1.5,delay:.6,ease:"easeOut"},className:"w-full bg-gray-200 rounded-full h-3 mb-8 dark:bg-gray-700",children:d.jsx(J.div,{initial:{width:0},animate:{width:10},transition:{duration:2,delay:1,ease:"easeOut"},className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full shadow-lg"})}),d.jsxs(J.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.8},className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[d.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-lg p-4 shadow-lg backdrop-blur-sm",children:[d.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-semibold mb-1",children:"Development"}),d.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-lg p-4 shadow-lg backdrop-blur-sm",children:[d.jsx("div",{className:"text-purple-600 dark:text-purple-400 font-semibold mb-1",children:"Testing"}),d.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Pending"})]}),d.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-lg p-4 shadow-lg backdrop-blur-sm",children:[d.jsx("div",{className:"text-green-600 dark:text-green-400 font-semibold mb-1",children:"Release"}),d.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Coming Soon"})]})]}),d.jsx(J.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.history.back(),className:"mt-8 px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:from-blue-700 hover:to-purple-700",children:"Go Back"})]})}),Hy=()=>d.jsx(dh,{title:"Messages",message:"The messaging system is currently under development. Users will soon be able to communicate with healthcare providers and other users."}),qy=()=>d.jsx(dh,{title:"Settings",message:"The settings panel is currently under development. Users will soon be able to customize their preferences and manage their account settings."}),wY=()=>d.jsx(dh,{title:"Inventory",message:"The inventory system is currently under development. Users will soon be able to view and manage their medical supplies and equipment."}),_Y=()=>d.jsx(dh,{title:"Prescription Management",message:"The patients management system is currently under development. Doctors will soon be able to view patient lists, manage patient records, and track patient progress."}),TY=()=>d.jsx(dh,{title:"Inventory",message:"The inventory system is currently under development. Users will soon be able to view and manage their medical supplies and equipment."}),am=({children:t,requiredRole:e=null})=>{const{user:n,loading:i}=qn();return console.log("ProtectedRoute - user:",n,"loading:",i,"requiredRole:",e),i?(console.log("ProtectedRoute - showing loading spinner"),d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(jc,{size:"lg"})})):n?e&&n.role!==e?(console.log("ProtectedRoute - role mismatch, redirecting to user role"),d.jsx(fd,{to:`/${n.role}`,replace:!0})):(console.log("ProtectedRoute - rendering children"),t):(console.log("ProtectedRoute - no user, redirecting to login"),d.jsx(fd,{to:"/login",replace:!0}))},Xk=({children:t,authOnly:e=!1})=>{const{user:n,loading:i}=qn();return console.log("PublicRoute - user:",n,"loading:",i,"authOnly:",e),i?(console.log("PublicRoute - showing loading spinner"),d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(jc,{size:"lg"})})):n&&e?(console.log("PublicRoute - user authenticated, redirecting to dashboard"),d.jsx(fd,{to:`/${n.role}`,replace:!0})):(console.log("PublicRoute - rendering public content"),t)},SY=()=>{const{user:t,loading:e}=qn();return console.log("AppRoutes - user:",t,"loading:",e),e?(console.log("AppRoutes - showing loading spinner"),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-950",children:d.jsxs("div",{className:"text-center",children:[d.jsx(jc,{size:"xl"}),d.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading CareSync..."})]})})):(console.log("AppRoutes - rendering routes, user:",t),d.jsxs(oR,{children:[d.jsx(We,{path:"/",element:d.jsx(Oz,{})}),d.jsx(We,{path:"/contact",element:d.jsx(Pz,{})}),d.jsx(We,{path:"/feature",element:d.jsx(DC,{})}),d.jsx(We,{path:"/privacy-policy",element:d.jsx(xY,{})}),d.jsx(We,{path:"/about",element:d.jsx(cH,{})}),d.jsx(We,{path:"/login",element:d.jsx(Xk,{authOnly:!0,children:d.jsx(pH,{})})}),d.jsx(We,{path:"/register",element:d.jsx(Xk,{authOnly:!0,children:d.jsx(rq,{})})}),d.jsx(We,{element:d.jsx(am,{children:d.jsx($f,{})}),children:d.jsx(We,{path:"/notifications",element:d.jsx(yY,{})})}),d.jsxs(We,{path:"/patient",element:d.jsx(am,{requiredRole:"patient",children:d.jsx($f,{})}),children:[d.jsx(We,{index:!0,element:d.jsx(mq,{})}),d.jsx(We,{path:"prescriptions",element:d.jsx(zC,{})}),d.jsx(We,{path:"appointments",element:d.jsx(HC,{})}),d.jsx(We,{path:"health-logs",element:d.jsx(qC,{})}),d.jsx(We,{path:"messages",element:d.jsx(Hy,{})}),d.jsx(We,{path:"profile",element:d.jsx(zy,{})}),d.jsx(We,{path:"settings",element:d.jsx(qy,{})}),d.jsx(We,{path:"inventory",element:d.jsx(wY,{})})]}),d.jsxs(We,{path:"/doctor",element:d.jsx(am,{requiredRole:"doctor",children:d.jsx($f,{})}),children:[d.jsx(We,{index:!0,element:d.jsx(lY,{})}),d.jsx(We,{path:"schedule",element:d.jsx(pY,{})}),d.jsx(We,{path:"patients",element:d.jsx(bY,{})}),d.jsx(We,{path:"messages",element:d.jsx(Hy,{})}),d.jsx(We,{path:"profile",element:d.jsx(zy,{})}),d.jsx(We,{path:"settings",element:d.jsx(qy,{})})]}),d.jsxs(We,{path:"/pharmacist",element:d.jsx(am,{requiredRole:"pharmacist",children:d.jsx($f,{})}),children:[d.jsx(We,{index:!0,element:d.jsx(mY,{})}),d.jsx(We,{path:"messages",element:d.jsx(Hy,{})}),d.jsx(We,{path:"profile",element:d.jsx(zy,{})}),d.jsx(We,{path:"settings",element:d.jsx(qy,{})}),d.jsx(We,{path:"prescriptions",element:d.jsx(_Y,{})}),d.jsx(We,{path:"inventory",element:d.jsx(TY,{})})]}),d.jsx(We,{path:"*",element:t?d.jsx(fd,{to:`/${t.role}`,replace:!0}):d.jsx(fd,{to:"/",replace:!0})})]}))};function EY(){return d.jsx(R9,{children:d.jsx(aq,{children:d.jsx(aR,{children:d.jsxs("div",{className:"App bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-100",children:[d.jsx(SY,{}),d.jsx(sq,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"var(--toast-bg, #fff)",color:"var(--toast-color, #333)",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",border:"1px solid var(--toast-border, #e5e7eb)"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"},style:{background:"#f0fdf4",color:"#065f46",border:"1px solid #bbf7d0"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"},style:{background:"#fef2f2",color:"#991b1b",border:"1px solid #fecaca"}}},containerStyle:{top:20,right:20}})]})})})})}gR.createRoot(document.getElementById("root")).render(d.jsx(jo.StrictMode,{children:d.jsx(LB,{children:d.jsx(EY,{})})}));
