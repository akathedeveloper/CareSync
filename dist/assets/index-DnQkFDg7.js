import{r as k,R as Co,L as Tt,u as tv,a as Fk,O as zk,B as W3,b as Y3,c as Ze,N as md}from"./router-DsEbFngA.js";import{r as nv,a as K3,g as Hk}from"./vendor-gH-7aFTg.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Vp={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function X3(){if(d2)return Du;d2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Du.Fragment=e,Du.jsx=n,Du.jsxs=n,Du}var h2;function qk(){return h2||(h2=1,Vp.exports=X3()),Vp.exports}var d=qk(),Lp={exports:{}},Mu={},Up={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2;function Q3(){return f2||(f2=1,(function(t){function e(F,$){var le=F.length;F.push($);e:for(;0<le;){var fe=le-1>>>1,ue=F[fe];if(0<s(ue,$))F[fe]=$,F[le]=ue,le=fe;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var $=F[0],le=F.pop();if(le!==$){F[0]=le;e:for(var fe=0,ue=F.length,ve=ue>>>1;fe<ve;){var xe=2*(fe+1)-1,he=F[xe],ke=xe+1,$e=F[ke];if(0>s(he,le))ke<ue&&0>s($e,he)?(F[fe]=$e,F[ke]=le,fe=ke):(F[fe]=he,F[xe]=le,fe=xe);else if(ke<ue&&0>s($e,le))F[fe]=$e,F[ke]=le,fe=ke;else break e}}return $}function s(F,$){var le=F.sortIndex-$.sortIndex;return le!==0?le:F.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],m=[],p=1,v=null,b=3,_=!1,A=!1,C=!1,j=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function K(F){for(var $=n(m);$!==null;){if($.callback===null)i(m);else if($.startTime<=F)i(m),$.sortIndex=$.expirationTime,e(f,$);else break;$=n(m)}}function Q(F){if(C=!1,K(F),!A)if(n(f)!==null)A=!0,te||(te=!0,O());else{var $=n(m);$!==null&&se(Q,$.startTime-F)}}var te=!1,L=-1,E=5,N=-1;function D(){return j?!0:!(t.unstable_now()-N<E)}function I(){if(j=!1,te){var F=t.unstable_now();N=F;var $=!0;try{e:{A=!1,C&&(C=!1,U(L),L=-1),_=!0;var le=b;try{t:{for(K(F),v=n(f);v!==null&&!(v.expirationTime>F&&D());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,b=v.priorityLevel;var ue=fe(v.expirationTime<=F);if(F=t.unstable_now(),typeof ue=="function"){v.callback=ue,K(F),$=!0;break t}v===n(f)&&i(f),K(F)}else i(f);v=n(f)}if(v!==null)$=!0;else{var ve=n(m);ve!==null&&se(Q,ve.startTime-F),$=!1}}break e}finally{v=null,b=le,_=!1}$=void 0}}finally{$?O():te=!1}}}var O;if(typeof z=="function")O=function(){z(I)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=I,O=function(){X.postMessage(null)}}else O=function(){P(I,0)};function se(F,$){L=P(function(){F(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(F){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var le=b;b=$;try{return F()}finally{b=le}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(F,$){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var le=b;b=F;try{return $()}finally{b=le}},t.unstable_scheduleCallback=function(F,$,le){var fe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,F){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=le+ue,F={id:p++,callback:$,priorityLevel:F,startTime:le,expirationTime:ue,sortIndex:-1},le>fe?(F.sortIndex=le,e(m,F),n(f)===null&&F===n(m)&&(C?(U(L),L=-1):C=!0,se(Q,le-fe))):(F.sortIndex=ue,e(f,F),A||_||(A=!0,te||(te=!0,O()))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var $=b;return function(){var le=b;b=$;try{return F.apply(this,arguments)}finally{b=le}}}})(Bp)),Bp}var m2;function Z3(){return m2||(m2=1,Up.exports=Q3()),Up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function J3(){if(g2)return Mu;g2=1;var t=Z3(),e=nv(),n=K3();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(i(188))}function f(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,h=a;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return u(y),r;if(x===h)return u(y),a;x=x.sibling}throw Error(i(188))}if(c.return!==h.return)c=y,h=x;else{for(var S=!1,R=y.child;R;){if(R===c){S=!0,c=y,h=x;break}if(R===h){S=!0,h=y,c=x;break}R=R.sibling}if(!S){for(R=x.child;R;){if(R===c){S=!0,c=x,h=y;break}if(R===h){S=!0,h=x,c=y;break}R=R.sibling}if(!S)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),z=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function X(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case j:return"Profiler";case C:return"StrictMode";case Q:return"Suspense";case te:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case z:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case K:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return a=r.displayName||null,a!==null?a:X(r.type)||"Memo";case E:a=r._payload,r=r._init;try{return X(r(a))}catch{}}return null}var se=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},fe=[],ue=-1;function ve(r){return{current:r}}function xe(r){0>ue||(r.current=fe[ue],fe[ue]=null,ue--)}function he(r,a){ue++,fe[ue]=r.current,r.current=a}var ke=ve(null),$e=ve(null),Be=ve(null),At=ve(null);function Nt(r,a){switch(he(Be,a),he($e,r),he(ke,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?U_(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=U_(a),r=B_(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}xe(ke),he(ke,r)}function ct(){xe(ke),xe($e),xe(Be)}function tn(r){r.memoizedState!==null&&he(At,r);var a=ke.current,c=B_(a,r.type);a!==c&&(he($e,r),he(ke,c))}function Wt(r){$e.current===r&&(xe(ke),xe($e)),At.current===r&&(xe(At),Au._currentValue=le)}var kn=Object.prototype.hasOwnProperty,Ct=t.unstable_scheduleCallback,Ge=t.unstable_cancelCallback,An=t.unstable_shouldYield,dn=t.unstable_requestPaint,hn=t.unstable_now,Ho=t.unstable_getCurrentPriorityLevel,_r=t.unstable_ImmediatePriority,Tr=t.unstable_UserBlockingPriority,Ns=t.unstable_NormalPriority,Mc=t.unstable_LowPriority,Cs=t.unstable_IdlePriority,Na=t.log,qo=t.unstable_setDisableYieldValue,yt=null,Xe=null;function Vn(r){if(typeof Na=="function"&&qo(r),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(yt,r)}catch{}}var Ut=Math.clz32?Math.clz32:js,Ca=Math.log,$o=Math.LN2;function js(r){return r>>>=0,r===0?32:31-(Ca(r)/$o|0)|0}var oi=256,Yi=4194304;function Zn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Rs(r,a,c){var h=r.pendingLanes;if(h===0)return 0;var y=0,x=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var R=h&134217727;return R!==0?(h=R&~x,h!==0?y=Zn(h):(S&=R,S!==0?y=Zn(S):c||(c=R&~r,c!==0&&(y=Zn(c))))):(R=h&~x,R!==0?y=Zn(R):S!==0?y=Zn(S):c||(c=h&~r,c!==0&&(y=Zn(c)))),y===0?0:a!==0&&a!==y&&(a&x)===0&&(x=y&-y,c=a&-a,x>=c||x===32&&(c&4194048)!==0)?a:y}function Ki(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Ds(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ja(){var r=oi;return oi<<=1,(oi&4194048)===0&&(oi=256),r}function Sr(){var r=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),r}function Di(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function li(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Bt(r,a,c,h,y,x){var S=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var R=r.entanglements,B=r.expirationTimes,Y=r.hiddenUpdates;for(c=S&~c;0<c;){var ie=31-Ut(c),ae=1<<ie;R[ie]=0,B[ie]=-1;var Z=Y[ie];if(Z!==null)for(Y[ie]=null,ie=0;ie<Z.length;ie++){var J=Z[ie];J!==null&&(J.lane&=-536870913)}c&=~ae}h!==0&&mt(r,h,0),x!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=x&~(S&~a))}function mt(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var h=31-Ut(a);r.entangledLanes|=a,r.entanglements[h]=r.entanglements[h]|1073741824|c&4194090}function Xi(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var h=31-Ut(c),y=1<<h;y&a|r[h]&a&&(r[h]|=a),c&=~y}}function We(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function fn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qi(){var r=$.p;return r!==0?r:(r=window.event,r===void 0?32:r2(r.type))}function Er(r,a){var c=$.p;try{return $.p=r,a()}finally{$.p=c}}var ut=Math.random().toString(36).slice(2),jt="__reactFiber$"+ut,xt="__reactProps$"+ut,mn="__reactContainer$"+ut,Ms="__reactEvents$"+ut,Ra="__reactListeners$"+ut,ci="__reactHandles$"+ut,Go="__reactResources$"+ut,Mi="__reactMarker$"+ut;function Ii(r){delete r[jt],delete r[xt],delete r[Ms],delete r[Ra],delete r[ci]}function Oi(r){var a=r[jt];if(a)return a;for(var c=r.parentNode;c;){if(a=c[mn]||c[jt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=q_(r);r!==null;){if(c=r[jt])return c;r=q_(r)}return a}r=c,c=r.parentNode}return null}function ui(r){if(r=r[jt]||r[mn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Ae(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Me(r){var a=r[Go];return a||(a=r[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Re(r){r[Mi]=!0}var gn=new Set,nn={};function Ln(r,a){Pi(r,a),Pi(r+"Capture",a)}function Pi(r,a){for(nn[r]=a,r=0;r<a.length;r++)gn.add(a[r])}var Wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hh={},Da={};function fh(r){return kn.call(Da,r)?!0:kn.call(hh,r)?!1:Wo.test(r)?Da[r]=!0:(hh[r]=!0,!1)}function kr(r,a,c){if(fh(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function Zi(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function pn(r,a,c,h){if(h===null)r.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+h)}}var Ma,mh;function Is(r){if(Ma===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Ma=a&&a[1]||"",mh=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+r+mh}var Yo=!1;function Ko(r,a){if(!r||Yo)return"";Yo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var Z=J}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(J){Z=J}r.call(ae.prototype)}}else{try{throw Error()}catch(J){Z=J}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),S=x[0],R=x[1];if(S&&R){var B=S.split(`
`),Y=R.split(`
`);for(y=h=0;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Y.length&&!Y[y].includes("DetermineComponentFrameRoot");)y++;if(h===B.length||y===Y.length)for(h=B.length-1,y=Y.length-1;1<=h&&0<=y&&B[h]!==Y[y];)y--;for(;1<=h&&0<=y;h--,y--)if(B[h]!==Y[y]){if(h!==1||y!==1)do if(h--,y--,0>y||B[h]!==Y[y]){var ie=`
`+B[h].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=h&&0<=y);break}}}finally{Yo=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Is(c):""}function Ic(r){switch(r.tag){case 26:case 27:case 5:return Is(r.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 15:return Ko(r.type,!1);case 11:return Ko(r.type.render,!1);case 1:return Ko(r.type,!0);case 31:return Is("Activity");default:return""}}function Xo(r){try{var a="";do a+=Ic(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Un(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Oc(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Fg(r){var a=Oc(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),h=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return y.call(this)},set:function(S){h=""+S,x.call(this,S)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Qo(r){r._valueTracker||(r._valueTracker=Fg(r))}function Pc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return r&&(h=Oc(r)?r.checked?"true":"false":r.value),r=h,r!==c?(a.setValue(r),!0):!1}function Ia(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var zg=/[\n"\\]/g;function Ft(r){return r.replace(zg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Jn(r,a,c,h,y,x,S,R){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),a!=null?S==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Un(a)):r.value!==""+Un(a)&&(r.value=""+Un(a)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),a!=null?Ar(r,S,Un(a)):c!=null?Ar(r,S,Un(c)):h!=null&&r.removeAttribute("value"),y==null&&x!=null&&(r.defaultChecked=!!x),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+Un(R):r.removeAttribute("name")}function Oa(r,a,c,h,y,x,S,R){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),a!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;c=c!=null?""+Un(c):"",a=a!=null?""+Un(a):c,R||a===r.value||(r.value=a),r.defaultValue=a}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=R?r.checked:!!h,r.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S)}function Ar(r,a,c){a==="number"&&Ia(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Os(r,a,c,h){if(r=r.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=a.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&h&&(r[c].defaultSelected=!0)}else{for(c=""+Un(c),a=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}a!==null||r[y].disabled||(a=r[y])}a!==null&&(a.selected=!0)}}function rt(r,a,c){if(a!=null&&(a=""+Un(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+Un(c):""}function Pa(r,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(se(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Un(a),r.defaultValue=c,h=r.textContent,h===c&&h!==""&&h!==null&&(r.value=h)}function di(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gh(r,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":h?r.setProperty(a,c):typeof c!="number"||c===0||Va.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function Vc(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in a)h=a[y],a.hasOwnProperty(y)&&c[y]!==h&&gh(r,y,h)}else for(var x in a)a.hasOwnProperty(x)&&gh(r,x,a[x])}function Lc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(r){return qg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ps=null;function hi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Vs=null,Ls=null;function Uc(r){var a=ui(r);if(a&&(r=a.stateNode)){var c=r[xt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Jn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ft(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==r&&h.form===r.form){var y=h[xt]||null;if(!y)throw Error(i(90));Jn(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===r.form&&Pc(h)}break e;case"textarea":rt(r,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&Os(r,!!c.multiple,a,!1)}}}var Ji=!1;function ph(r,a,c){if(Ji)return r(a,c);Ji=!0;try{var h=r(a);return h}finally{if(Ji=!1,(Vs!==null||Ls!==null)&&(uf(),Vs&&(a=Vs,r=Ls,Ls=Vs=null,Uc(a),r)))for(a=0;a<r.length;a++)Uc(r[a])}}function La(r,a){var c=r.stateNode;if(c===null)return null;var h=c[xt]||null;if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fi=!1;if(Vi)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){fi=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{fi=!1}var es=null,Nr=null,Us=null;function Bc(){if(Us)return Us;var r,a=Nr,c=a.length,h,y="value"in es?es.value:es.textContent,x=y.length;for(r=0;r<c&&a[r]===y[r];r++);var S=c-r;for(h=1;h<=S&&a[c-h]===y[x-h];h++);return Us=y.slice(r,1<h?1-h:void 0)}function ts(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ns(){return!0}function Fc(){return!1}function sn(r){function a(c,h,y,x,S){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(c=r[R],this[R]=c?c(x):x[R]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ns:Fc,this.isPropagationStopped=Fc,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),a}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=sn(et),Ba=p({},et,{view:0,detail:0}),yh=sn(Ba),el,tl,is,Fa=p({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==is&&(is&&r.type==="mousemove"?(el=r.screenX-is.screenX,tl=r.screenY-is.screenY):tl=el=0,is=r),el)},movementY:function(r){return"movementY"in r?r.movementY:tl}}),mi=sn(Fa),xh=p({},Fa,{dataTransfer:0}),$g=sn(xh),za=p({},Ba,{relatedTarget:0}),nl=sn(za),zc=p({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),il=sn(zc),vh=p({},et,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),sl=sn(vh),Gg=p({},et,{data:0}),Hc=sn(Gg),Ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=wh[r])?!!a[r]:!1}function qa(){return qc}var _h=p({},Ba,{key:function(r){if(r.key){var a=Ha[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ts(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?bh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(r){return r.type==="keypress"?ts(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ts(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),rl=sn(_h),Th=p({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=sn(Th),Bs=p({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Sh=sn(Bs),Eh=p({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=sn(Eh),Ah=p({},Fa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),al=sn(Ah),Bn=p({},et,{newState:0,oldState:0}),Nh=sn(Bn),Ch=[9,13,27,32],ss=Vi&&"CompositionEvent"in window,g=null;Vi&&"documentMode"in document&&(g=document.documentMode);var w=Vi&&"TextEvent"in window&&!g,T=Vi&&(!ss||g&&8<g&&11>=g),M=" ",G=!1;function ne(r,a){switch(r){case"keyup":return Ch.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fe=!1;function Yt(r,a){switch(r){case"compositionend":return de(a);case"keypress":return a.which!==32?null:(G=!0,M);case"textInput":return r=a.data,r===M&&G?null:r;default:return null}}function ze(r,a){if(Fe)return r==="compositionend"||!ss&&ne(r,a)?(r=Bc(),Us=Nr=es=null,Fe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!rn[r.type]:a==="textarea"}function Fs(r,a,c,h){Vs?Ls?Ls.push(h):Ls=[h]:Vs=h,a=pf(a,"onChange"),0<a.length&&(c=new Jo("onChange","change",null,c,h),r.push({event:c,listeners:a}))}var yn=null,rs=null;function Gc(r){I_(r,0)}function jh(r){var a=Ae(r);if(Pc(a))return r}function t1(r,a){if(r==="change")return a}var n1=!1;if(Vi){var Wg;if(Vi){var Yg="oninput"in document;if(!Yg){var i1=document.createElement("div");i1.setAttribute("oninput","return;"),Yg=typeof i1.oninput=="function"}Wg=Yg}else Wg=!1;n1=Wg&&(!document.documentMode||9<document.documentMode)}function s1(){yn&&(yn.detachEvent("onpropertychange",r1),rs=yn=null)}function r1(r){if(r.propertyName==="value"&&jh(rs)){var a=[];Fs(a,rs,r,hi(r)),ph(Gc,a)}}function Tj(r,a,c){r==="focusin"?(s1(),yn=a,rs=c,yn.attachEvent("onpropertychange",r1)):r==="focusout"&&s1()}function Sj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return jh(rs)}function Ej(r,a){if(r==="click")return jh(a)}function kj(r,a){if(r==="input"||r==="change")return jh(a)}function Aj(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ei=typeof Object.is=="function"?Object.is:Aj;function Wc(r,a){if(ei(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!kn.call(a,y)||!ei(r[y],a[y]))return!1}return!0}function a1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function o1(r,a){var c=a1(r);r=0;for(var h;c;){if(c.nodeType===3){if(h=r+c.textContent.length,r<=a&&h>=a)return{node:c,offset:a-r};r=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=a1(c)}}function l1(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?l1(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function c1(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ia(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=Ia(r.document)}return a}function Kg(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var Nj=Vi&&"documentMode"in document&&11>=document.documentMode,ol=null,Xg=null,Yc=null,Qg=!1;function u1(r,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qg||ol==null||ol!==Ia(h)||(h=ol,"selectionStart"in h&&Kg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Yc&&Wc(Yc,h)||(Yc=h,h=pf(Xg,"onSelect"),0<h.length&&(a=new Jo("onSelect","select",null,a,c),r.push({event:a,listeners:h}),a.target=ol)))}function $a(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var ll={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Zg={},d1={};Vi&&(d1=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Ga(r){if(Zg[r])return Zg[r];if(!ll[r])return r;var a=ll[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in d1)return Zg[r]=a[c];return r}var h1=Ga("animationend"),f1=Ga("animationiteration"),m1=Ga("animationstart"),Cj=Ga("transitionrun"),jj=Ga("transitionstart"),Rj=Ga("transitioncancel"),g1=Ga("transitionend"),p1=new Map,Jg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jg.push("scrollEnd");function Li(r,a){p1.set(r,a),Ln(a,[r])}var y1=new WeakMap;function gi(r,a){if(typeof r=="object"&&r!==null){var c=y1.get(r);return c!==void 0?c:(a={value:r,source:a,stack:Xo(a)},y1.set(r,a),a)}return{value:r,source:a,stack:Xo(a)}}var pi=[],cl=0,e0=0;function Rh(){for(var r=cl,a=e0=cl=0;a<r;){var c=pi[a];pi[a++]=null;var h=pi[a];pi[a++]=null;var y=pi[a];pi[a++]=null;var x=pi[a];if(pi[a++]=null,h!==null&&y!==null){var S=h.pending;S===null?y.next=y:(y.next=S.next,S.next=y),h.pending=y}x!==0&&x1(c,y,x)}}function Dh(r,a,c,h){pi[cl++]=r,pi[cl++]=a,pi[cl++]=c,pi[cl++]=h,e0|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function t0(r,a,c,h){return Dh(r,a,c,h),Mh(r)}function ul(r,a){return Dh(r,null,null,a),Mh(r)}function x1(r,a,c){r.lanes|=c;var h=r.alternate;h!==null&&(h.lanes|=c);for(var y=!1,x=r.return;x!==null;)x.childLanes|=c,h=x.alternate,h!==null&&(h.childLanes|=c),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(y=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,y&&a!==null&&(y=31-Ut(c),r=x.hiddenUpdates,h=r[y],h===null?r[y]=[a]:h.push(a),a.lane=c|536870912),x):null}function Mh(r){if(50<vu)throw vu=0,op=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var dl={};function Dj(r,a,c,h){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(r,a,c,h){return new Dj(r,a,c,h)}function n0(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zs(r,a){var c=r.alternate;return c===null?(c=ti(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function v1(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Ih(r,a,c,h,y,x){var S=0;if(h=r,typeof r=="function")n0(r)&&(S=1);else if(typeof r=="string")S=I3(r,c,ke.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=ti(31,c,a,y),r.elementType=N,r.lanes=x,r;case A:return Wa(c.children,y,x,a);case C:S=8,y|=24;break;case j:return r=ti(12,c,a,y|2),r.elementType=j,r.lanes=x,r;case Q:return r=ti(13,c,a,y),r.elementType=Q,r.lanes=x,r;case te:return r=ti(19,c,a,y),r.elementType=te,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:case z:S=10;break e;case U:S=9;break e;case K:S=11;break e;case L:S=14;break e;case E:S=16,h=null;break e}S=29,c=Error(i(130,r===null?"null":typeof r,"")),h=null}return a=ti(S,c,a,y),a.elementType=r,a.type=h,a.lanes=x,a}function Wa(r,a,c,h){return r=ti(7,r,h,a),r.lanes=c,r}function i0(r,a,c){return r=ti(6,r,null,a),r.lanes=c,r}function s0(r,a,c){return a=ti(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var hl=[],fl=0,Oh=null,Ph=0,yi=[],xi=0,Ya=null,Hs=1,qs="";function Ka(r,a){hl[fl++]=Ph,hl[fl++]=Oh,Oh=r,Ph=a}function b1(r,a,c){yi[xi++]=Hs,yi[xi++]=qs,yi[xi++]=Ya,Ya=r;var h=Hs;r=qs;var y=32-Ut(h)-1;h&=~(1<<y),c+=1;var x=32-Ut(a)+y;if(30<x){var S=y-y%5;x=(h&(1<<S)-1).toString(32),h>>=S,y-=S,Hs=1<<32-Ut(a)+y|c<<y|h,qs=x+r}else Hs=1<<x|c<<y|h,qs=r}function r0(r){r.return!==null&&(Ka(r,1),b1(r,1,0))}function a0(r){for(;r===Oh;)Oh=hl[--fl],hl[fl]=null,Ph=hl[--fl],hl[fl]=null;for(;r===Ya;)Ya=yi[--xi],yi[xi]=null,qs=yi[--xi],yi[xi]=null,Hs=yi[--xi],yi[xi]=null}var Fn=null,Rt=null,Qe=!1,Xa=null,as=!1,o0=Error(i(519));function Qa(r){var a=Error(i(418,""));throw Qc(gi(a,r)),o0}function w1(r){var a=r.stateNode,c=r.type,h=r.memoizedProps;switch(a[jt]=r,a[xt]=h,c){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(c=0;c<wu.length;c++)Pe(wu[c],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":Pe("invalid",a),Oa(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Qo(a);break;case"select":Pe("invalid",a);break;case"textarea":Pe("invalid",a),Pa(a,h.value,h.defaultValue,h.children),Qo(a)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||L_(a.textContent,c)?(h.popover!=null&&(Pe("beforetoggle",a),Pe("toggle",a)),h.onScroll!=null&&Pe("scroll",a),h.onScrollEnd!=null&&Pe("scrollend",a),h.onClick!=null&&(a.onclick=yf),a=!0):a=!1,a||Qa(r)}function _1(r){for(Fn=r.return;Fn;)switch(Fn.tag){case 5:case 13:as=!1;return;case 27:case 3:as=!0;return;default:Fn=Fn.return}}function Kc(r){if(r!==Fn)return!1;if(!Qe)return _1(r),Qe=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Tp(r.type,r.memoizedProps)),c=!c),c&&Rt&&Qa(r),_1(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){Rt=Bi(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}Rt=null}}else a===27?(a=Rt,qr(r.type)?(r=Ap,Ap=null,Rt=r):Rt=a):Rt=Fn?Bi(r.stateNode.nextSibling):null;return!0}function Xc(){Rt=Fn=null,Qe=!1}function T1(){var r=Xa;return r!==null&&(Gn===null?Gn=r:Gn.push.apply(Gn,r),Xa=null),r}function Qc(r){Xa===null?Xa=[r]:Xa.push(r)}var l0=ve(null),Za=null,$s=null;function Cr(r,a,c){he(l0,a._currentValue),a._currentValue=c}function Gs(r){r._currentValue=l0.current,xe(l0)}function c0(r,a,c){for(;r!==null;){var h=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),r===c)break;r=r.return}}function u0(r,a,c,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var x=y.dependencies;if(x!==null){var S=y.child;x=x.firstContext;e:for(;x!==null;){var R=x;x=y;for(var B=0;B<a.length;B++)if(R.context===a[B]){x.lanes|=c,R=x.alternate,R!==null&&(R.lanes|=c),c0(x.return,c,r),h||(S=null);break e}x=R.next}}else if(y.tag===18){if(S=y.return,S===null)throw Error(i(341));S.lanes|=c,x=S.alternate,x!==null&&(x.lanes|=c),c0(S,c,r),S=null}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===r){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}}function Zc(r,a,c,h){r=null;for(var y=a,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var S=y.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var R=y.type;ei(y.pendingProps.value,S.value)||(r!==null?r.push(R):r=[R])}}else if(y===At.current){if(S=y.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Au):r=[Au])}y=y.return}r!==null&&u0(a,r,c,h),a.flags|=262144}function Vh(r){for(r=r.firstContext;r!==null;){if(!ei(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ja(r){Za=r,$s=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Nn(r){return S1(Za,r)}function Lh(r,a){return Za===null&&Ja(r),S1(r,a)}function S1(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},$s===null){if(r===null)throw Error(i(308));$s=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else $s=$s.next=a;return c}var Mj=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,h){r.push(h)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},Ij=t.unstable_scheduleCallback,Oj=t.unstable_NormalPriority,Xt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function d0(){return{controller:new Mj,data:new Map,refCount:0}}function Jc(r){r.refCount--,r.refCount===0&&Ij(Oj,function(){r.controller.abort()})}var eu=null,h0=0,ml=0,gl=null;function Pj(r,a){if(eu===null){var c=eu=[];h0=0,ml=mp(),gl={status:"pending",value:void 0,then:function(h){c.push(h)}}}return h0++,a.then(E1,E1),a}function E1(){if(--h0===0&&eu!==null){gl!==null&&(gl.status="fulfilled");var r=eu;eu=null,ml=0,gl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function Vj(r,a){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){h.status="fulfilled",h.value=a;for(var y=0;y<c.length;y++)(0,c[y])(a)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var k1=F.S;F.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Pj(r,a),k1!==null&&k1(r,a)};var eo=ve(null);function f0(){var r=eo.current;return r!==null?r:ft.pooledCache}function Uh(r,a){a===null?he(eo,eo.current):he(eo,a.pool)}function A1(){var r=f0();return r===null?null:{parent:Xt._currentValue,pool:r}}var tu=Error(i(460)),N1=Error(i(474)),Bh=Error(i(542)),m0={then:function(){}};function C1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fh(){}function j1(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(Fh,Fh),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,D1(r),r;default:if(typeof a.status=="string")a.then(Fh,Fh);else{if(r=ft,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(h){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=h}},function(h){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,D1(r),r}throw nu=a,tu}}var nu=null;function R1(){if(nu===null)throw Error(i(459));var r=nu;return nu=null,r}function D1(r){if(r===tu||r===Bh)throw Error(i(483))}var jr=!1;function g0(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function p0(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Rr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Dr(r,a,c){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(nt&2)!==0){var y=h.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),h.pending=a,a=Mh(r),x1(r,null,c),a}return Dh(r,h,a,c),Mh(r)}function iu(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,Xi(r,c)}}function y0(r,a){var c=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=S:x=x.next=S,c=c.next}while(c!==null);x===null?y=x=a:x=x.next=a}else y=x=a;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var x0=!1;function su(){if(x0){var r=gl;if(r!==null)throw r}}function ru(r,a,c,h){x0=!1;var y=r.updateQueue;jr=!1;var x=y.firstBaseUpdate,S=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var B=R,Y=B.next;B.next=null,S===null?x=Y:S.next=Y,S=B;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==S&&(R===null?ie.firstBaseUpdate=Y:R.next=Y,ie.lastBaseUpdate=B))}if(x!==null){var ae=y.baseState;S=0,ie=Y=B=null,R=x;do{var Z=R.lane&-536870913,J=Z!==R.lane;if(J?(He&Z)===Z:(h&Z)===Z){Z!==0&&Z===ml&&(x0=!0),ie!==null&&(ie=ie.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Se=r,we=R;Z=a;var lt=c;switch(we.tag){case 1:if(Se=we.payload,typeof Se=="function"){ae=Se.call(lt,ae,Z);break e}ae=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=we.payload,Z=typeof Se=="function"?Se.call(lt,ae,Z):Se,Z==null)break e;ae=p({},ae,Z);break e;case 2:jr=!0}}Z=R.callback,Z!==null&&(r.flags|=64,J&&(r.flags|=8192),J=y.callbacks,J===null?y.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(Y=ie=J,B=ae):ie=ie.next=J,S|=Z;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;J=R,R=J.next,J.next=null,y.lastBaseUpdate=J,y.shared.pending=null}}while(!0);ie===null&&(B=ae),y.baseState=B,y.firstBaseUpdate=Y,y.lastBaseUpdate=ie,x===null&&(y.shared.lanes=0),Br|=S,r.lanes=S,r.memoizedState=ae}}function M1(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function I1(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)M1(c[r],a)}var pl=ve(null),zh=ve(0);function O1(r,a){r=Js,he(zh,r),he(pl,a),Js=r|a.baseLanes}function v0(){he(zh,Js),he(pl,pl.current)}function b0(){Js=zh.current,xe(pl),xe(zh)}var Mr=0,De=null,at=null,zt=null,Hh=!1,yl=!1,to=!1,qh=0,au=0,xl=null,Lj=0;function It(){throw Error(i(321))}function w0(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!ei(r[c],a[c]))return!1;return!0}function _0(r,a,c,h,y,x){return Mr=x,De=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,F.H=r===null||r.memoizedState===null?xw:vw,to=!1,x=c(h,y),to=!1,yl&&(x=V1(a,c,h,y)),P1(r),x}function P1(r){F.H=Xh;var a=at!==null&&at.next!==null;if(Mr=0,zt=at=De=null,Hh=!1,au=0,xl=null,a)throw Error(i(300));r===null||an||(r=r.dependencies,r!==null&&Vh(r)&&(an=!0))}function V1(r,a,c,h){De=r;var y=0;do{if(yl&&(xl=null),au=0,yl=!1,25<=y)throw Error(i(301));if(y+=1,zt=at=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}F.H=$j,x=a(c,h)}while(yl);return x}function Uj(){var r=F.H,a=r.useState()[0];return a=typeof a.then=="function"?ou(a):a,r=r.useState()[0],(at!==null?at.memoizedState:null)!==r&&(De.flags|=1024),a}function T0(){var r=qh!==0;return qh=0,r}function S0(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function E0(r){if(Hh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Hh=!1}Mr=0,zt=at=De=null,yl=!1,au=qh=0,xl=null}function qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?De.memoizedState=zt=r:zt=zt.next=r,zt}function Ht(){if(at===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=at.next;var a=zt===null?De.memoizedState:zt.next;if(a!==null)zt=a,at=r;else{if(r===null)throw De.alternate===null?Error(i(467)):Error(i(310));at=r,r={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},zt===null?De.memoizedState=zt=r:zt=zt.next=r}return zt}function k0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(r){var a=au;return au+=1,xl===null&&(xl=[]),r=j1(xl,r,a),a=De,(zt===null?a.memoizedState:zt.next)===null&&(a=a.alternate,F.H=a===null||a.memoizedState===null?xw:vw),r}function $h(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ou(r);if(r.$$typeof===z)return Nn(r)}throw Error(i(438,String(r)))}function A0(r){var a=null,c=De.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=De.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=k0(),De.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),h=0;h<r;h++)c[h]=D;return a.index++,c}function Ws(r,a){return typeof a=="function"?a(r):a}function Gh(r){var a=Ht();return N0(a,at,r)}function N0(r,a,c){var h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var y=r.baseQueue,x=h.pending;if(x!==null){if(y!==null){var S=y.next;y.next=x.next,x.next=S}a.baseQueue=y=x,h.pending=null}if(x=r.baseState,y===null)r.memoizedState=x;else{a=y.next;var R=S=null,B=null,Y=a,ie=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(He&ae)===ae:(Mr&ae)===ae){var Z=Y.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===ml&&(ie=!0);else if((Mr&Z)===Z){Y=Y.next,Z===ml&&(ie=!0);continue}else ae={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},B===null?(R=B=ae,S=x):B=B.next=ae,De.lanes|=Z,Br|=Z;ae=Y.action,to&&c(x,ae),x=Y.hasEagerState?Y.eagerState:c(x,ae)}else Z={lane:ae,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},B===null?(R=B=Z,S=x):B=B.next=Z,De.lanes|=ae,Br|=ae;Y=Y.next}while(Y!==null&&Y!==a);if(B===null?S=x:B.next=R,!ei(x,r.memoizedState)&&(an=!0,ie&&(c=gl,c!==null)))throw c;r.memoizedState=x,r.baseState=S,r.baseQueue=B,h.lastRenderedState=x}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function C0(r){var a=Ht(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var h=c.dispatch,y=c.pending,x=a.memoizedState;if(y!==null){c.pending=null;var S=y=y.next;do x=r(x,S.action),S=S.next;while(S!==y);ei(x,a.memoizedState)||(an=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),c.lastRenderedState=x}return[x,h]}function L1(r,a,c){var h=De,y=Ht(),x=Qe;if(x){if(c===void 0)throw Error(i(407));c=c()}else c=a();var S=!ei((at||y).memoizedState,c);S&&(y.memoizedState=c,an=!0),y=y.queue;var R=F1.bind(null,h,y,r);if(lu(2048,8,R,[r]),y.getSnapshot!==a||S||zt!==null&&zt.memoizedState.tag&1){if(h.flags|=2048,vl(9,Wh(),B1.bind(null,h,y,c,a),null),ft===null)throw Error(i(349));x||(Mr&124)!==0||U1(h,a,c)}return c}function U1(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=De.updateQueue,a===null?(a=k0(),De.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function B1(r,a,c,h){a.value=c,a.getSnapshot=h,z1(a)&&H1(r)}function F1(r,a,c){return c(function(){z1(a)&&H1(r)})}function z1(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!ei(r,c)}catch{return!0}}function H1(r){var a=ul(r,2);a!==null&&ai(a,r,2)}function j0(r){var a=qn();if(typeof r=="function"){var c=r;if(r=c(),to){Vn(!0);try{c()}finally{Vn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:r},a}function q1(r,a,c,h){return r.baseState=c,N0(r,at,typeof h=="function"?h:Ws)}function Bj(r,a,c,h,y){if(Kh(r))throw Error(i(485));if(r=a.action,r!==null){var x={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){x.listeners.push(S)}};F.T!==null?c(!0):x.isTransition=!1,h(x),c=a.pending,c===null?(x.next=a.pending=x,$1(a,x)):(x.next=c.next,a.pending=c.next=x)}}function $1(r,a){var c=a.action,h=a.payload,y=r.state;if(a.isTransition){var x=F.T,S={};F.T=S;try{var R=c(y,h),B=F.S;B!==null&&B(S,R),G1(r,a,R)}catch(Y){R0(r,a,Y)}finally{F.T=x}}else try{x=c(y,h),G1(r,a,x)}catch(Y){R0(r,a,Y)}}function G1(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){W1(r,a,h)},function(h){return R0(r,a,h)}):W1(r,a,c)}function W1(r,a,c){a.status="fulfilled",a.value=c,Y1(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,$1(r,c)))}function R0(r,a,c){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Y1(a),a=a.next;while(a!==h)}r.action=null}function Y1(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function K1(r,a){return a}function X1(r,a){if(Qe){var c=ft.formState;if(c!==null){e:{var h=De;if(Qe){if(Rt){t:{for(var y=Rt,x=as;y.nodeType!==8;){if(!x){y=null;break t}if(y=Bi(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Rt=Bi(y.nextSibling),h=y.data==="F!";break e}}Qa(h)}h=!1}h&&(a=c[0])}}return c=qn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K1,lastRenderedState:a},c.queue=h,c=gw.bind(null,De,h),h.dispatch=c,h=j0(!1),x=P0.bind(null,De,!1,h.queue),h=qn(),y={state:a,dispatch:null,action:r,pending:null},h.queue=y,c=Bj.bind(null,De,y,x,c),y.dispatch=c,h.memoizedState=r,[a,c,!1]}function Q1(r){var a=Ht();return Z1(a,at,r)}function Z1(r,a,c){if(a=N0(r,a,K1)[0],r=Gh(Ws)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=ou(a)}catch(S){throw S===tu?Bh:S}else h=a;a=Ht();var y=a.queue,x=y.dispatch;return c!==a.memoizedState&&(De.flags|=2048,vl(9,Wh(),Fj.bind(null,y,c),null)),[h,x,r]}function Fj(r,a){r.action=a}function J1(r){var a=Ht(),c=at;if(c!==null)return Z1(a,c,r);Ht(),a=a.memoizedState,c=Ht();var h=c.queue.dispatch;return c.memoizedState=r,[a,h,!1]}function vl(r,a,c,h){return r={tag:r,create:c,deps:h,inst:a,next:null},a=De.updateQueue,a===null&&(a=k0(),De.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(h=c.next,c.next=r,r.next=h,a.lastEffect=r),r}function Wh(){return{destroy:void 0,resource:void 0}}function ew(){return Ht().memoizedState}function Yh(r,a,c,h){var y=qn();h=h===void 0?null:h,De.flags|=r,y.memoizedState=vl(1|a,Wh(),c,h)}function lu(r,a,c,h){var y=Ht();h=h===void 0?null:h;var x=y.memoizedState.inst;at!==null&&h!==null&&w0(h,at.memoizedState.deps)?y.memoizedState=vl(a,x,c,h):(De.flags|=r,y.memoizedState=vl(1|a,x,c,h))}function tw(r,a){Yh(8390656,8,r,a)}function nw(r,a){lu(2048,8,r,a)}function iw(r,a){return lu(4,2,r,a)}function sw(r,a){return lu(4,4,r,a)}function rw(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function aw(r,a,c){c=c!=null?c.concat([r]):null,lu(4,4,rw.bind(null,a,r),c)}function D0(){}function ow(r,a){var c=Ht();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&w0(a,h[1])?h[0]:(c.memoizedState=[r,a],r)}function lw(r,a){var c=Ht();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&w0(a,h[1]))return h[0];if(h=r(),to){Vn(!0);try{r()}finally{Vn(!1)}}return c.memoizedState=[h,a],h}function M0(r,a,c){return c===void 0||(Mr&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=d_(),De.lanes|=r,Br|=r,c)}function cw(r,a,c,h){return ei(c,a)?c:pl.current!==null?(r=M0(r,c,h),ei(r,a)||(an=!0),r):(Mr&42)===0?(an=!0,r.memoizedState=c):(r=d_(),De.lanes|=r,Br|=r,a)}function uw(r,a,c,h,y){var x=$.p;$.p=x!==0&&8>x?x:8;var S=F.T,R={};F.T=R,P0(r,!1,a,c);try{var B=y(),Y=F.S;if(Y!==null&&Y(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ie=Vj(B,h);cu(r,a,ie,ri(r))}else cu(r,a,h,ri(r))}catch(ae){cu(r,a,{then:function(){},status:"rejected",reason:ae},ri())}finally{$.p=x,F.T=S}}function zj(){}function I0(r,a,c,h){if(r.tag!==5)throw Error(i(476));var y=dw(r).queue;uw(r,y,a,le,c===null?zj:function(){return hw(r),c(h)})}function dw(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:le},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function hw(r){var a=dw(r).next.queue;cu(r,a,{},ri())}function O0(){return Nn(Au)}function fw(){return Ht().memoizedState}function mw(){return Ht().memoizedState}function Hj(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=ri();r=Rr(c);var h=Dr(a,r,c);h!==null&&(ai(h,a,c),iu(h,a,c)),a={cache:d0()},r.payload=a;return}a=a.return}}function qj(r,a,c){var h=ri();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Kh(r)?pw(a,c):(c=t0(r,a,c,h),c!==null&&(ai(c,r,h),yw(c,a,h)))}function gw(r,a,c){var h=ri();cu(r,a,c,h)}function cu(r,a,c,h){var y={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Kh(r))pw(a,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var S=a.lastRenderedState,R=x(S,c);if(y.hasEagerState=!0,y.eagerState=R,ei(R,S))return Dh(r,a,y,0),ft===null&&Rh(),!1}catch{}finally{}if(c=t0(r,a,y,h),c!==null)return ai(c,r,h),yw(c,a,h),!0}return!1}function P0(r,a,c,h){if(h={lane:2,revertLane:mp(),action:h,hasEagerState:!1,eagerState:null,next:null},Kh(r)){if(a)throw Error(i(479))}else a=t0(r,c,h,2),a!==null&&ai(a,r,2)}function Kh(r){var a=r.alternate;return r===De||a!==null&&a===De}function pw(r,a){yl=Hh=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function yw(r,a,c){if((c&4194048)!==0){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,Xi(r,c)}}var Xh={readContext:Nn,use:$h,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},xw={readContext:Nn,use:$h,useCallback:function(r,a){return qn().memoizedState=[r,a===void 0?null:a],r},useContext:Nn,useEffect:tw,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Yh(4194308,4,rw.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Yh(4194308,4,r,a)},useInsertionEffect:function(r,a){Yh(4,2,r,a)},useMemo:function(r,a){var c=qn();a=a===void 0?null:a;var h=r();if(to){Vn(!0);try{r()}finally{Vn(!1)}}return c.memoizedState=[h,a],h},useReducer:function(r,a,c){var h=qn();if(c!==void 0){var y=c(a);if(to){Vn(!0);try{c(a)}finally{Vn(!1)}}}else y=a;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=qj.bind(null,De,r),[h.memoizedState,r]},useRef:function(r){var a=qn();return r={current:r},a.memoizedState=r},useState:function(r){r=j0(r);var a=r.queue,c=gw.bind(null,De,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:D0,useDeferredValue:function(r,a){var c=qn();return M0(c,r,a)},useTransition:function(){var r=j0(!1);return r=uw.bind(null,De,r.queue,!0,!1),qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var h=De,y=qn();if(Qe){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),ft===null)throw Error(i(349));(He&124)!==0||U1(h,a,c)}y.memoizedState=c;var x={value:c,getSnapshot:a};return y.queue=x,tw(F1.bind(null,h,x,r),[r]),h.flags|=2048,vl(9,Wh(),B1.bind(null,h,x,c,a),null),c},useId:function(){var r=qn(),a=ft.identifierPrefix;if(Qe){var c=qs,h=Hs;c=(h&~(1<<32-Ut(h)-1)).toString(32)+c,a=""+a+"R"+c,c=qh++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=Lj++,a=""+a+"r"+c.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:O0,useFormState:X1,useActionState:X1,useOptimistic:function(r){var a=qn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=P0.bind(null,De,!0,c),c.dispatch=a,[r,a]},useMemoCache:A0,useCacheRefresh:function(){return qn().memoizedState=Hj.bind(null,De)}},vw={readContext:Nn,use:$h,useCallback:ow,useContext:Nn,useEffect:nw,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:lw,useReducer:Gh,useRef:ew,useState:function(){return Gh(Ws)},useDebugValue:D0,useDeferredValue:function(r,a){var c=Ht();return cw(c,at.memoizedState,r,a)},useTransition:function(){var r=Gh(Ws)[0],a=Ht().memoizedState;return[typeof r=="boolean"?r:ou(r),a]},useSyncExternalStore:L1,useId:fw,useHostTransitionStatus:O0,useFormState:Q1,useActionState:Q1,useOptimistic:function(r,a){var c=Ht();return q1(c,at,r,a)},useMemoCache:A0,useCacheRefresh:mw},$j={readContext:Nn,use:$h,useCallback:ow,useContext:Nn,useEffect:nw,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:sw,useMemo:lw,useReducer:C0,useRef:ew,useState:function(){return C0(Ws)},useDebugValue:D0,useDeferredValue:function(r,a){var c=Ht();return at===null?M0(c,r,a):cw(c,at.memoizedState,r,a)},useTransition:function(){var r=C0(Ws)[0],a=Ht().memoizedState;return[typeof r=="boolean"?r:ou(r),a]},useSyncExternalStore:L1,useId:fw,useHostTransitionStatus:O0,useFormState:J1,useActionState:J1,useOptimistic:function(r,a){var c=Ht();return at!==null?q1(c,at,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:A0,useCacheRefresh:mw},bl=null,uu=0;function Qh(r){var a=uu;return uu+=1,bl===null&&(bl=[]),j1(bl,r,a)}function du(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Zh(r,a){throw a.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function bw(r){var a=r._init;return a(r._payload)}function ww(r){function a(q,H){if(r){var W=q.deletions;W===null?(q.deletions=[H],q.flags|=16):W.push(H)}}function c(q,H){if(!r)return null;for(;H!==null;)a(q,H),H=H.sibling;return null}function h(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function y(q,H){return q=zs(q,H),q.index=0,q.sibling=null,q}function x(q,H,W){return q.index=W,r?(W=q.alternate,W!==null?(W=W.index,W<H?(q.flags|=67108866,H):W):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function S(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function R(q,H,W,re){return H===null||H.tag!==6?(H=i0(W,q.mode,re),H.return=q,H):(H=y(H,W),H.return=q,H)}function B(q,H,W,re){var ge=W.type;return ge===A?ie(q,H,W.props.children,re,W.key):H!==null&&(H.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===E&&bw(ge)===H.type)?(H=y(H,W.props),du(H,W),H.return=q,H):(H=Ih(W.type,W.key,W.props,null,q.mode,re),du(H,W),H.return=q,H)}function Y(q,H,W,re){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=s0(W,q.mode,re),H.return=q,H):(H=y(H,W.children||[]),H.return=q,H)}function ie(q,H,W,re,ge){return H===null||H.tag!==7?(H=Wa(W,q.mode,re,ge),H.return=q,H):(H=y(H,W),H.return=q,H)}function ae(q,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=i0(""+H,q.mode,W),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return W=Ih(H.type,H.key,H.props,null,q.mode,W),du(W,H),W.return=q,W;case _:return H=s0(H,q.mode,W),H.return=q,H;case E:var re=H._init;return H=re(H._payload),ae(q,H,W)}if(se(H)||O(H))return H=Wa(H,q.mode,W,null),H.return=q,H;if(typeof H.then=="function")return ae(q,Qh(H),W);if(H.$$typeof===z)return ae(q,Lh(q,H),W);Zh(q,H)}return null}function Z(q,H,W,re){var ge=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ge!==null?null:R(q,H,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===ge?B(q,H,W,re):null;case _:return W.key===ge?Y(q,H,W,re):null;case E:return ge=W._init,W=ge(W._payload),Z(q,H,W,re)}if(se(W)||O(W))return ge!==null?null:ie(q,H,W,re,null);if(typeof W.then=="function")return Z(q,H,Qh(W),re);if(W.$$typeof===z)return Z(q,H,Lh(q,W),re);Zh(q,W)}return null}function J(q,H,W,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(W)||null,R(H,q,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return q=q.get(re.key===null?W:re.key)||null,B(H,q,re,ge);case _:return q=q.get(re.key===null?W:re.key)||null,Y(H,q,re,ge);case E:var Ie=re._init;return re=Ie(re._payload),J(q,H,W,re,ge)}if(se(re)||O(re))return q=q.get(W)||null,ie(H,q,re,ge,null);if(typeof re.then=="function")return J(q,H,W,Qh(re),ge);if(re.$$typeof===z)return J(q,H,W,Lh(H,re),ge);Zh(H,re)}return null}function Se(q,H,W,re){for(var ge=null,Ie=null,pe=H,_e=H=0,ln=null;pe!==null&&_e<W.length;_e++){pe.index>_e?(ln=pe,pe=null):ln=pe.sibling;var Ye=Z(q,pe,W[_e],re);if(Ye===null){pe===null&&(pe=ln);break}r&&pe&&Ye.alternate===null&&a(q,pe),H=x(Ye,H,_e),Ie===null?ge=Ye:Ie.sibling=Ye,Ie=Ye,pe=ln}if(_e===W.length)return c(q,pe),Qe&&Ka(q,_e),ge;if(pe===null){for(;_e<W.length;_e++)pe=ae(q,W[_e],re),pe!==null&&(H=x(pe,H,_e),Ie===null?ge=pe:Ie.sibling=pe,Ie=pe);return Qe&&Ka(q,_e),ge}for(pe=h(pe);_e<W.length;_e++)ln=J(pe,q,_e,W[_e],re),ln!==null&&(r&&ln.alternate!==null&&pe.delete(ln.key===null?_e:ln.key),H=x(ln,H,_e),Ie===null?ge=ln:Ie.sibling=ln,Ie=ln);return r&&pe.forEach(function(Kr){return a(q,Kr)}),Qe&&Ka(q,_e),ge}function we(q,H,W,re){if(W==null)throw Error(i(151));for(var ge=null,Ie=null,pe=H,_e=H=0,ln=null,Ye=W.next();pe!==null&&!Ye.done;_e++,Ye=W.next()){pe.index>_e?(ln=pe,pe=null):ln=pe.sibling;var Kr=Z(q,pe,Ye.value,re);if(Kr===null){pe===null&&(pe=ln);break}r&&pe&&Kr.alternate===null&&a(q,pe),H=x(Kr,H,_e),Ie===null?ge=Kr:Ie.sibling=Kr,Ie=Kr,pe=ln}if(Ye.done)return c(q,pe),Qe&&Ka(q,_e),ge;if(pe===null){for(;!Ye.done;_e++,Ye=W.next())Ye=ae(q,Ye.value,re),Ye!==null&&(H=x(Ye,H,_e),Ie===null?ge=Ye:Ie.sibling=Ye,Ie=Ye);return Qe&&Ka(q,_e),ge}for(pe=h(pe);!Ye.done;_e++,Ye=W.next())Ye=J(pe,q,_e,Ye.value,re),Ye!==null&&(r&&Ye.alternate!==null&&pe.delete(Ye.key===null?_e:Ye.key),H=x(Ye,H,_e),Ie===null?ge=Ye:Ie.sibling=Ye,Ie=Ye);return r&&pe.forEach(function(G3){return a(q,G3)}),Qe&&Ka(q,_e),ge}function lt(q,H,W,re){if(typeof W=="object"&&W!==null&&W.type===A&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var ge=W.key;H!==null;){if(H.key===ge){if(ge=W.type,ge===A){if(H.tag===7){c(q,H.sibling),re=y(H,W.props.children),re.return=q,q=re;break e}}else if(H.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===E&&bw(ge)===H.type){c(q,H.sibling),re=y(H,W.props),du(re,W),re.return=q,q=re;break e}c(q,H);break}else a(q,H);H=H.sibling}W.type===A?(re=Wa(W.props.children,q.mode,re,W.key),re.return=q,q=re):(re=Ih(W.type,W.key,W.props,null,q.mode,re),du(re,W),re.return=q,q=re)}return S(q);case _:e:{for(ge=W.key;H!==null;){if(H.key===ge)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){c(q,H.sibling),re=y(H,W.children||[]),re.return=q,q=re;break e}else{c(q,H);break}else a(q,H);H=H.sibling}re=s0(W,q.mode,re),re.return=q,q=re}return S(q);case E:return ge=W._init,W=ge(W._payload),lt(q,H,W,re)}if(se(W))return Se(q,H,W,re);if(O(W)){if(ge=O(W),typeof ge!="function")throw Error(i(150));return W=ge.call(W),we(q,H,W,re)}if(typeof W.then=="function")return lt(q,H,Qh(W),re);if(W.$$typeof===z)return lt(q,H,Lh(q,W),re);Zh(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(c(q,H.sibling),re=y(H,W),re.return=q,q=re):(c(q,H),re=i0(W,q.mode,re),re.return=q,q=re),S(q)):c(q,H)}return function(q,H,W,re){try{uu=0;var ge=lt(q,H,W,re);return bl=null,ge}catch(pe){if(pe===tu||pe===Bh)throw pe;var Ie=ti(29,pe,null,q.mode);return Ie.lanes=re,Ie.return=q,Ie}finally{}}}var wl=ww(!0),_w=ww(!1),vi=ve(null),os=null;function Ir(r){var a=r.alternate;he(Qt,Qt.current&1),he(vi,r),os===null&&(a===null||pl.current!==null||a.memoizedState!==null)&&(os=r)}function Tw(r){if(r.tag===22){if(he(Qt,Qt.current),he(vi,r),os===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(os=r)}}else Or()}function Or(){he(Qt,Qt.current),he(vi,vi.current)}function Ys(r){xe(vi),os===r&&(os=null),xe(Qt)}var Qt=ve(0);function Jh(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||kp(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function V0(r,a,c,h){a=r.memoizedState,c=c(h,a),c=c==null?a:p({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var L0={enqueueSetState:function(r,a,c){r=r._reactInternals;var h=ri(),y=Rr(h);y.payload=a,c!=null&&(y.callback=c),a=Dr(r,y,h),a!==null&&(ai(a,r,h),iu(a,r,h))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var h=ri(),y=Rr(h);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Dr(r,y,h),a!==null&&(ai(a,r,h),iu(a,r,h))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=ri(),h=Rr(c);h.tag=2,a!=null&&(h.callback=a),a=Dr(r,h,c),a!==null&&(ai(a,r,c),iu(a,r,c))}};function Sw(r,a,c,h,y,x,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,x,S):a.prototype&&a.prototype.isPureReactComponent?!Wc(c,h)||!Wc(y,x):!0}function Ew(r,a,c,h){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==r&&L0.enqueueReplaceState(a,a.state,null)}function no(r,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(r=r.defaultProps){c===a&&(c=p({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}var ef=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function kw(r){ef(r)}function Aw(r){console.error(r)}function Nw(r){ef(r)}function tf(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Cw(r,a,c){try{var h=r.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function U0(r,a,c){return c=Rr(c),c.tag=3,c.payload={element:null},c.callback=function(){tf(r,a)},c}function jw(r){return r=Rr(r),r.tag=3,r}function Rw(r,a,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;r.payload=function(){return y(x)},r.callback=function(){Cw(a,c,h)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){Cw(a,c,h),typeof y!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function Gj(r,a,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Zc(a,c,y,!0),c=vi.current,c!==null){switch(c.tag){case 13:return os===null?cp():c.alternate===null&&Dt===0&&(Dt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===m0?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),dp(r,h,y)),!1;case 22:return c.flags|=65536,h===m0?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),dp(r,h,y)),!1}throw Error(i(435,c.tag))}return dp(r,h,y),cp(),!1}if(Qe)return a=vi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,h!==o0&&(r=Error(i(422),{cause:h}),Qc(gi(r,c)))):(h!==o0&&(a=Error(i(423),{cause:h}),Qc(gi(a,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=gi(h,c),y=U0(r.stateNode,h,y),y0(r,y),Dt!==4&&(Dt=2)),!1;var x=Error(i(520),{cause:h});if(x=gi(x,c),xu===null?xu=[x]:xu.push(x),Dt!==4&&(Dt=2),a===null)return!0;h=gi(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=U0(c.stateNode,h,r),y0(c,r),!1;case 1:if(a=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Fr===null||!Fr.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=jw(y),Rw(y,r,c,h),y0(c,y),!1}c=c.return}while(c!==null);return!1}var Dw=Error(i(461)),an=!1;function xn(r,a,c,h){a.child=r===null?_w(a,null,c,h):wl(a,r.child,c,h)}function Mw(r,a,c,h,y){c=c.render;var x=a.ref;if("ref"in h){var S={};for(var R in h)R!=="ref"&&(S[R]=h[R])}else S=h;return Ja(a),h=_0(r,a,c,S,x,y),R=T0(),r!==null&&!an?(S0(r,a,y),Ks(r,a,y)):(Qe&&R&&r0(a),a.flags|=1,xn(r,a,h,y),a.child)}function Iw(r,a,c,h,y){if(r===null){var x=c.type;return typeof x=="function"&&!n0(x)&&x.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=x,Ow(r,a,x,h,y)):(r=Ih(c.type,null,h,a,a.mode,y),r.ref=a.ref,r.return=a,a.child=r)}if(x=r.child,!W0(r,y)){var S=x.memoizedProps;if(c=c.compare,c=c!==null?c:Wc,c(S,h)&&r.ref===a.ref)return Ks(r,a,y)}return a.flags|=1,r=zs(x,h),r.ref=a.ref,r.return=a,a.child=r}function Ow(r,a,c,h,y){if(r!==null){var x=r.memoizedProps;if(Wc(x,h)&&r.ref===a.ref)if(an=!1,a.pendingProps=h=x,W0(r,y))(r.flags&131072)!==0&&(an=!0);else return a.lanes=r.lanes,Ks(r,a,y)}return B0(r,a,c,h,y)}function Pw(r,a,c){var h=a.pendingProps,y=h.children,x=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=x!==null?x.baseLanes|c:c,r!==null){for(y=a.child=r.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;a.childLanes=x&~h}else a.childLanes=0,a.child=null;return Vw(r,a,h,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Uh(a,x!==null?x.cachePool:null),x!==null?O1(a,x):v0(),Tw(a);else return a.lanes=a.childLanes=536870912,Vw(r,a,x!==null?x.baseLanes|c:c,c)}else x!==null?(Uh(a,x.cachePool),O1(a,x),Or(),a.memoizedState=null):(r!==null&&Uh(a,null),v0(),Or());return xn(r,a,y,c),a.child}function Vw(r,a,c,h){var y=f0();return y=y===null?null:{parent:Xt._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},r!==null&&Uh(a,null),v0(),Tw(a),r!==null&&Zc(r,a,h,!0),null}function nf(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function B0(r,a,c,h,y){return Ja(a),c=_0(r,a,c,h,void 0,y),h=T0(),r!==null&&!an?(S0(r,a,y),Ks(r,a,y)):(Qe&&h&&r0(a),a.flags|=1,xn(r,a,c,y),a.child)}function Lw(r,a,c,h,y,x){return Ja(a),a.updateQueue=null,c=V1(a,h,c,y),P1(r),h=T0(),r!==null&&!an?(S0(r,a,x),Ks(r,a,x)):(Qe&&h&&r0(a),a.flags|=1,xn(r,a,c,x),a.child)}function Uw(r,a,c,h,y){if(Ja(a),a.stateNode===null){var x=dl,S=c.contextType;typeof S=="object"&&S!==null&&(x=Nn(S)),x=new c(h,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=L0,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=h,x.state=a.memoizedState,x.refs={},g0(a),S=c.contextType,x.context=typeof S=="object"&&S!==null?Nn(S):dl,x.state=a.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(V0(a,c,S,h),x.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(S=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),S!==x.state&&L0.enqueueReplaceState(x,x.state,null),ru(a,h,x,y),su(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(r===null){x=a.stateNode;var R=a.memoizedProps,B=no(c,R);x.props=B;var Y=x.context,ie=c.contextType;S=dl,typeof ie=="object"&&ie!==null&&(S=Nn(ie));var ae=c.getDerivedStateFromProps;ie=typeof ae=="function"||typeof x.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(R||Y!==S)&&Ew(a,x,h,S),jr=!1;var Z=a.memoizedState;x.state=Z,ru(a,h,x,y),su(),Y=a.memoizedState,R||Z!==Y||jr?(typeof ae=="function"&&(V0(a,c,ae,h),Y=a.memoizedState),(B=jr||Sw(a,c,B,h,Z,Y,S))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Y),x.props=h,x.state=Y,x.context=S,h=B):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{x=a.stateNode,p0(r,a),S=a.memoizedProps,ie=no(c,S),x.props=ie,ae=a.pendingProps,Z=x.context,Y=c.contextType,B=dl,typeof Y=="object"&&Y!==null&&(B=Nn(Y)),R=c.getDerivedStateFromProps,(Y=typeof R=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==ae||Z!==B)&&Ew(a,x,h,B),jr=!1,Z=a.memoizedState,x.state=Z,ru(a,h,x,y),su();var J=a.memoizedState;S!==ae||Z!==J||jr||r!==null&&r.dependencies!==null&&Vh(r.dependencies)?(typeof R=="function"&&(V0(a,c,R,h),J=a.memoizedState),(ie=jr||Sw(a,c,ie,h,Z,J,B)||r!==null&&r.dependencies!==null&&Vh(r.dependencies))?(Y||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,J,B),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,J,B)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=J),x.props=h,x.state=J,x.context=B,h=ie):(typeof x.componentDidUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),h=!1)}return x=h,nf(r,a),h=(a.flags&128)!==0,x||h?(x=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,r!==null&&h?(a.child=wl(a,r.child,null,y),a.child=wl(a,null,c,y)):xn(r,a,c,y),a.memoizedState=x.state,r=a.child):r=Ks(r,a,y),r}function Bw(r,a,c,h){return Xc(),a.flags|=256,xn(r,a,c,h),a.child}var F0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function z0(r){return{baseLanes:r,cachePool:A1()}}function H0(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=bi),r}function Fw(r,a,c){var h=a.pendingProps,y=!1,x=(a.flags&128)!==0,S;if((S=x)||(S=r!==null&&r.memoizedState===null?!1:(Qt.current&2)!==0),S&&(y=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,r===null){if(Qe){if(y?Ir(a):Or(),Qe){var R=Rt,B;if(B=R){e:{for(B=R,R=as;B.nodeType!==8;){if(!R){R=null;break e}if(B=Bi(B.nextSibling),B===null){R=null;break e}}R=B}R!==null?(a.memoizedState={dehydrated:R,treeContext:Ya!==null?{id:Hs,overflow:qs}:null,retryLane:536870912,hydrationErrors:null},B=ti(18,null,null,0),B.stateNode=R,B.return=a,a.child=B,Fn=a,Rt=null,B=!0):B=!1}B||Qa(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return kp(R)?a.lanes=32:a.lanes=536870912,null;Ys(a)}return R=h.children,h=h.fallback,y?(Or(),y=a.mode,R=sf({mode:"hidden",children:R},y),h=Wa(h,y,c,null),R.return=a,h.return=a,R.sibling=h,a.child=R,y=a.child,y.memoizedState=z0(c),y.childLanes=H0(r,S,c),a.memoizedState=F0,h):(Ir(a),q0(a,R))}if(B=r.memoizedState,B!==null&&(R=B.dehydrated,R!==null)){if(x)a.flags&256?(Ir(a),a.flags&=-257,a=$0(r,a,c)):a.memoizedState!==null?(Or(),a.child=r.child,a.flags|=128,a=null):(Or(),y=h.fallback,R=a.mode,h=sf({mode:"visible",children:h.children},R),y=Wa(y,R,c,null),y.flags|=2,h.return=a,y.return=a,h.sibling=y,a.child=h,wl(a,r.child,null,c),h=a.child,h.memoizedState=z0(c),h.childLanes=H0(r,S,c),a.memoizedState=F0,a=y);else if(Ir(a),kp(R)){if(S=R.nextSibling&&R.nextSibling.dataset,S)var Y=S.dgst;S=Y,h=Error(i(419)),h.stack="",h.digest=S,Qc({value:h,source:null,stack:null}),a=$0(r,a,c)}else if(an||Zc(r,a,c,!1),S=(c&r.childLanes)!==0,an||S){if(S=ft,S!==null&&(h=c&-c,h=(h&42)!==0?1:We(h),h=(h&(S.suspendedLanes|c))!==0?0:h,h!==0&&h!==B.retryLane))throw B.retryLane=h,ul(r,h),ai(S,r,h),Dw;R.data==="$?"||cp(),a=$0(r,a,c)}else R.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=B.treeContext,Rt=Bi(R.nextSibling),Fn=a,Qe=!0,Xa=null,as=!1,r!==null&&(yi[xi++]=Hs,yi[xi++]=qs,yi[xi++]=Ya,Hs=r.id,qs=r.overflow,Ya=a),a=q0(a,h.children),a.flags|=4096);return a}return y?(Or(),y=h.fallback,R=a.mode,B=r.child,Y=B.sibling,h=zs(B,{mode:"hidden",children:h.children}),h.subtreeFlags=B.subtreeFlags&65011712,Y!==null?y=zs(Y,y):(y=Wa(y,R,c,null),y.flags|=2),y.return=a,h.return=a,h.sibling=y,a.child=h,h=y,y=a.child,R=r.child.memoizedState,R===null?R=z0(c):(B=R.cachePool,B!==null?(Y=Xt._currentValue,B=B.parent!==Y?{parent:Y,pool:Y}:B):B=A1(),R={baseLanes:R.baseLanes|c,cachePool:B}),y.memoizedState=R,y.childLanes=H0(r,S,c),a.memoizedState=F0,h):(Ir(a),c=r.child,r=c.sibling,c=zs(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,r!==null&&(S=a.deletions,S===null?(a.deletions=[r],a.flags|=16):S.push(r)),a.child=c,a.memoizedState=null,c)}function q0(r,a){return a=sf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function sf(r,a){return r=ti(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function $0(r,a,c){return wl(a,r.child,null,c),r=q0(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function zw(r,a,c){r.lanes|=a;var h=r.alternate;h!==null&&(h.lanes|=a),c0(r.return,a,c)}function G0(r,a,c,h,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=y)}function Hw(r,a,c){var h=a.pendingProps,y=h.revealOrder,x=h.tail;if(xn(r,a,h.children,c),h=Qt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&zw(r,c,a);else if(r.tag===19)zw(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(he(Qt,h),y){case"forwards":for(c=a.child,y=null;c!==null;)r=c.alternate,r!==null&&Jh(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),G0(a,!1,y,c,x);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(r=y.alternate,r!==null&&Jh(r)===null){a.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}G0(a,!0,c,null,x);break;case"together":G0(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ks(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),Br|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(Zc(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=zs(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=zs(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function W0(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Vh(r)))}function Wj(r,a,c){switch(a.tag){case 3:Nt(a,a.stateNode.containerInfo),Cr(a,Xt,r.memoizedState.cache),Xc();break;case 27:case 5:tn(a);break;case 4:Nt(a,a.stateNode.containerInfo);break;case 10:Cr(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ir(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Fw(r,a,c):(Ir(a),r=Ks(r,a,c),r!==null?r.sibling:null);Ir(a);break;case 19:var y=(r.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Zc(r,a,c,!1),h=(c&a.childLanes)!==0),y){if(h)return Hw(r,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),he(Qt,Qt.current),h)break;return null;case 22:case 23:return a.lanes=0,Pw(r,a,c);case 24:Cr(a,Xt,r.memoizedState.cache)}return Ks(r,a,c)}function qw(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)an=!0;else{if(!W0(r,c)&&(a.flags&128)===0)return an=!1,Wj(r,a,c);an=(r.flags&131072)!==0}else an=!1,Qe&&(a.flags&1048576)!==0&&b1(a,Ph,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var h=a.elementType,y=h._init;if(h=y(h._payload),a.type=h,typeof h=="function")n0(h)?(r=no(h,r),a.tag=1,a=Uw(null,a,h,r,c)):(a.tag=0,a=B0(null,a,h,r,c));else{if(h!=null){if(y=h.$$typeof,y===K){a.tag=11,a=Mw(null,a,h,r,c);break e}else if(y===L){a.tag=14,a=Iw(null,a,h,r,c);break e}}throw a=X(h)||h,Error(i(306,a,""))}}return a;case 0:return B0(r,a,a.type,a.pendingProps,c);case 1:return h=a.type,y=no(h,a.pendingProps),Uw(r,a,h,y,c);case 3:e:{if(Nt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));h=a.pendingProps;var x=a.memoizedState;y=x.element,p0(r,a),ru(a,h,null,c);var S=a.memoizedState;if(h=S.cache,Cr(a,Xt,h),h!==x.cache&&u0(a,[Xt],c,!0),su(),h=S.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=Bw(r,a,h,c);break e}else if(h!==y){y=gi(Error(i(424)),a),Qc(y),a=Bw(r,a,h,c);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Rt=Bi(r.firstChild),Fn=a,Qe=!0,Xa=null,as=!0,c=_w(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Xc(),h===y){a=Ks(r,a,c);break e}xn(r,a,h,c)}a=a.child}return a;case 26:return nf(r,a),r===null?(c=Y_(a.type,null,a.pendingProps,null))?a.memoizedState=c:Qe||(c=a.type,r=a.pendingProps,h=xf(Be.current).createElement(c),h[jt]=a,h[xt]=r,bn(h,c,r),Re(h),a.stateNode=h):a.memoizedState=Y_(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return tn(a),r===null&&Qe&&(h=a.stateNode=$_(a.type,a.pendingProps,Be.current),Fn=a,as=!0,y=Rt,qr(a.type)?(Ap=y,Rt=Bi(h.firstChild)):Rt=y),xn(r,a,a.pendingProps.children,c),nf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Qe&&((y=h=Rt)&&(h=w3(h,a.type,a.pendingProps,as),h!==null?(a.stateNode=h,Fn=a,Rt=Bi(h.firstChild),as=!1,y=!0):y=!1),y||Qa(a)),tn(a),y=a.type,x=a.pendingProps,S=r!==null?r.memoizedProps:null,h=x.children,Tp(y,x)?h=null:S!==null&&Tp(y,S)&&(a.flags|=32),a.memoizedState!==null&&(y=_0(r,a,Uj,null,null,c),Au._currentValue=y),nf(r,a),xn(r,a,h,c),a.child;case 6:return r===null&&Qe&&((r=c=Rt)&&(c=_3(c,a.pendingProps,as),c!==null?(a.stateNode=c,Fn=a,Rt=null,r=!0):r=!1),r||Qa(a)),null;case 13:return Fw(r,a,c);case 4:return Nt(a,a.stateNode.containerInfo),h=a.pendingProps,r===null?a.child=wl(a,null,h,c):xn(r,a,h,c),a.child;case 11:return Mw(r,a,a.type,a.pendingProps,c);case 7:return xn(r,a,a.pendingProps,c),a.child;case 8:return xn(r,a,a.pendingProps.children,c),a.child;case 12:return xn(r,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Cr(a,a.type,h.value),xn(r,a,h.children,c),a.child;case 9:return y=a.type._context,h=a.pendingProps.children,Ja(a),y=Nn(y),h=h(y),a.flags|=1,xn(r,a,h,c),a.child;case 14:return Iw(r,a,a.type,a.pendingProps,c);case 15:return Ow(r,a,a.type,a.pendingProps,c);case 19:return Hw(r,a,c);case 31:return h=a.pendingProps,c=a.mode,h={mode:h.mode,children:h.children},r===null?(c=sf(h,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=zs(r.child,h),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return Pw(r,a,c);case 24:return Ja(a),h=Nn(Xt),r===null?(y=f0(),y===null&&(y=ft,x=d0(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),a.memoizedState={parent:h,cache:y},g0(a),Cr(a,Xt,y)):((r.lanes&c)!==0&&(p0(r,a),ru(a,null,null,c),su()),y=r.memoizedState,x=a.memoizedState,y.parent!==h?(y={parent:h,cache:h},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Cr(a,Xt,h)):(h=x.cache,Cr(a,Xt,h),h!==y.cache&&u0(a,[Xt],c,!0))),xn(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Xs(r){r.flags|=4}function $w(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!J_(a)){if(a=vi.current,a!==null&&((He&4194048)===He?os!==null:(He&62914560)!==He&&(He&536870912)===0||a!==os))throw nu=m0,N1;r.flags|=8192}}function rf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Sr():536870912,r.lanes|=a,El|=a)}function hu(r,a){if(!Qe)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function _t(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,h=0;if(a)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=c,a}function Yj(r,a,c){var h=a.pendingProps;switch(a0(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(a),null;case 1:return _t(a),null;case 3:return c=a.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Gs(Xt),ct(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Kc(a)?Xs(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,T1())),_t(a),null;case 26:return c=a.memoizedState,r===null?(Xs(a),c!==null?(_t(a),$w(a,c)):(_t(a),a.flags&=-16777217)):c?c!==r.memoizedState?(Xs(a),_t(a),$w(a,c)):(_t(a),a.flags&=-16777217):(r.memoizedProps!==h&&Xs(a),_t(a),a.flags&=-16777217),null;case 27:Wt(a),c=Be.current;var y=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==h&&Xs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return _t(a),null}r=ke.current,Kc(a)?w1(a):(r=$_(y,h,c),a.stateNode=r,Xs(a))}return _t(a),null;case 5:if(Wt(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&Xs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return _t(a),null}if(r=ke.current,Kc(a))w1(a);else{switch(y=xf(Be.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?y.createElement(c,{is:h.is}):y.createElement(c)}}r[jt]=a,r[xt]=h;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=r;e:switch(bn(r,c,h),c){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Xs(a)}}return _t(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==h&&Xs(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(r=Be.current,Kc(a)){if(r=a.stateNode,c=a.memoizedProps,h=null,y=Fn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[jt]=a,r=!!(r.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||L_(r.nodeValue,c)),r||Qa(a)}else r=xf(r).createTextNode(h),r[jt]=a,a.stateNode=r}return _t(a),null;case 13:if(h=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Kc(a),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[jt]=a}else Xc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_t(a),y=!1}else y=T1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Ys(a),a):(Ys(a),null)}if(Ys(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=h!==null,r=r!==null&&r.memoizedState!==null,c){h=a.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var x=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),rf(a,a.updateQueue),_t(a),null;case 4:return ct(),r===null&&xp(a.stateNode.containerInfo),_t(a),null;case 10:return Gs(a.type),_t(a),null;case 19:if(xe(Qt),y=a.memoizedState,y===null)return _t(a),null;if(h=(a.flags&128)!==0,x=y.rendering,x===null)if(h)hu(y,!1);else{if(Dt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(x=Jh(r),x!==null){for(a.flags|=128,hu(y,!1),r=x.updateQueue,a.updateQueue=r,rf(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)v1(c,r),c=c.sibling;return he(Qt,Qt.current&1|2),a.child}r=r.sibling}y.tail!==null&&hn()>lf&&(a.flags|=128,h=!0,hu(y,!1),a.lanes=4194304)}else{if(!h)if(r=Jh(x),r!==null){if(a.flags|=128,h=!0,r=r.updateQueue,a.updateQueue=r,rf(a,r),hu(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Qe)return _t(a),null}else 2*hn()-y.renderingStartTime>lf&&c!==536870912&&(a.flags|=128,h=!0,hu(y,!1),a.lanes=4194304);y.isBackwards?(x.sibling=a.child,a.child=x):(r=y.last,r!==null?r.sibling=x:a.child=x,y.last=x)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=hn(),a.sibling=null,r=Qt.current,he(Qt,h?r&1|2:r&1),a):(_t(a),null);case 22:case 23:return Ys(a),b0(),h=a.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(_t(a),a.subtreeFlags&6&&(a.flags|=8192)):_t(a),c=a.updateQueue,c!==null&&rf(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),r!==null&&xe(eo),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Gs(Xt),_t(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Kj(r,a){switch(a0(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Gs(Xt),ct(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Wt(a),null;case 13:if(Ys(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Xc()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return xe(Qt),null;case 4:return ct(),null;case 10:return Gs(a.type),null;case 22:case 23:return Ys(a),b0(),r!==null&&xe(eo),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Gs(Xt),null;case 25:return null;default:return null}}function Gw(r,a){switch(a0(a),a.tag){case 3:Gs(Xt),ct();break;case 26:case 27:case 5:Wt(a);break;case 4:ct();break;case 13:Ys(a);break;case 19:xe(Qt);break;case 10:Gs(a.type);break;case 22:case 23:Ys(a),b0(),r!==null&&xe(eo);break;case 24:Gs(Xt)}}function fu(r,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&r)===r){h=void 0;var x=c.create,S=c.inst;h=x(),S.destroy=h}c=c.next}while(c!==y)}}catch(R){dt(a,a.return,R)}}function Pr(r,a,c){try{var h=a.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&r)===r){var S=h.inst,R=S.destroy;if(R!==void 0){S.destroy=void 0,y=a;var B=c,Y=R;try{Y()}catch(ie){dt(y,B,ie)}}}h=h.next}while(h!==x)}}catch(ie){dt(a,a.return,ie)}}function Ww(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{I1(a,c)}catch(h){dt(r,r.return,h)}}}function Yw(r,a,c){c.props=no(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(h){dt(r,a,h)}}function mu(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof c=="function"?r.refCleanup=c(h):c.current=h}}catch(y){dt(r,a,y)}}function ls(r,a){var c=r.ref,h=r.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){dt(r,a,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){dt(r,a,y)}else c.current=null}function Kw(r){var a=r.type,c=r.memoizedProps,h=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){dt(r,r.return,y)}}function Y0(r,a,c){try{var h=r.stateNode;p3(h,r.type,c,a),h[xt]=a}catch(y){dt(r,r.return,y)}}function Xw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&qr(r.type)||r.tag===4}function K0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Xw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&qr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function X0(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=yf));else if(h!==4&&(h===27&&qr(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(X0(r,a,c),r=r.sibling;r!==null;)X0(r,a,c),r=r.sibling}function af(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(h!==4&&(h===27&&qr(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(af(r,a,c),r=r.sibling;r!==null;)af(r,a,c),r=r.sibling}function Qw(r){var a=r.stateNode,c=r.memoizedProps;try{for(var h=r.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);bn(a,h,c),a[jt]=r,a[xt]=c}catch(x){dt(r,r.return,x)}}var Qs=!1,Ot=!1,Q0=!1,Zw=typeof WeakSet=="function"?WeakSet:Set,on=null;function Xj(r,a){if(r=r.containerInfo,wp=Sf,r=c1(r),Kg(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var S=0,R=-1,B=-1,Y=0,ie=0,ae=r,Z=null;t:for(;;){for(var J;ae!==c||y!==0&&ae.nodeType!==3||(R=S+y),ae!==x||h!==0&&ae.nodeType!==3||(B=S+h),ae.nodeType===3&&(S+=ae.nodeValue.length),(J=ae.firstChild)!==null;)Z=ae,ae=J;for(;;){if(ae===r)break t;if(Z===c&&++Y===y&&(R=S),Z===x&&++ie===h&&(B=S),(J=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=J}c=R===-1||B===-1?null:{start:R,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(_p={focusedElem:r,selectionRange:c},Sf=!1,on=a;on!==null;)if(a=on,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,on=r;else for(;on!==null;){switch(a=on,x=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,c=a,y=x.memoizedProps,x=x.memoizedState,h=c.stateNode;try{var Se=no(c.type,y,c.elementType===c.type);r=h.getSnapshotBeforeUpdate(Se,x),h.__reactInternalSnapshotBeforeUpdate=r}catch(we){dt(c,c.return,we)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)Ep(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ep(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,on=r;break}on=a.return}}function Jw(r,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Vr(r,c),h&4&&fu(5,c);break;case 1:if(Vr(r,c),h&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(S){dt(c,c.return,S)}else{var y=no(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(y,a,r.__reactInternalSnapshotBeforeUpdate)}catch(S){dt(c,c.return,S)}}h&64&&Ww(c),h&512&&mu(c,c.return);break;case 3:if(Vr(r,c),h&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{I1(r,a)}catch(S){dt(c,c.return,S)}}break;case 27:a===null&&h&4&&Qw(c);case 26:case 5:Vr(r,c),a===null&&h&4&&Kw(c),h&512&&mu(c,c.return);break;case 12:Vr(r,c);break;case 13:Vr(r,c),h&4&&n_(r,c),h&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=r3.bind(null,c),T3(r,c))));break;case 22:if(h=c.memoizedState!==null||Qs,!h){a=a!==null&&a.memoizedState!==null||Ot,y=Qs;var x=Ot;Qs=h,(Ot=a)&&!x?Lr(r,c,(c.subtreeFlags&8772)!==0):Vr(r,c),Qs=y,Ot=x}break;case 30:break;default:Vr(r,c)}}function e_(r){var a=r.alternate;a!==null&&(r.alternate=null,e_(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ii(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,$n=!1;function Zs(r,a,c){for(c=c.child;c!==null;)t_(r,a,c),c=c.sibling}function t_(r,a,c){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(yt,c)}catch{}switch(c.tag){case 26:Ot||ls(c,a),Zs(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ot||ls(c,a);var h=vt,y=$n;qr(c.type)&&(vt=c.stateNode,$n=!1),Zs(r,a,c),Tu(c.stateNode),vt=h,$n=y;break;case 5:Ot||ls(c,a);case 6:if(h=vt,y=$n,vt=null,Zs(r,a,c),vt=h,$n=y,vt!==null)if($n)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(c.stateNode)}catch(x){dt(c,a,x)}else try{vt.removeChild(c.stateNode)}catch(x){dt(c,a,x)}break;case 18:vt!==null&&($n?(r=vt,H_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Ru(r)):H_(vt,c.stateNode));break;case 4:h=vt,y=$n,vt=c.stateNode.containerInfo,$n=!0,Zs(r,a,c),vt=h,$n=y;break;case 0:case 11:case 14:case 15:Ot||Pr(2,c,a),Ot||Pr(4,c,a),Zs(r,a,c);break;case 1:Ot||(ls(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Yw(c,a,h)),Zs(r,a,c);break;case 21:Zs(r,a,c);break;case 22:Ot=(h=Ot)||c.memoizedState!==null,Zs(r,a,c),Ot=h;break;default:Zs(r,a,c)}}function n_(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ru(r)}catch(c){dt(a,a.return,c)}}function Qj(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Zw),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Zw),a;default:throw Error(i(435,r.tag))}}function Z0(r,a){var c=Qj(r);a.forEach(function(h){var y=a3.bind(null,r,h);c.has(h)||(c.add(h),h.then(y,y))})}function ni(r,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],x=r,S=a,R=S;e:for(;R!==null;){switch(R.tag){case 27:if(qr(R.type)){vt=R.stateNode,$n=!1;break e}break;case 5:vt=R.stateNode,$n=!1;break e;case 3:case 4:vt=R.stateNode.containerInfo,$n=!0;break e}R=R.return}if(vt===null)throw Error(i(160));t_(x,S,y),vt=null,$n=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)i_(a,r),a=a.sibling}var Ui=null;function i_(r,a){var c=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ni(a,r),ii(r),h&4&&(Pr(3,r,r.return),fu(3,r),Pr(5,r,r.return));break;case 1:ni(a,r),ii(r),h&512&&(Ot||c===null||ls(c,c.return)),h&64&&Qs&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=Ui;if(ni(a,r),ii(r),h&512&&(Ot||c===null||ls(c,c.return)),h&4){var x=c!==null?c.memoizedState:null;if(h=r.memoizedState,c===null)if(h===null)if(r.stateNode===null){e:{h=r.type,c=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Mi]||x[jt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),bn(x,h,c),x[jt]=r,Re(x),h=x;break e;case"link":var S=Q_("link","href",y).get(h+(c.href||""));if(S){for(var R=0;R<S.length;R++)if(x=S[R],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(R,1);break t}}x=y.createElement(h),bn(x,h,c),y.head.appendChild(x);break;case"meta":if(S=Q_("meta","content",y).get(h+(c.content||""))){for(R=0;R<S.length;R++)if(x=S[R],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(R,1);break t}}x=y.createElement(h),bn(x,h,c),y.head.appendChild(x);break;default:throw Error(i(468,h))}x[jt]=r,Re(x),h=x}r.stateNode=h}else Z_(y,r.type,r.stateNode);else r.stateNode=X_(y,h,r.memoizedProps);else x!==h?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,h===null?Z_(y,r.type,r.stateNode):X_(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Y0(r,r.memoizedProps,c.memoizedProps)}break;case 27:ni(a,r),ii(r),h&512&&(Ot||c===null||ls(c,c.return)),c!==null&&h&4&&Y0(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ni(a,r),ii(r),h&512&&(Ot||c===null||ls(c,c.return)),r.flags&32){y=r.stateNode;try{di(y,"")}catch(J){dt(r,r.return,J)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,Y0(r,y,c!==null?c.memoizedProps:y)),h&1024&&(Q0=!0);break;case 6:if(ni(a,r),ii(r),h&4){if(r.stateNode===null)throw Error(i(162));h=r.memoizedProps,c=r.stateNode;try{c.nodeValue=h}catch(J){dt(r,r.return,J)}}break;case 3:if(wf=null,y=Ui,Ui=vf(a.containerInfo),ni(a,r),Ui=y,ii(r),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Ru(a.containerInfo)}catch(J){dt(r,r.return,J)}Q0&&(Q0=!1,s_(r));break;case 4:h=Ui,Ui=vf(r.stateNode.containerInfo),ni(a,r),ii(r),Ui=h;break;case 12:ni(a,r),ii(r);break;case 13:ni(a,r),ii(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(sp=hn()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Z0(r,h)));break;case 22:y=r.memoizedState!==null;var B=c!==null&&c.memoizedState!==null,Y=Qs,ie=Ot;if(Qs=Y||y,Ot=ie||B,ni(a,r),Ot=ie,Qs=Y,ii(r),h&8192)e:for(a=r.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(c===null||B||Qs||Ot||io(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){B=c=a;try{if(x=B.stateNode,y)S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{R=B.stateNode;var ae=B.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;R.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){dt(B,B.return,J)}}}else if(a.tag===6){if(c===null){B=a;try{B.stateNode.nodeValue=y?"":B.memoizedProps}catch(J){dt(B,B.return,J)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=r.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Z0(r,c))));break;case 19:ni(a,r),ii(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Z0(r,h)));break;case 30:break;case 21:break;default:ni(a,r),ii(r)}}function ii(r){var a=r.flags;if(a&2){try{for(var c,h=r.return;h!==null;){if(Xw(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var y=c.stateNode,x=K0(r);af(r,x,y);break;case 5:var S=c.stateNode;c.flags&32&&(di(S,""),c.flags&=-33);var R=K0(r);af(r,R,S);break;case 3:case 4:var B=c.stateNode.containerInfo,Y=K0(r);X0(r,Y,B);break;default:throw Error(i(161))}}catch(ie){dt(r,r.return,ie)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function s_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;s_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Vr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Jw(r,a.alternate,a),a=a.sibling}function io(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Pr(4,a,a.return),io(a);break;case 1:ls(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Yw(a,a.return,c),io(a);break;case 27:Tu(a.stateNode);case 26:case 5:ls(a,a.return),io(a);break;case 22:a.memoizedState===null&&io(a);break;case 30:io(a);break;default:io(a)}r=r.sibling}}function Lr(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,y=r,x=a,S=x.flags;switch(x.tag){case 0:case 11:case 15:Lr(y,x,c),fu(4,x);break;case 1:if(Lr(y,x,c),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Y){dt(h,h.return,Y)}if(h=x,y=h.updateQueue,y!==null){var R=h.stateNode;try{var B=y.shared.hiddenCallbacks;if(B!==null)for(y.shared.hiddenCallbacks=null,y=0;y<B.length;y++)M1(B[y],R)}catch(Y){dt(h,h.return,Y)}}c&&S&64&&Ww(x),mu(x,x.return);break;case 27:Qw(x);case 26:case 5:Lr(y,x,c),c&&h===null&&S&4&&Kw(x),mu(x,x.return);break;case 12:Lr(y,x,c);break;case 13:Lr(y,x,c),c&&S&4&&n_(y,x);break;case 22:x.memoizedState===null&&Lr(y,x,c),mu(x,x.return);break;case 30:break;default:Lr(y,x,c)}a=a.sibling}}function J0(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Jc(c))}function ep(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Jc(r))}function cs(r,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)r_(r,a,c,h),a=a.sibling}function r_(r,a,c,h){var y=a.flags;switch(a.tag){case 0:case 11:case 15:cs(r,a,c,h),y&2048&&fu(9,a);break;case 1:cs(r,a,c,h);break;case 3:cs(r,a,c,h),y&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Jc(r)));break;case 12:if(y&2048){cs(r,a,c,h),r=a.stateNode;try{var x=a.memoizedProps,S=x.id,R=x.onPostCommit;typeof R=="function"&&R(S,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){dt(a,a.return,B)}}else cs(r,a,c,h);break;case 13:cs(r,a,c,h);break;case 23:break;case 22:x=a.stateNode,S=a.alternate,a.memoizedState!==null?x._visibility&2?cs(r,a,c,h):gu(r,a):x._visibility&2?cs(r,a,c,h):(x._visibility|=2,_l(r,a,c,h,(a.subtreeFlags&10256)!==0)),y&2048&&J0(S,a);break;case 24:cs(r,a,c,h),y&2048&&ep(a.alternate,a);break;default:cs(r,a,c,h)}}function _l(r,a,c,h,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=r,S=a,R=c,B=h,Y=S.flags;switch(S.tag){case 0:case 11:case 15:_l(x,S,R,B,y),fu(8,S);break;case 23:break;case 22:var ie=S.stateNode;S.memoizedState!==null?ie._visibility&2?_l(x,S,R,B,y):gu(x,S):(ie._visibility|=2,_l(x,S,R,B,y)),y&&Y&2048&&J0(S.alternate,S);break;case 24:_l(x,S,R,B,y),y&&Y&2048&&ep(S.alternate,S);break;default:_l(x,S,R,B,y)}a=a.sibling}}function gu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,h=a,y=h.flags;switch(h.tag){case 22:gu(c,h),y&2048&&J0(h.alternate,h);break;case 24:gu(c,h),y&2048&&ep(h.alternate,h);break;default:gu(c,h)}a=a.sibling}}var pu=8192;function Tl(r){if(r.subtreeFlags&pu)for(r=r.child;r!==null;)a_(r),r=r.sibling}function a_(r){switch(r.tag){case 26:Tl(r),r.flags&pu&&r.memoizedState!==null&&P3(Ui,r.memoizedState,r.memoizedProps);break;case 5:Tl(r);break;case 3:case 4:var a=Ui;Ui=vf(r.stateNode.containerInfo),Tl(r),Ui=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=pu,pu=16777216,Tl(r),pu=a):Tl(r));break;default:Tl(r)}}function o_(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function yu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];on=h,c_(h,r)}o_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)l_(r),r=r.sibling}function l_(r){switch(r.tag){case 0:case 11:case 15:yu(r),r.flags&2048&&Pr(9,r,r.return);break;case 3:yu(r);break;case 12:yu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,of(r)):yu(r);break;default:yu(r)}}function of(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];on=h,c_(h,r)}o_(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Pr(8,a,a.return),of(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,of(a));break;default:of(a)}r=r.sibling}}function c_(r,a){for(;on!==null;){var c=on;switch(c.tag){case 0:case 11:case 15:Pr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Jc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,on=h;else e:for(c=r;on!==null;){h=on;var y=h.sibling,x=h.return;if(e_(h),h===c){on=null;break e}if(y!==null){y.return=x,on=y;break e}on=x}}}var Zj={getCacheForType:function(r){var a=Nn(Xt),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},Jj=typeof WeakMap=="function"?WeakMap:Map,nt=0,ft=null,Oe=null,He=0,it=0,si=null,Ur=!1,Sl=!1,tp=!1,Js=0,Dt=0,Br=0,so=0,np=0,bi=0,El=0,xu=null,Gn=null,ip=!1,sp=0,lf=1/0,cf=null,Fr=null,vn=0,zr=null,kl=null,Al=0,rp=0,ap=null,u_=null,vu=0,op=null;function ri(){if((nt&2)!==0&&He!==0)return He&-He;if(F.T!==null){var r=ml;return r!==0?r:mp()}return Qi()}function d_(){bi===0&&(bi=(He&536870912)===0||Qe?ja():536870912);var r=vi.current;return r!==null&&(r.flags|=32),bi}function ai(r,a,c){(r===ft&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(Nl(r,0),Hr(r,He,bi,!1)),li(r,c),((nt&2)===0||r!==ft)&&(r===ft&&((nt&2)===0&&(so|=c),Dt===4&&Hr(r,He,bi,!1)),us(r))}function h_(r,a,c){if((nt&6)!==0)throw Error(i(327));var h=!c&&(a&124)===0&&(a&r.expiredLanes)===0||Ki(r,a),y=h?n3(r,a):up(r,a,!0),x=h;do{if(y===0){Sl&&!h&&Hr(r,a,0,!1);break}else{if(c=r.current.alternate,x&&!e3(c)){y=up(r,a,!1),x=!1;continue}if(y===2){if(x=a,r.errorRecoveryDisabledLanes&x)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var R=r;y=xu;var B=R.current.memoizedState.isDehydrated;if(B&&(Nl(R,S).flags|=256),S=up(R,S,!1),S!==2){if(tp&&!B){R.errorRecoveryDisabledLanes|=x,so|=x,y=4;break e}x=Gn,Gn=y,x!==null&&(Gn===null?Gn=x:Gn.push.apply(Gn,x))}y=S}if(x=!1,y!==2)continue}}if(y===1){Nl(r,0),Hr(r,a,0,!0);break}e:{switch(h=r,x=y,x){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Hr(h,a,bi,!Ur);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=sp+300-hn(),10<y)){if(Hr(h,a,bi,!Ur),Rs(h,0,!0)!==0)break e;h.timeoutHandle=F_(f_.bind(null,h,c,Gn,cf,ip,a,bi,so,El,Ur,x,2,-0,0),y);break e}f_(h,c,Gn,cf,ip,a,bi,so,El,Ur,x,0,-0,0)}}break}while(!0);us(r)}function f_(r,a,c,h,y,x,S,R,B,Y,ie,ae,Z,J){if(r.timeoutHandle=-1,ae=a.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(ku={stylesheets:null,count:0,unsuspend:O3},a_(a),ae=V3(),ae!==null)){r.cancelPendingCommit=ae(b_.bind(null,r,a,x,c,h,y,S,R,B,ie,1,Z,J)),Hr(r,x,S,!Y);return}b_(r,a,x,c,h,y,S,R,B)}function e3(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],x=y.getSnapshot;y=y.value;try{if(!ei(x(),y))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hr(r,a,c,h){a&=~np,a&=~so,r.suspendedLanes|=a,r.pingedLanes&=~a,h&&(r.warmLanes|=a),h=r.expirationTimes;for(var y=a;0<y;){var x=31-Ut(y),S=1<<x;h[x]=-1,y&=~S}c!==0&&mt(r,c,a)}function uf(){return(nt&6)===0?(bu(0),!1):!0}function lp(){if(Oe!==null){if(it===0)var r=Oe.return;else r=Oe,$s=Za=null,E0(r),bl=null,uu=0,r=Oe;for(;r!==null;)Gw(r.alternate,r),r=r.return;Oe=null}}function Nl(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,x3(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),lp(),ft=r,Oe=c=zs(r.current,null),He=a,it=0,si=null,Ur=!1,Sl=Ki(r,a),tp=!1,El=bi=np=so=Br=Dt=0,Gn=xu=null,ip=!1,(a&8)!==0&&(a|=a&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=a;0<h;){var y=31-Ut(h),x=1<<y;a|=r[y],h&=~x}return Js=a,Rh(),c}function m_(r,a){De=null,F.H=Xh,a===tu||a===Bh?(a=R1(),it=3):a===N1?(a=R1(),it=4):it=a===Dw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,si=a,Oe===null&&(Dt=1,tf(r,gi(a,r.current)))}function g_(){var r=F.H;return F.H=Xh,r===null?Xh:r}function p_(){var r=F.A;return F.A=Zj,r}function cp(){Dt=4,Ur||(He&4194048)!==He&&vi.current!==null||(Sl=!0),(Br&134217727)===0&&(so&134217727)===0||ft===null||Hr(ft,He,bi,!1)}function up(r,a,c){var h=nt;nt|=2;var y=g_(),x=p_();(ft!==r||He!==a)&&(cf=null,Nl(r,a)),a=!1;var S=Dt;e:do try{if(it!==0&&Oe!==null){var R=Oe,B=si;switch(it){case 8:lp(),S=6;break e;case 3:case 2:case 9:case 6:vi.current===null&&(a=!0);var Y=it;if(it=0,si=null,Cl(r,R,B,Y),c&&Sl){S=0;break e}break;default:Y=it,it=0,si=null,Cl(r,R,B,Y)}}t3(),S=Dt;break}catch(ie){m_(r,ie)}while(!0);return a&&r.shellSuspendCounter++,$s=Za=null,nt=h,F.H=y,F.A=x,Oe===null&&(ft=null,He=0,Rh()),S}function t3(){for(;Oe!==null;)y_(Oe)}function n3(r,a){var c=nt;nt|=2;var h=g_(),y=p_();ft!==r||He!==a?(cf=null,lf=hn()+500,Nl(r,a)):Sl=Ki(r,a);e:do try{if(it!==0&&Oe!==null){a=Oe;var x=si;t:switch(it){case 1:it=0,si=null,Cl(r,a,x,1);break;case 2:case 9:if(C1(x)){it=0,si=null,x_(a);break}a=function(){it!==2&&it!==9||ft!==r||(it=7),us(r)},x.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:C1(x)?(it=0,si=null,x_(a)):(it=0,si=null,Cl(r,a,x,7));break;case 5:var S=null;switch(Oe.tag){case 26:S=Oe.memoizedState;case 5:case 27:var R=Oe;if(!S||J_(S)){it=0,si=null;var B=R.sibling;if(B!==null)Oe=B;else{var Y=R.return;Y!==null?(Oe=Y,df(Y)):Oe=null}break t}}it=0,si=null,Cl(r,a,x,5);break;case 6:it=0,si=null,Cl(r,a,x,6);break;case 8:lp(),Dt=6;break e;default:throw Error(i(462))}}i3();break}catch(ie){m_(r,ie)}while(!0);return $s=Za=null,F.H=h,F.A=y,nt=c,Oe!==null?0:(ft=null,He=0,Rh(),Dt)}function i3(){for(;Oe!==null&&!An();)y_(Oe)}function y_(r){var a=qw(r.alternate,r,Js);r.memoizedProps=r.pendingProps,a===null?df(r):Oe=a}function x_(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=Lw(c,a,a.pendingProps,a.type,void 0,He);break;case 11:a=Lw(c,a,a.pendingProps,a.type.render,a.ref,He);break;case 5:E0(a);default:Gw(c,a),a=Oe=v1(a,Js),a=qw(c,a,Js)}r.memoizedProps=r.pendingProps,a===null?df(r):Oe=a}function Cl(r,a,c,h){$s=Za=null,E0(a),bl=null,uu=0;var y=a.return;try{if(Gj(r,y,a,c,He)){Dt=1,tf(r,gi(c,r.current)),Oe=null;return}}catch(x){if(y!==null)throw Oe=y,x;Dt=1,tf(r,gi(c,r.current)),Oe=null;return}a.flags&32768?(Qe||h===1?r=!0:Sl||(He&536870912)!==0?r=!1:(Ur=r=!0,(h===2||h===9||h===3||h===6)&&(h=vi.current,h!==null&&h.tag===13&&(h.flags|=16384))),v_(a,r)):df(a)}function df(r){var a=r;do{if((a.flags&32768)!==0){v_(a,Ur);return}r=a.return;var c=Yj(a.alternate,a,Js);if(c!==null){Oe=c;return}if(a=a.sibling,a!==null){Oe=a;return}Oe=a=r}while(a!==null);Dt===0&&(Dt=5)}function v_(r,a){do{var c=Kj(r.alternate,r);if(c!==null){c.flags&=32767,Oe=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){Oe=r;return}Oe=r=c}while(r!==null);Dt=6,Oe=null}function b_(r,a,c,h,y,x,S,R,B){r.cancelPendingCommit=null;do hf();while(vn!==0);if((nt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(x=a.lanes|a.childLanes,x|=e0,Bt(r,c,x,S,R,B),r===ft&&(Oe=ft=null,He=0),kl=a,zr=r,Al=c,rp=x,ap=y,u_=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,o3(Ns,function(){return E_(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=F.T,F.T=null,y=$.p,$.p=2,S=nt,nt|=4;try{Xj(r,a,c)}finally{nt=S,$.p=y,F.T=h}}vn=1,w_(),__(),T_()}}function w_(){if(vn===1){vn=0;var r=zr,a=kl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=F.T,F.T=null;var h=$.p;$.p=2;var y=nt;nt|=4;try{i_(a,r);var x=_p,S=c1(r.containerInfo),R=x.focusedElem,B=x.selectionRange;if(S!==R&&R&&R.ownerDocument&&l1(R.ownerDocument.documentElement,R)){if(B!==null&&Kg(R)){var Y=B.start,ie=B.end;if(ie===void 0&&(ie=Y),"selectionStart"in R)R.selectionStart=Y,R.selectionEnd=Math.min(ie,R.value.length);else{var ae=R.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Se=R.textContent.length,we=Math.min(B.start,Se),lt=B.end===void 0?we:Math.min(B.end,Se);!J.extend&&we>lt&&(S=lt,lt=we,we=S);var q=o1(R,we),H=o1(R,lt);if(q&&H&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==H.node||J.focusOffset!==H.offset)){var W=ae.createRange();W.setStart(q.node,q.offset),J.removeAllRanges(),we>lt?(J.addRange(W),J.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),J.addRange(W))}}}}for(ae=[],J=R;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ae.length;R++){var re=ae[R];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Sf=!!wp,_p=wp=null}finally{nt=y,$.p=h,F.T=c}}r.current=a,vn=2}}function __(){if(vn===2){vn=0;var r=zr,a=kl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=F.T,F.T=null;var h=$.p;$.p=2;var y=nt;nt|=4;try{Jw(r,a.alternate,a)}finally{nt=y,$.p=h,F.T=c}}vn=3}}function T_(){if(vn===4||vn===3){vn=0,dn();var r=zr,a=kl,c=Al,h=u_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vn=5:(vn=0,kl=zr=null,S_(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Fr=null),fn(c),a=a.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(yt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=F.T,y=$.p,$.p=2,F.T=null;try{for(var x=r.onRecoverableError,S=0;S<h.length;S++){var R=h[S];x(R.value,{componentStack:R.stack})}}finally{F.T=a,$.p=y}}(Al&3)!==0&&hf(),us(r),y=r.pendingLanes,(c&4194090)!==0&&(y&42)!==0?r===op?vu++:(vu=0,op=r):vu=0,bu(0)}}function S_(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Jc(a)))}function hf(r){return w_(),__(),T_(),E_()}function E_(){if(vn!==5)return!1;var r=zr,a=rp;rp=0;var c=fn(Al),h=F.T,y=$.p;try{$.p=32>c?32:c,F.T=null,c=ap,ap=null;var x=zr,S=Al;if(vn=0,kl=zr=null,Al=0,(nt&6)!==0)throw Error(i(331));var R=nt;if(nt|=4,l_(x.current),r_(x,x.current,S,c),nt=R,bu(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(yt,x)}catch{}return!0}finally{$.p=y,F.T=h,S_(r,a)}}function k_(r,a,c){a=gi(c,a),a=U0(r.stateNode,a,2),r=Dr(r,a,2),r!==null&&(li(r,2),us(r))}function dt(r,a,c){if(r.tag===3)k_(r,r,c);else for(;a!==null;){if(a.tag===3){k_(a,r,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Fr===null||!Fr.has(h))){r=gi(c,r),c=jw(2),h=Dr(a,c,2),h!==null&&(Rw(c,h,a,r),li(h,2),us(h));break}}a=a.return}}function dp(r,a,c){var h=r.pingCache;if(h===null){h=r.pingCache=new Jj;var y=new Set;h.set(a,y)}else y=h.get(a),y===void 0&&(y=new Set,h.set(a,y));y.has(c)||(tp=!0,y.add(c),r=s3.bind(null,r,a,c),a.then(r,r))}function s3(r,a,c){var h=r.pingCache;h!==null&&h.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,ft===r&&(He&c)===c&&(Dt===4||Dt===3&&(He&62914560)===He&&300>hn()-sp?(nt&2)===0&&Nl(r,0):np|=c,El===He&&(El=0)),us(r)}function A_(r,a){a===0&&(a=Sr()),r=ul(r,a),r!==null&&(li(r,a),us(r))}function r3(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),A_(r,c)}function a3(r,a){var c=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),A_(r,c)}function o3(r,a){return Ct(r,a)}var ff=null,jl=null,hp=!1,mf=!1,fp=!1,ro=0;function us(r){r!==jl&&r.next===null&&(jl===null?ff=jl=r:jl=jl.next=r),mf=!0,hp||(hp=!0,c3())}function bu(r,a){if(!fp&&mf){fp=!0;do for(var c=!1,h=ff;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var S=h.suspendedLanes,R=h.pingedLanes;x=(1<<31-Ut(42|r)+1)-1,x&=y&~(S&~R),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,R_(h,x))}else x=He,x=Rs(h,h===ft?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||Ki(h,x)||(c=!0,R_(h,x));h=h.next}while(c);fp=!1}}function l3(){N_()}function N_(){mf=hp=!1;var r=0;ro!==0&&(y3()&&(r=ro),ro=0);for(var a=hn(),c=null,h=ff;h!==null;){var y=h.next,x=C_(h,a);x===0?(h.next=null,c===null?ff=y:c.next=y,y===null&&(jl=c)):(c=h,(r!==0||(x&3)!==0)&&(mf=!0)),h=y}bu(r)}function C_(r,a){for(var c=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var S=31-Ut(x),R=1<<S,B=y[S];B===-1?((R&c)===0||(R&h)!==0)&&(y[S]=Ds(R,a)):B<=a&&(r.expiredLanes|=R),x&=~R}if(a=ft,c=He,c=Rs(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,c===0||r===a&&(it===2||it===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Ge(h),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Ki(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(h!==null&&Ge(h),fn(c)){case 2:case 8:c=Tr;break;case 32:c=Ns;break;case 268435456:c=Cs;break;default:c=Ns}return h=j_.bind(null,r),c=Ct(c,h),r.callbackPriority=a,r.callbackNode=c,a}return h!==null&&h!==null&&Ge(h),r.callbackPriority=2,r.callbackNode=null,2}function j_(r,a){if(vn!==0&&vn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(hf()&&r.callbackNode!==c)return null;var h=He;return h=Rs(r,r===ft?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(h_(r,h,a),C_(r,hn()),r.callbackNode!=null&&r.callbackNode===c?j_.bind(null,r):null)}function R_(r,a){if(hf())return null;h_(r,a,!0)}function c3(){v3(function(){(nt&6)!==0?Ct(_r,l3):N_()})}function mp(){return ro===0&&(ro=ja()),ro}function D_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Zo(""+r)}function M_(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function u3(r,a,c,h,y){if(a==="submit"&&c&&c.stateNode===y){var x=D_((y[xt]||null).action),S=h.submitter;S&&(a=(a=S[xt]||null)?D_(a.formAction):S.getAttribute("formAction"),a!==null&&(x=a,S=null));var R=new Jo("action","action",null,h,y);r.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ro!==0){var B=S?M_(y,S):new FormData(y);I0(c,{pending:!0,data:B,method:y.method,action:x},null,B)}}else typeof x=="function"&&(R.preventDefault(),B=S?M_(y,S):new FormData(y),I0(c,{pending:!0,data:B,method:y.method,action:x},x,B))},currentTarget:y}]})}}for(var gp=0;gp<Jg.length;gp++){var pp=Jg[gp],d3=pp.toLowerCase(),h3=pp[0].toUpperCase()+pp.slice(1);Li(d3,"on"+h3)}Li(h1,"onAnimationEnd"),Li(f1,"onAnimationIteration"),Li(m1,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Cj,"onTransitionRun"),Li(jj,"onTransitionStart"),Li(Rj,"onTransitionCancel"),Li(g1,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function I_(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var h=r[c],y=h.event;h=h.listeners;e:{var x=void 0;if(a)for(var S=h.length-1;0<=S;S--){var R=h[S],B=R.instance,Y=R.currentTarget;if(R=R.listener,B!==x&&y.isPropagationStopped())break e;x=R,y.currentTarget=Y;try{x(y)}catch(ie){ef(ie)}y.currentTarget=null,x=B}else for(S=0;S<h.length;S++){if(R=h[S],B=R.instance,Y=R.currentTarget,R=R.listener,B!==x&&y.isPropagationStopped())break e;x=R,y.currentTarget=Y;try{x(y)}catch(ie){ef(ie)}y.currentTarget=null,x=B}}}}function Pe(r,a){var c=a[Ms];c===void 0&&(c=a[Ms]=new Set);var h=r+"__bubble";c.has(h)||(O_(a,r,2,!1),c.add(h))}function yp(r,a,c){var h=0;a&&(h|=4),O_(c,r,h,a)}var gf="_reactListening"+Math.random().toString(36).slice(2);function xp(r){if(!r[gf]){r[gf]=!0,gn.forEach(function(c){c!=="selectionchange"&&(f3.has(c)||yp(c,!1,r),yp(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[gf]||(a[gf]=!0,yp("selectionchange",!1,a))}}function O_(r,a,c,h){switch(r2(a)){case 2:var y=B3;break;case 8:y=F3;break;default:y=Dp}c=y.bind(null,a,c,r),y=void 0,!fi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(a,c,{capture:!0,passive:y}):r.addEventListener(a,c,!0):y!==void 0?r.addEventListener(a,c,{passive:y}):r.addEventListener(a,c,!1)}function vp(r,a,c,h,y){var x=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var R=h.stateNode.containerInfo;if(R===y)break;if(S===4)for(S=h.return;S!==null;){var B=S.tag;if((B===3||B===4)&&S.stateNode.containerInfo===y)return;S=S.return}for(;R!==null;){if(S=Oi(R),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){h=x=S;continue e}R=R.parentNode}}h=h.return}ph(function(){var Y=x,ie=hi(c),ae=[];e:{var Z=p1.get(r);if(Z!==void 0){var J=Jo,Se=r;switch(r){case"keypress":if(ts(c)===0)break e;case"keydown":case"keyup":J=rl;break;case"focusin":Se="focus",J=nl;break;case"focusout":Se="blur",J=nl;break;case"beforeblur":case"afterblur":J=nl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=$g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Sh;break;case h1:case f1:case m1:J=il;break;case g1:J=kh;break;case"scroll":case"scrollend":J=yh;break;case"wheel":J=al;break;case"copy":case"cut":case"paste":J=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=$c;break;case"toggle":case"beforetoggle":J=Nh}var we=(a&4)!==0,lt=!we&&(r==="scroll"||r==="scrollend"),q=we?Z!==null?Z+"Capture":null:Z;we=[];for(var H=Y,W;H!==null;){var re=H;if(W=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||W===null||q===null||(re=La(H,q),re!=null&&we.push(_u(H,re,W))),lt)break;H=H.return}0<we.length&&(Z=new J(Z,Se,null,c,ie),ae.push({event:Z,listeners:we}))}}if((a&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Z&&c!==Ps&&(Se=c.relatedTarget||c.fromElement)&&(Oi(Se)||Se[mn]))break e;if((J||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Se=c.relatedTarget||c.toElement,J=Y,Se=Se?Oi(Se):null,Se!==null&&(lt=o(Se),we=Se.tag,Se!==lt||we!==5&&we!==27&&we!==6)&&(Se=null)):(J=null,Se=Y),J!==Se)){if(we=mi,re="onMouseLeave",q="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(we=$c,re="onPointerLeave",q="onPointerEnter",H="pointer"),lt=J==null?Z:Ae(J),W=Se==null?Z:Ae(Se),Z=new we(re,H+"leave",J,c,ie),Z.target=lt,Z.relatedTarget=W,re=null,Oi(ie)===Y&&(we=new we(q,H+"enter",Se,c,ie),we.target=W,we.relatedTarget=lt,re=we),lt=re,J&&Se)t:{for(we=J,q=Se,H=0,W=we;W;W=Rl(W))H++;for(W=0,re=q;re;re=Rl(re))W++;for(;0<H-W;)we=Rl(we),H--;for(;0<W-H;)q=Rl(q),W--;for(;H--;){if(we===q||q!==null&&we===q.alternate)break t;we=Rl(we),q=Rl(q)}we=null}else we=null;J!==null&&P_(ae,Z,J,we,!1),Se!==null&&lt!==null&&P_(ae,lt,Se,we,!0)}}e:{if(Z=Y?Ae(Y):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var ge=t1;else if(Kt(Z))if(n1)ge=kj;else{ge=Sj;var Ie=Tj}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Y&&Lc(Y.elementType)&&(ge=t1):ge=Ej;if(ge&&(ge=ge(r,Y))){Fs(ae,ge,c,ie);break e}Ie&&Ie(r,Z,Y),r==="focusout"&&Y&&Z.type==="number"&&Y.memoizedProps.value!=null&&Ar(Z,"number",Z.value)}switch(Ie=Y?Ae(Y):window,r){case"focusin":(Kt(Ie)||Ie.contentEditable==="true")&&(ol=Ie,Xg=Y,Yc=null);break;case"focusout":Yc=Xg=ol=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,u1(ae,c,ie);break;case"selectionchange":if(Nj)break;case"keydown":case"keyup":u1(ae,c,ie)}var pe;if(ss)e:{switch(r){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Fe?ne(r,c)&&(_e="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(_e="onCompositionStart");_e&&(T&&c.locale!=="ko"&&(Fe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Fe&&(pe=Bc()):(es=ie,Nr="value"in es?es.value:es.textContent,Fe=!0)),Ie=pf(Y,_e),0<Ie.length&&(_e=new Hc(_e,r,null,c,ie),ae.push({event:_e,listeners:Ie}),pe?_e.data=pe:(pe=de(c),pe!==null&&(_e.data=pe)))),(pe=w?Yt(r,c):ze(r,c))&&(_e=pf(Y,"onBeforeInput"),0<_e.length&&(Ie=new Hc("onBeforeInput","beforeinput",null,c,ie),ae.push({event:Ie,listeners:_e}),Ie.data=pe)),u3(ae,r,Y,c,ie)}I_(ae,a)})}function _u(r,a,c){return{instance:r,listener:a,currentTarget:c}}function pf(r,a){for(var c=a+"Capture",h=[];r!==null;){var y=r,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=La(r,c),y!=null&&h.unshift(_u(r,y,x)),y=La(r,a),y!=null&&h.push(_u(r,y,x))),r.tag===3)return h;r=r.return}return[]}function Rl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function P_(r,a,c,h,y){for(var x=a._reactName,S=[];c!==null&&c!==h;){var R=c,B=R.alternate,Y=R.stateNode;if(R=R.tag,B!==null&&B===h)break;R!==5&&R!==26&&R!==27||Y===null||(B=Y,y?(Y=La(c,x),Y!=null&&S.unshift(_u(c,Y,B))):y||(Y=La(c,x),Y!=null&&S.push(_u(c,Y,B)))),c=c.return}S.length!==0&&r.push({event:a,listeners:S})}var m3=/\r\n?/g,g3=/\u0000|\uFFFD/g;function V_(r){return(typeof r=="string"?r:""+r).replace(m3,`
`).replace(g3,"")}function L_(r,a){return a=V_(a),V_(r)===a}function yf(){}function ot(r,a,c,h,y,x){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||di(r,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&di(r,""+h);break;case"className":Zi(r,"class",h);break;case"tabIndex":Zi(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(r,c,h);break;case"style":Vc(r,h,x);break;case"data":if(a!=="object"){Zi(r,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=Zo(""+h),r.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(a!=="input"&&ot(r,a,"name",y.name,y,null),ot(r,a,"formEncType",y.formEncType,y,null),ot(r,a,"formMethod",y.formMethod,y,null),ot(r,a,"formTarget",y.formTarget,y,null)):(ot(r,a,"encType",y.encType,y,null),ot(r,a,"method",y.method,y,null),ot(r,a,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=Zo(""+h),r.setAttribute(c,h);break;case"onClick":h!=null&&(r.onclick=yf);break;case"onScroll":h!=null&&Pe("scroll",r);break;case"onScrollEnd":h!=null&&Pe("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}c=Zo(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""+h):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":h===!0?r.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,h):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(c,h):r.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(c):r.setAttribute(c,h);break;case"popover":Pe("beforetoggle",r),Pe("toggle",r),kr(r,"popover",h);break;case"xlinkActuate":pn(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":pn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":pn(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":pn(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":pn(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":pn(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":pn(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":pn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":pn(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":kr(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Hg.get(c)||c,kr(r,c,h))}}function bp(r,a,c,h,y,x){switch(c){case"style":Vc(r,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof h=="string"?di(r,h):(typeof h=="number"||typeof h=="bigint")&&di(r,""+h);break;case"onScroll":h!=null&&Pe("scroll",r);break;case"onScrollEnd":h!=null&&Pe("scrollend",r);break;case"onClick":h!=null&&(r.onclick=yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nn.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),a=c.slice(2,y?c.length-7:void 0),x=r[xt]||null,x=x!=null?x[c]:null,typeof x=="function"&&r.removeEventListener(a,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,h,y);break e}c in r?r[c]=h:h===!0?r.setAttribute(c,""):kr(r,c,h)}}}function bn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",r),Pe("load",r);var h=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var S=c[x];if(S!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ot(r,a,x,S,c,null)}}y&&ot(r,a,"srcSet",c.srcSet,c,null),h&&ot(r,a,"src",c.src,c,null);return;case"input":Pe("invalid",r);var R=x=S=y=null,B=null,Y=null;for(h in c)if(c.hasOwnProperty(h)){var ie=c[h];if(ie!=null)switch(h){case"name":y=ie;break;case"type":S=ie;break;case"checked":B=ie;break;case"defaultChecked":Y=ie;break;case"value":x=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,a));break;default:ot(r,a,h,ie,c,null)}}Oa(r,x,R,B,Y,S,y,!1),Qo(r);return;case"select":Pe("invalid",r),h=S=x=null;for(y in c)if(c.hasOwnProperty(y)&&(R=c[y],R!=null))switch(y){case"value":x=R;break;case"defaultValue":S=R;break;case"multiple":h=R;default:ot(r,a,y,R,c,null)}a=x,c=S,r.multiple=!!h,a!=null?Os(r,!!h,a,!1):c!=null&&Os(r,!!h,c,!0);return;case"textarea":Pe("invalid",r),x=y=h=null;for(S in c)if(c.hasOwnProperty(S)&&(R=c[S],R!=null))switch(S){case"value":h=R;break;case"defaultValue":y=R;break;case"children":x=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ot(r,a,S,R,c,null)}Pa(r,h,y,x),Qo(r);return;case"option":for(B in c)if(c.hasOwnProperty(B)&&(h=c[B],h!=null))switch(B){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ot(r,a,B,h,c,null)}return;case"dialog":Pe("beforetoggle",r),Pe("toggle",r),Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":Pe("load",r);break;case"video":case"audio":for(h=0;h<wu.length;h++)Pe(wu[h],r);break;case"image":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"embed":case"source":case"link":Pe("error",r),Pe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in c)if(c.hasOwnProperty(Y)&&(h=c[Y],h!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ot(r,a,Y,h,c,null)}return;default:if(Lc(a)){for(ie in c)c.hasOwnProperty(ie)&&(h=c[ie],h!==void 0&&bp(r,a,ie,h,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(h=c[R],h!=null&&ot(r,a,R,h,c,null))}function p3(r,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,S=null,R=null,B=null,Y=null,ie=null;for(J in c){var ae=c[J];if(c.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":B=ae;default:h.hasOwnProperty(J)||ot(r,a,J,null,h,ae)}}for(var Z in h){var J=h[Z];if(ae=c[Z],h.hasOwnProperty(Z)&&(J!=null||ae!=null))switch(Z){case"type":x=J;break;case"name":y=J;break;case"checked":Y=J;break;case"defaultChecked":ie=J;break;case"value":S=J;break;case"defaultValue":R=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:J!==ae&&ot(r,a,Z,J,h,ae)}}Jn(r,S,R,B,Y,ie,x,y);return;case"select":J=S=R=Z=null;for(x in c)if(B=c[x],c.hasOwnProperty(x)&&B!=null)switch(x){case"value":break;case"multiple":J=B;default:h.hasOwnProperty(x)||ot(r,a,x,null,h,B)}for(y in h)if(x=h[y],B=c[y],h.hasOwnProperty(y)&&(x!=null||B!=null))switch(y){case"value":Z=x;break;case"defaultValue":R=x;break;case"multiple":S=x;default:x!==B&&ot(r,a,y,x,h,B)}a=R,c=S,h=J,Z!=null?Os(r,!!c,Z,!1):!!h!=!!c&&(a!=null?Os(r,!!c,a,!0):Os(r,!!c,c?[]:"",!1));return;case"textarea":J=Z=null;for(R in c)if(y=c[R],c.hasOwnProperty(R)&&y!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ot(r,a,R,null,h,y)}for(S in h)if(y=h[S],x=c[S],h.hasOwnProperty(S)&&(y!=null||x!=null))switch(S){case"value":Z=y;break;case"defaultValue":J=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==x&&ot(r,a,S,y,h,x)}rt(r,Z,J);return;case"option":for(var Se in c)if(Z=c[Se],c.hasOwnProperty(Se)&&Z!=null&&!h.hasOwnProperty(Se))switch(Se){case"selected":r.selected=!1;break;default:ot(r,a,Se,null,h,Z)}for(B in h)if(Z=h[B],J=c[B],h.hasOwnProperty(B)&&Z!==J&&(Z!=null||J!=null))switch(B){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ot(r,a,B,Z,h,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in c)Z=c[we],c.hasOwnProperty(we)&&Z!=null&&!h.hasOwnProperty(we)&&ot(r,a,we,null,h,Z);for(Y in h)if(Z=h[Y],J=c[Y],h.hasOwnProperty(Y)&&Z!==J&&(Z!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:ot(r,a,Y,Z,h,J)}return;default:if(Lc(a)){for(var lt in c)Z=c[lt],c.hasOwnProperty(lt)&&Z!==void 0&&!h.hasOwnProperty(lt)&&bp(r,a,lt,void 0,h,Z);for(ie in h)Z=h[ie],J=c[ie],!h.hasOwnProperty(ie)||Z===J||Z===void 0&&J===void 0||bp(r,a,ie,Z,h,J);return}}for(var q in c)Z=c[q],c.hasOwnProperty(q)&&Z!=null&&!h.hasOwnProperty(q)&&ot(r,a,q,null,h,Z);for(ae in h)Z=h[ae],J=c[ae],!h.hasOwnProperty(ae)||Z===J||Z==null&&J==null||ot(r,a,ae,Z,h,J)}var wp=null,_p=null;function xf(r){return r.nodeType===9?r:r.ownerDocument}function U_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Tp(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sp=null;function y3(){var r=window.event;return r&&r.type==="popstate"?r===Sp?!1:(Sp=r,!0):(Sp=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,x3=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,v3=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(r){return z_.resolve(null).then(r).catch(b3)}:F_;function b3(r){setTimeout(function(){throw r})}function qr(r){return r==="head"}function H_(r,a){var c=a,h=0,y=0;do{var x=c.nextSibling;if(r.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(0<h&&8>h){c=h;var S=r.ownerDocument;if(c&1&&Tu(S.documentElement),c&2&&Tu(S.body),c&4)for(c=S.head,Tu(c),S=c.firstChild;S;){var R=S.nextSibling,B=S.nodeName;S[Mi]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=R}}if(y===0){r.removeChild(x),Ru(a);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:h=c.charCodeAt(0)-48;else h=0;c=x}while(c);Ru(a)}function Ep(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ep(c),Ii(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function w3(r,a,c,h){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Mi])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Bi(r.nextSibling),r===null)break}return null}function _3(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Bi(r.nextSibling),r===null))return null;return r}function kp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function T3(r,a){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function Bi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Ap=null;function q_(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function $_(r,a,c){switch(a=xf(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Tu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ii(r)}var wi=new Map,G_=new Set;function vf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var er=$.d;$.d={f:S3,r:E3,D:k3,C:A3,L:N3,m:C3,X:R3,S:j3,M:D3};function S3(){var r=er.f(),a=uf();return r||a}function E3(r){var a=ui(r);a!==null&&a.tag===5&&a.type==="form"?hw(a):er.r(r)}var Dl=typeof document>"u"?null:document;function W_(r,a,c){var h=Dl;if(h&&typeof a=="string"&&a){var y=Ft(a);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),G_.has(y)||(G_.add(y),r={rel:r,crossOrigin:c,href:a},h.querySelector(y)===null&&(a=h.createElement("link"),bn(a,"link",r),Re(a),h.head.appendChild(a)))}}function k3(r){er.D(r),W_("dns-prefetch",r,null)}function A3(r,a){er.C(r,a),W_("preconnect",r,a)}function N3(r,a,c){er.L(r,a,c);var h=Dl;if(h&&r&&a){var y='link[rel="preload"][as="'+Ft(a)+'"]';a==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Ft(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Ft(c.imageSizes)+'"]')):y+='[href="'+Ft(r)+'"]';var x=y;switch(a){case"style":x=Ml(r);break;case"script":x=Il(r)}wi.has(x)||(r=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),wi.set(x,r),h.querySelector(y)!==null||a==="style"&&h.querySelector(Su(x))||a==="script"&&h.querySelector(Eu(x))||(a=h.createElement("link"),bn(a,"link",r),Re(a),h.head.appendChild(a)))}}function C3(r,a){er.m(r,a);var c=Dl;if(c&&r){var h=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Ft(h)+'"][href="'+Ft(r)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Il(r)}if(!wi.has(x)&&(r=p({rel:"modulepreload",href:r},a),wi.set(x,r),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Eu(x)))return}h=c.createElement("link"),bn(h,"link",r),Re(h),c.head.appendChild(h)}}}function j3(r,a,c){er.S(r,a,c);var h=Dl;if(h&&r){var y=Me(h).hoistableStyles,x=Ml(r);a=a||"default";var S=y.get(x);if(!S){var R={loading:0,preload:null};if(S=h.querySelector(Su(x)))R.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":a},c),(c=wi.get(x))&&Np(r,c);var B=S=h.createElement("link");Re(B),bn(B,"link",r),B._p=new Promise(function(Y,ie){B.onload=Y,B.onerror=ie}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,bf(S,a,h)}S={type:"stylesheet",instance:S,count:1,state:R},y.set(x,S)}}}function R3(r,a){er.X(r,a);var c=Dl;if(c&&r){var h=Me(c).hoistableScripts,y=Il(r),x=h.get(y);x||(x=c.querySelector(Eu(y)),x||(r=p({src:r,async:!0},a),(a=wi.get(y))&&Cp(r,a),x=c.createElement("script"),Re(x),bn(x,"link",r),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function D3(r,a){er.M(r,a);var c=Dl;if(c&&r){var h=Me(c).hoistableScripts,y=Il(r),x=h.get(y);x||(x=c.querySelector(Eu(y)),x||(r=p({src:r,async:!0,type:"module"},a),(a=wi.get(y))&&Cp(r,a),x=c.createElement("script"),Re(x),bn(x,"link",r),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function Y_(r,a,c,h){var y=(y=Be.current)?vf(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Ml(c.href),c=Me(y).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=Ml(c.href);var x=Me(y).hoistableStyles,S=x.get(r);if(S||(y=y.ownerDocument||y,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,S),(x=y.querySelector(Su(r)))&&!x._p&&(S.instance=x,S.state.loading=5),wi.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},wi.set(r,c),x||M3(y,r,c,S.state))),a&&h===null)throw Error(i(528,""));return S}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Il(c),c=Me(y).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ml(r){return'href="'+Ft(r)+'"'}function Su(r){return'link[rel="stylesheet"]['+r+"]"}function K_(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function M3(r,a,c,h){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=r.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),bn(a,"link",c),Re(a),r.head.appendChild(a))}function Il(r){return'[src="'+Ft(r)+'"]'}function Eu(r){return"script[async]"+r}function X_(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=r.querySelector('style[data-href~="'+Ft(c.href)+'"]');if(h)return a.instance=h,Re(h),h;var y=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Re(h),bn(h,"style",y),bf(h,c.precedence,r),a.instance=h;case"stylesheet":y=Ml(c.href);var x=r.querySelector(Su(y));if(x)return a.state.loading|=4,a.instance=x,Re(x),x;h=K_(c),(y=wi.get(y))&&Np(h,y),x=(r.ownerDocument||r).createElement("link"),Re(x);var S=x;return S._p=new Promise(function(R,B){S.onload=R,S.onerror=B}),bn(x,"link",h),a.state.loading|=4,bf(x,c.precedence,r),a.instance=x;case"script":return x=Il(c.src),(y=r.querySelector(Eu(x)))?(a.instance=y,Re(y),y):(h=c,(y=wi.get(x))&&(h=p({},c),Cp(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),Re(y),bn(y,"link",h),r.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,bf(h,c.precedence,r));return a.instance}function bf(r,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,S=0;S<h.length;S++){var R=h[S];if(R.dataset.precedence===a)x=R;else if(x!==y)break}x?x.parentNode.insertBefore(r,x.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function Np(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Cp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var wf=null;function Q_(r,a,c){if(wf===null){var h=new Map,y=wf=new Map;y.set(c,h)}else y=wf,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(r))return h;for(h.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var x=c[y];if(!(x[Mi]||x[jt]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var S=x.getAttribute(a)||"";S=r+S;var R=h.get(S);R?R.push(x):h.set(S,[x])}}return h}function Z_(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function I3(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function J_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ku=null;function O3(){}function P3(r,a,c){if(ku===null)throw Error(i(475));var h=ku;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=Ml(c.href),x=r.querySelector(Su(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=_f.bind(h),r.then(h,h)),a.state.loading|=4,a.instance=x,Re(x);return}x=r.ownerDocument||r,c=K_(c),(y=wi.get(y))&&Np(c,y),x=x.createElement("link"),Re(x);var S=x;S._p=new Promise(function(R,B){S.onload=R,S.onerror=B}),bn(x,"link",c),a.instance=x}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=_f.bind(h),r.addEventListener("load",a),r.addEventListener("error",a))}}function V3(){if(ku===null)throw Error(i(475));var r=ku;return r.stylesheets&&r.count===0&&jp(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&jp(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function _f(){if(this.count--,this.count===0){if(this.stylesheets)jp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Tf=null;function jp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Tf=new Map,a.forEach(L3,r),Tf=null,_f.call(r))}function L3(r,a){if(!(a.state.loading&4)){var c=Tf.get(r);if(c)var h=c.get(null);else{c=new Map,Tf.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var S=y[x];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),h=S)}h&&c.set(null,h)}y=a.instance,S=y.getAttribute("data-precedence"),x=c.get(S)||h,x===h&&c.set(null,y),c.set(S,y),this.count++,h=_f.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),a.state.loading|=4}}var Au={$$typeof:z,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function U3(r,a,c,h,y,x,S,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function e2(r,a,c,h,y,x,S,R,B,Y,ie,ae){return r=new U3(r,a,c,S,R,B,Y,ae),a=1,x===!0&&(a|=24),x=ti(3,null,null,a),r.current=x,x.stateNode=r,a=d0(),a.refCount++,r.pooledCache=a,a.refCount++,x.memoizedState={element:h,isDehydrated:c,cache:a},g0(x),r}function t2(r){return r?(r=dl,r):dl}function n2(r,a,c,h,y,x){y=t2(y),h.context===null?h.context=y:h.pendingContext=y,h=Rr(a),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=Dr(r,h,a),c!==null&&(ai(c,r,a),iu(c,r,a))}function i2(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function Rp(r,a){i2(r,a),(r=r.alternate)&&i2(r,a)}function s2(r){if(r.tag===13){var a=ul(r,67108864);a!==null&&ai(a,r,67108864),Rp(r,67108864)}}var Sf=!0;function B3(r,a,c,h){var y=F.T;F.T=null;var x=$.p;try{$.p=2,Dp(r,a,c,h)}finally{$.p=x,F.T=y}}function F3(r,a,c,h){var y=F.T;F.T=null;var x=$.p;try{$.p=8,Dp(r,a,c,h)}finally{$.p=x,F.T=y}}function Dp(r,a,c,h){if(Sf){var y=Mp(h);if(y===null)vp(r,a,h,Ef,c),a2(r,h);else if(H3(y,r,a,c,h))h.stopPropagation();else if(a2(r,h),a&4&&-1<z3.indexOf(r)){for(;y!==null;){var x=ui(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var S=Zn(x.pendingLanes);if(S!==0){var R=x;for(R.pendingLanes|=2,R.entangledLanes|=2;S;){var B=1<<31-Ut(S);R.entanglements[1]|=B,S&=~B}us(x),(nt&6)===0&&(lf=hn()+500,bu(0))}}break;case 13:R=ul(x,2),R!==null&&ai(R,x,2),uf(),Rp(x,2)}if(x=Mp(h),x===null&&vp(r,a,h,Ef,c),x===y)break;y=x}y!==null&&h.stopPropagation()}else vp(r,a,h,null,c)}}function Mp(r){return r=hi(r),Ip(r)}var Ef=null;function Ip(r){if(Ef=null,r=Oi(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=l(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Ef=r,null}function r2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ho()){case _r:return 2;case Tr:return 8;case Ns:case Mc:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var Op=!1,$r=null,Gr=null,Wr=null,Nu=new Map,Cu=new Map,Yr=[],z3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a2(r,a){switch(r){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Nu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(a.pointerId)}}function ju(r,a,c,h,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},a!==null&&(a=ui(a),a!==null&&s2(a)),r):(r.eventSystemFlags|=h,a=r.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),r)}function H3(r,a,c,h,y){switch(a){case"focusin":return $r=ju($r,r,a,c,h,y),!0;case"dragenter":return Gr=ju(Gr,r,a,c,h,y),!0;case"mouseover":return Wr=ju(Wr,r,a,c,h,y),!0;case"pointerover":var x=y.pointerId;return Nu.set(x,ju(Nu.get(x)||null,r,a,c,h,y)),!0;case"gotpointercapture":return x=y.pointerId,Cu.set(x,ju(Cu.get(x)||null,r,a,c,h,y)),!0}return!1}function o2(r){var a=Oi(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){r.blockedOn=a,Er(r.priority,function(){if(c.tag===13){var h=ri();h=We(h);var y=ul(c,h);y!==null&&ai(y,c,h),Rp(c,h)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Mp(r.nativeEvent);if(c===null){c=r.nativeEvent;var h=new c.constructor(c.type,c);Ps=h,c.target.dispatchEvent(h),Ps=null}else return a=ui(c),a!==null&&s2(a),r.blockedOn=c,!1;a.shift()}return!0}function l2(r,a,c){kf(r)&&c.delete(a)}function q3(){Op=!1,$r!==null&&kf($r)&&($r=null),Gr!==null&&kf(Gr)&&(Gr=null),Wr!==null&&kf(Wr)&&(Wr=null),Nu.forEach(l2),Cu.forEach(l2)}function Af(r,a){r.blockedOn===a&&(r.blockedOn=null,Op||(Op=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,q3)))}var Nf=null;function c2(r){Nf!==r&&(Nf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nf===r&&(Nf=null);for(var a=0;a<r.length;a+=3){var c=r[a],h=r[a+1],y=r[a+2];if(typeof h!="function"){if(Ip(h||c)===null)continue;break}var x=ui(c);x!==null&&(r.splice(a,3),a-=3,I0(x,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function Ru(r){function a(B){return Af(B,r)}$r!==null&&Af($r,r),Gr!==null&&Af(Gr,r),Wr!==null&&Af(Wr,r),Nu.forEach(a),Cu.forEach(a);for(var c=0;c<Yr.length;c++){var h=Yr[c];h.blockedOn===r&&(h.blockedOn=null)}for(;0<Yr.length&&(c=Yr[0],c.blockedOn===null);)o2(c),c.blockedOn===null&&Yr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],x=c[h+1],S=y[xt]||null;if(typeof x=="function")S||c2(c);else if(S){var R=null;if(x&&x.hasAttribute("formAction")){if(y=x,S=x[xt]||null)R=S.formAction;else if(Ip(y)!==null)continue}else R=S.action;typeof R=="function"?c[h+1]=R:(c.splice(h,3),h-=3),c2(c)}}}function Pp(r){this._internalRoot=r}Cf.prototype.render=Pp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=ri();n2(c,h,r,a,null,null)},Cf.prototype.unmount=Pp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;n2(r.current,2,null,r,null,null),uf(),a[mn]=null}};function Cf(r){this._internalRoot=r}Cf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Qi();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Yr.length&&a!==0&&a<Yr[c].priority;c++);Yr.splice(c,0,r),c===0&&o2(r)}};var u2=e.version;if(u2!=="19.1.1")throw Error(i(527,u2,"19.1.1"));$.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var $3={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{yt=jf.inject($3),Xe=jf}catch{}}return Mu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,h="",y=kw,x=Aw,S=Nw,R=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=e2(r,1,!1,null,null,c,h,y,x,S,R,null),r[mn]=a.current,xp(r),new Pp(a)},Mu.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var h=!1,y="",x=kw,S=Aw,R=Nw,B=null,Y=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(B=c.unstable_transitionCallbacks),c.formState!==void 0&&(Y=c.formState)),a=e2(r,1,!0,a,c??null,h,y,x,S,R,B,Y),a.context=t2(null),c=a.current,h=ri(),h=We(h),y=Rr(h),y.callback=null,Dr(c,y,h),c=h,a.current.lanes=c,li(a,c),us(a),r[mn]=a.current,xp(r),new Cf(a)},Mu.version="19.1.1",Mu}var p2;function eR(){if(p2)return Lp.exports;p2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lp.exports=J3(),Lp.exports}var tR=eR();const nR=Hk(tR),iR=()=>{};var y2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},sR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],u=t[n++],f=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Gk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,u=l?t[s+1]:0,f=s+2<t.length,m=f?t[s+2]:0,p=o>>2,v=(o&3)<<4|u>>4;let b=(u&15)<<2|m>>6,_=m&63;f||(_=64,l||(b=64)),i.push(n[p],n[v],n[b],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($k(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||m==null||v==null)throw new rR;const b=o<<2|u>>4;if(i.push(b),m!==64){const _=u<<4&240|m>>2;if(i.push(_),v!==64){const A=m<<6&192|v;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aR=function(t){const e=$k(t);return Gk.encodeByteArray(e,!0)},Sm=function(t){return aR(t).replace(/\./g,"")},Wk=function(t){try{return Gk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=()=>oR().__FIREBASE_DEFAULTS__,cR=()=>{if(typeof process>"u"||typeof y2>"u")return;const t=y2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wk(t[1]);return e&&JSON.parse(e)},ag=()=>{try{return iR()||lR()||cR()||uR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yk=t=>ag()?.emulatorHosts?.[t],dR=t=>{const e=Yk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Kk=()=>ag()?.config,Xk=t=>ag()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sm(JSON.stringify(n)),Sm(JSON.stringify(l)),""].join(".")}const Qu={};function mR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qu))Qu[e]?t.emulator.push(e):t.prod.push(e);return t}function gR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let x2=!1;function Zk(t,e){if(typeof window>"u"||typeof document>"u"||!pc(window.location.host)||Qu[t]===e||Qu[t]||x2)return;Qu[t]=e;function n(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=mR().prod.length>0;function l(){const b=document.getElementById(i);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{x2=!0,l()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=gR(i),_=n("text"),A=document.getElementById(_)||document.createElement("span"),C=n("learnmore"),j=document.getElementById(C)||document.createElement("a"),P=n("preprendIcon"),U=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const z=b.element;u(z),p(j,C);const K=m();f(U,P),z.append(U,A,j,K),document.body.appendChild(z)}o?(A.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function yR(){const t=ag()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _R(){return!yR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TR(){try{return typeof indexedDB=="object"}catch{return!1}}function SR(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="FirebaseError";class br extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ER,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hd.prototype.create)}}class Hd{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?kR(o,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new br(s,u,i)}}function kR(t,e){return t.replace(AR,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const AR=/\{\$([^}]+)}/g;function NR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(v2(o)&&v2(l)){if(!jo(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function v2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function CR(t,e){const n=new jR(t,e);return n.subscribe.bind(n)}class jR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");RR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Fp),s.error===void 0&&(s.error=Fp),s.complete===void 0&&(s.complete=Fp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new hR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IR(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MR(t){return t===fo?void 0:t}function IR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const PR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},VR=Ve.INFO,LR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},UR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=LR[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=VR,this._logHandler=UR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const BR=(t,e)=>e.some(n=>t instanceof n);let b2,w2;function FR(){return b2||(b2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zR(){return w2||(w2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jk=new WeakMap,By=new WeakMap,e5=new WeakMap,zp=new WeakMap,sv=new WeakMap;function HR(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ra(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Jk.set(n,t)}).catch(()=>{}),sv.set(e,t),e}function qR(t){if(By.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});By.set(t,e)}let Fy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return By.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $R(t){Fy=t(Fy)}function GR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Hp(this),e,...n);return e5.set(i,e.sort?e.sort():[e]),ra(i)}:zR().includes(t)?function(...e){return t.apply(Hp(this),e),ra(Jk.get(this))}:function(...e){return ra(t.apply(Hp(this),e))}}function WR(t){return typeof t=="function"?GR(t):(t instanceof IDBTransaction&&qR(t),BR(t,FR())?new Proxy(t,Fy):t)}function ra(t){if(t instanceof IDBRequest)return HR(t);if(zp.has(t))return zp.get(t);const e=WR(t);return e!==t&&(zp.set(t,e),sv.set(e,t)),e}const Hp=t=>sv.get(t);function YR(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),u=ra(l);return i&&l.addEventListener("upgradeneeded",f=>{i(ra(l.result),f.oldVersion,f.newVersion,ra(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const KR=["get","getKey","getAll","getAllKeys","count"],XR=["put","add","delete","clear"],qp=new Map;function _2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qp.get(e))return qp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=XR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||KR.includes(n)))return;const o=async function(l,...u){const f=this.transaction(l,s?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),s&&f.done]))[0]};return qp.set(e,o),o}$R(t=>({...t,get:(e,n,i)=>_2(e,n)||t.get(e,n,i),has:(e,n)=>!!_2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ZR(t){return t.getComponent()?.type==="VERSION"}const zy="@firebase/app",T2="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new iv("@firebase/app"),JR="@firebase/app-compat",eD="@firebase/analytics-compat",tD="@firebase/analytics",nD="@firebase/app-check-compat",iD="@firebase/app-check",sD="@firebase/auth",rD="@firebase/auth-compat",aD="@firebase/database",oD="@firebase/data-connect",lD="@firebase/database-compat",cD="@firebase/functions",uD="@firebase/functions-compat",dD="@firebase/installations",hD="@firebase/installations-compat",fD="@firebase/messaging",mD="@firebase/messaging-compat",gD="@firebase/performance",pD="@firebase/performance-compat",yD="@firebase/remote-config",xD="@firebase/remote-config-compat",vD="@firebase/storage",bD="@firebase/storage-compat",wD="@firebase/firestore",_D="@firebase/ai",TD="@firebase/firestore-compat",SD="firebase",ED="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="[DEFAULT]",kD={[zy]:"fire-core",[JR]:"fire-core-compat",[tD]:"fire-analytics",[eD]:"fire-analytics-compat",[iD]:"fire-app-check",[nD]:"fire-app-check-compat",[sD]:"fire-auth",[rD]:"fire-auth-compat",[aD]:"fire-rtdb",[oD]:"fire-data-connect",[lD]:"fire-rtdb-compat",[cD]:"fire-fn",[uD]:"fire-fn-compat",[dD]:"fire-iid",[hD]:"fire-iid-compat",[fD]:"fire-fcm",[mD]:"fire-fcm-compat",[gD]:"fire-perf",[pD]:"fire-perf-compat",[yD]:"fire-rc",[xD]:"fire-rc-compat",[vD]:"fire-gcs",[bD]:"fire-gcs-compat",[wD]:"fire-fst",[TD]:"fire-fst-compat",[_D]:"fire-vertex","fire-js":"fire-js",[SD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=new Map,AD=new Map,qy=new Map;function S2(t,e){try{t.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nc(t){const e=t.name;if(qy.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;qy.set(e,t);for(const n of Em.values())S2(n,t);for(const n of AD.values())S2(n,t);return!0}function rv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Hd("app","Firebase",ND);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=ED;function t5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Hy,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw aa.create("bad-app-name",{appName:String(s)});if(n||(n=Kk()),!n)throw aa.create("no-options");const o=Em.get(s);if(o){if(jo(n,o.options)&&jo(i,o.config))return o;throw aa.create("duplicate-app",{appName:s})}const l=new OR(s);for(const f of qy.values())l.addComponent(f);const u=new CD(n,i,l);return Em.set(s,u),u}function n5(t=Hy){const e=Em.get(t);if(!e&&t===Hy&&Kk())return t5();if(!e)throw aa.create("no-app",{appName:t});return e}function oa(t,e,n){let i=kD[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(l.join(" "));return}nc(new Ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="firebase-heartbeat-database",RD=1,gd="firebase-heartbeat-store";let $p=null;function i5(){return $p||($p=YR(jD,RD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw aa.create("idb-open",{originalErrorMessage:t.message})})),$p}async function DD(t){try{const n=(await i5()).transaction(gd),i=await n.objectStore(gd).get(s5(t));return await n.done,i}catch(e){if(e instanceof br)hr.warn(e.message);else{const n=aa.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function E2(t,e){try{const i=(await i5()).transaction(gd,"readwrite");await i.objectStore(gd).put(e,s5(t)),await i.done}catch(n){if(n instanceof br)hr.warn(n.message);else{const i=aa.create("idb-set",{originalErrorMessage:n?.message});hr.warn(i.message)}}}function s5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1024,ID=30;class OD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=k2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>ID){const s=LD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=k2(),{heartbeatsToSend:n,unsentEntries:i}=PD(this._heartbeatsCache.heartbeats),s=Sm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return hr.warn(e),""}}}function k2(){return new Date().toISOString().substring(0,10)}function PD(t,e=MD){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),A2(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),A2(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class VD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TR()?SR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return E2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return E2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function A2(t){return Sm(JSON.stringify({version:2,heartbeats:t})).length}function LD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){nc(new Ro("platform-logger",e=>new QR(e),"PRIVATE")),nc(new Ro("heartbeat",e=>new OD(e),"PRIVATE")),oa(zy,T2,t),oa(zy,T2,"esm2020"),oa("fire-js","")}UD("");var BD="firebase",FD="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(BD,FD,"app");function r5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zD=r5,a5=new Hd("auth","Firebase",r5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new iv("@firebase/auth");function HD(t,...e){km.logLevel<=Ve.WARN&&km.warn(`Auth (${yc}): ${t}`,...e)}function rm(t,...e){km.logLevel<=Ve.ERROR&&km.error(`Auth (${yc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,...e){throw ov(t,...e)}function Wi(t,...e){return ov(t,...e)}function av(t,e,n){const i={...zD(),[e]:n};return new Hd("auth","Firebase",i).create(e,{appName:t.name})}function _o(t){return av(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qD(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Es(t,"argument-error"),av(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ov(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return a5.create(t,...e)}function Ne(t,e,...n){if(!t)throw ov(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rm(e),new Error(e)}function fr(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(){return typeof self<"u"&&self.location?.href||""}function $D(){return N2()==="http:"||N2()==="https:"}function N2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($D()||vR()||"connection"in navigator)?navigator.onLine:!0}function WD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=pR()||bR()}get(){return GD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e){fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XD=new $d(3e4,6e4);function cv(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function xc(t,e,n,i,s={}){return l5(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const u=qd({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:f,...o};return xR()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&pc(t.emulatorConfig.host)&&(m.credentials="include"),o5.fetch()(await c5(t,t.config.apiHost,n,u),m)})}async function l5(t,e,n){t._canInitEmulator=!1;const i={...YD,...e};try{const s=new ZD(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Rf(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,m]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rf(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Rf(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Rf(t,"user-disabled",l);const p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw av(t,p,m);Es(t,p)}}catch(s){if(s instanceof br)throw s;Es(t,"network-request-failed",{message:String(s)})}}async function QD(t,e,n,i,s={}){const o=await xc(t,e,n,i,s);return"mfaPendingCredential"in o&&Es(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function c5(t,e,n,i){const s=`${e}${n}?${i}`,o=t,l=o.config.emulator?lv(t.config,s):`${t.config.apiScheme}://${s}`;return KD.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class ZD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Wi(this.auth,"network-request-failed")),XD.get())})}}function Rf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Wi(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e){return xc(t,"POST","/v1/accounts:delete",e)}async function Am(t,e){return xc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e6(t,e=!1){const n=Ci(t),i=await n.getIdToken(e),s=uv(i);Ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:i,authTime:Zu(Gp(s.auth_time)),issuedAtTime:Zu(Gp(s.iat)),expirationTime:Zu(Gp(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Gp(t){return Number(t)*1e3}function uv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return rm("JWT malformed, contained fewer than 3 sections"),null;try{const s=Wk(n);return s?JSON.parse(s):(rm("Failed to decode base64 JWT payload"),null)}catch(s){return rm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function C2(t){const e=uv(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof br&&t6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function t6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm(t){const e=t.auth,n=await t.getIdToken(),i=await pd(t,Am(e,{idToken:n}));Ne(i?.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?u5(s.providerUserInfo):[],l=s6(t.providerData,o),u=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!l?.length,m=u?f:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Gy(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function i6(t){const e=Ci(t);await Nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s6(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function u5(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e){const n=await l5(t,{},async()=>{const i=qd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=await c5(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return t.emulatorConfig&&pc(t.emulatorConfig.host)&&(f.credentials="include"),o5.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a6(t,e){return xc(t,"POST","/v2/accounts:revokeToken",cv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=C2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await r6(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new Kl;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Ne(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ne(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hi{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new n6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await pd(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e6(this,e)}reload(){return i6(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Nm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject(_o(this.auth));const e=await this.getIdToken();return await pd(this,JD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,m=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:_,providerData:A,stsTokenManager:C}=n;Ne(v&&C,e,"internal-error");const j=Kl.fromJSON(this.name,C);Ne(typeof v=="string",e,"internal-error"),Xr(i,e.name),Xr(s,e.name),Ne(typeof b=="boolean",e,"internal-error"),Ne(typeof _=="boolean",e,"internal-error"),Xr(o,e.name),Xr(l,e.name),Xr(u,e.name),Xr(f,e.name),Xr(m,e.name),Xr(p,e.name);const P=new Hi({uid:v,auth:e,email:s,emailVerified:b,displayName:i,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:j,createdAt:m,lastLoginAt:p});return A&&Array.isArray(A)&&(P.providerData=A.map(U=>({...U}))),f&&(P._redirectEventId=f),P}static async _fromIdTokenResponse(e,n,i=!1){const s=new Kl;s.updateFromServerResponse(n);const o=new Hi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Nm(o),o}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Ne(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?u5(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,u=new Kl;u.updateFromIdToken(i);const f=new Hi({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Gy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Map;function cr(t){fr(t instanceof Function,"Expected a class definition");let e=j2.get(t);return e?(fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}d5.type="NONE";const R2=d5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t,e,n){return`firebase:${t}:${e}:${n}`}class Xl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=am(this.userKey,s.apiKey,o),this.fullPersistenceKey=am("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Am(this.auth,{idToken:e}).catch(()=>{});return n?Hi._fromGetAccountInfoResponse(this.auth,n,e):null}return Hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Xl(cr(R2),e,i);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||cr(R2);const l=am(i,e.config.apiKey,e.name);let u=null;for(const m of n)try{const p=await m._get(l);if(p){let v;if(typeof p=="string"){const b=await Am(e,{idToken:p}).catch(()=>{});if(!b)break;v=await Hi._fromGetAccountInfoResponse(e,b,p)}else v=Hi._fromJSON(e,p);m!==o&&(u=v),o=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Xl(o,e,i):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(l)}catch{}})),new Xl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y5(e))return"Blackberry";if(x5(e))return"Webos";if(f5(e))return"Safari";if((e.includes("chrome/")||m5(e))&&!e.includes("edge/"))return"Chrome";if(p5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function h5(t=Pn()){return/firefox\//i.test(t)}function f5(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m5(t=Pn()){return/crios\//i.test(t)}function g5(t=Pn()){return/iemobile/i.test(t)}function p5(t=Pn()){return/android/i.test(t)}function y5(t=Pn()){return/blackberry/i.test(t)}function x5(t=Pn()){return/webos/i.test(t)}function dv(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o6(t=Pn()){return dv(t)&&!!window.navigator?.standalone}function l6(){return wR()&&document.documentMode===10}function v5(t=Pn()){return dv(t)||p5(t)||x5(t)||y5(t)||/windows phone/i.test(t)||g5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t,e=[]){let n;switch(t){case"Browser":n=D2(Pn());break;case"Worker":n=`${D2(Pn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,u)=>{try{const f=e(o);l(f)}catch(f){u(f)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(t,e={}){return xc(t,"GET","/v2/passwordPolicy",cv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=6;class h6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??d6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M2(this),this.idTokenSubscription=new M2(this),this.beforeStateQueue=new c6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Am(this,{idToken:e}),i=await Hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zi(this.app))return Promise.reject(_o(this));const n=e?Ci(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject(_o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zi(this.app)?Promise.reject(_o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u6(this),n=new h6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hd("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await a6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Xl.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function og(t){return Ci(t)}class M2{constructor(e){this.auth=e,this.observer=null,this.addObserver=CR(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m6(t){hv=t}function g6(t){return hv.loadJS(t)}function p6(){return hv.gapiScript}function y6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t,e){const n=rv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(jo(o,e??{}))return s;Es(s,"already-initialized")}return n.initialize({options:e})}function v6(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function b6(t,e,n){const i=og(t);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=w5(e),{host:l,port:u}=w6(e),f=u===null?"":`:${u}`,m={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(jo(m,i.config.emulator)&&jo(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,pc(l)?(Qk(`${o}//${l}${f}`),Zk("Auth",!0)):_6()}function w5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w6(t){const e=w5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:I2(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:I2(l)}}}function I2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e){return QD(t,"POST","/v1/accounts:signInWithIdp",cv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="http://localhost";class Do extends _5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Do(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=n;if(!i||!s)return null;const l=new Do(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ql(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ql(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ql(e,n)}buildRequest(){const e={requestUri:T6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Gd{constructor(){super("facebook.com")}static credential(e){return Do._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Do._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ar.credential(n,i)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Gd{constructor(){super("github.com")}static credential(e){return Do._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Gd{constructor(){super("twitter.com")}static credential(e,n){return Do._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ea.credential(n,i)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await Hi._fromIdTokenResponse(e,i,s),l=O2(i);return new ic({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=O2(i);return new ic({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function O2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends br{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Cm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Cm(e,n,i,s)}}function T5(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cm._fromErrorAndOperation(t,o,e,i):o})}async function S6(t,e,n=!1){const i=await pd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ic._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(t,e,n=!1){const{auth:i}=t;if(zi(i.app))return Promise.reject(_o(i));const s="reauthenticate";try{const o=await pd(t,T5(i,s,e,t),n);Ne(o.idToken,i,"internal-error");const l=uv(o.idToken);Ne(l,i,"internal-error");const{sub:u}=l;return Ne(t.uid===u,i,"user-mismatch"),ic._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Es(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e,n=!1){if(zi(t.app))return Promise.reject(_o(t));const i="signIn",s=await T5(t,i,e),o=await ic._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}function A6(t,e,n,i){return Ci(t).onIdTokenChanged(e,n,i)}function N6(t,e,n){return Ci(t).beforeAuthStateChanged(e,n)}function C6(t,e,n,i){return Ci(t).onAuthStateChanged(e,n,i)}function j6(t){return Ci(t).signOut()}const jm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jm,"1"),this.storage.removeItem(jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=1e3,D6=10;class E5 extends S5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);l6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,D6):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},R6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}E5.type="LOCAL";const M6=E5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5 extends S5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}k5.type="SESSION";const A5=k5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new lg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async m=>m(n.origin,o)),f=await I6(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const m=mv("",20);s.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function P6(t){ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function V6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L6(){return navigator?.serviceWorker?.controller||null}function U6(){return N5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="firebaseLocalStorageDb",B6=1,Rm="firebaseLocalStorage",j5="fbase_key";class Wd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cg(t,e){return t.transaction([Rm],e?"readwrite":"readonly").objectStore(Rm)}function F6(){const t=indexedDB.deleteDatabase(C5);return new Wd(t).toPromise()}function Wy(){const t=indexedDB.open(C5,B6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Rm,{keyPath:j5})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Rm)?e(i):(i.close(),await F6(),e(await Wy()))})})}async function P2(t,e,n){const i=cg(t,!0).put({[j5]:e,value:n});return new Wd(i).toPromise()}async function z6(t,e){const n=cg(t,!1).get(e),i=await new Wd(n).toPromise();return i===void 0?null:i.value}function V2(t,e){const n=cg(t,!0).delete(e);return new Wd(n).toPromise()}const H6=800,q6=3;class R5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>q6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lg._getInstance(U6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await V6(),!this.activeServiceWorker)return;this.sender=new O6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wy();return await P2(e,jm,"1"),await V2(e,jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>P2(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>z6(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=cg(s,!1).getAll();return new Wd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R5.type="LOCAL";const $6=R5;new $d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t,e){return e?cr(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends _5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G6(t){return k6(t.auth,new gv(t),t.bypassAuthState)}function W6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),E6(n,new gv(t),t.bypassAuthState)}async function Y6(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),S6(n,new gv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G6;case"linkViaPopup":case"linkViaRedirect":return Y6;case"reauthViaPopup":case"reauthViaRedirect":return W6;default:Es(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new $d(2e3,1e4);async function X6(t,e,n){if(zi(t.app))return Promise.reject(Wi(t,"operation-not-supported-in-this-environment"));const i=og(t);qD(t,e,fv);const s=D5(i,n);return new po(i,"signInViaPopup",e,s).executeNotNull()}class po extends M5{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K6.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="pendingRedirect",om=new Map;class Z6 extends M5{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=om.get(this.auth._key());if(!e){try{const i=await J6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}om.set(this.auth._key(),e)}return this.bypassAuthState||om.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J6(t,e){const n=nM(e),i=tM(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function eM(t,e){om.set(t._key(),e)}function tM(t){return cr(t._redirectPersistence)}function nM(t){return am(Q6,t.config.apiKey,t.name)}async function iM(t,e,n=!1){if(zi(t.app))return Promise.reject(_o(t));const i=og(t),s=D5(i,e),l=await new Z6(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=600*1e3;class rM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!I5(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sM&&this.cachedEventUids.clear(),this.cachedEventUids.has(L2(e))}saveEventToCache(e){this.cachedEventUids.add(L2(e)),this.lastProcessedEventTime=Date.now()}}function L2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function I5({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e={}){return xc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cM=/^https?/;async function uM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oM(t);for(const n of e)try{if(dM(n))return}catch{}Es(t,"unauthorized-domain")}function dM(t){const e=$y(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!cM.test(n))return!1;if(lM.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new $d(3e4,6e4);function U2(){const t=ys().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fM(t){return new Promise((e,n)=>{function i(){U2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U2(),n(Wi(t,"network-request-failed"))},timeout:hM.get()})}if(ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ys().gapi?.load)i();else{const s=y6("iframefcb");return ys()[s]=()=>{gapi.load?i():n(Wi(t,"network-request-failed"))},g6(`${p6()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw lm=null,e})}let lm=null;function mM(t){return lm=lm||fM(t),lm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new $d(5e3,15e3),pM="__/auth/iframe",yM="emulator/auth/iframe",xM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bM(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lv(e,yM):`https://${t.config.authDomain}/${pM}`,i={apiKey:e.apiKey,appName:t.name,v:yc},s=vM.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${qd(i).slice(1)}`}async function wM(t){const e=await mM(t),n=ys().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:bM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xM,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Wi(t,"network-request-failed"),u=ys().setTimeout(()=>{o(l)},gM.get());function f(){ys().clearTimeout(u),s(i)}i.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TM=500,SM=600,EM="_blank",kM="http://localhost";class B2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AM(t,e,n,i=TM,s=SM){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f={..._M,width:i.toString(),height:s.toString(),top:o,left:l},m=Pn().toLowerCase();n&&(u=m5(m)?EM:n),h5(m)&&(e=e||kM,f.scrollbars="yes");const p=Object.entries(f).reduce((b,[_,A])=>`${b}${_}=${A},`,"");if(o6(m)&&u!=="_self")return NM(e||"",u),new B2(null);const v=window.open(e||"",u,p);Ne(v,t,"popup-blocked");try{v.focus()}catch{}return new B2(v)}function NM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="__/auth/handler",jM="emulator/auth/handler",RM=encodeURIComponent("fac");async function F2(t,e,n,i,s,o){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:yc,eventId:s};if(e instanceof fv){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",NR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))l[p]=v}if(e instanceof Gd){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),m=f?`#${RM}=${encodeURIComponent(f)}`:"";return`${DM(t)}?${qd(u).slice(1)}${m}`}function DM({config:t}){return t.emulator?lv(t,jM):`https://${t.authDomain}/${CM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="webStorageSupport";class MM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A5,this._completeRedirectFn=iM,this._overrideRedirectResult=eM}async _openPopup(e,n,i,s){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await F2(e,n,i,$y(),s);return AM(e,o,mv())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await F2(e,n,i,$y(),s);return P6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(fr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await wM(e),i=new rM(e);return n.register("authEvent",s=>(Ne(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wp,{type:Wp},s=>{const o=s?.[0]?.[Wp];o!==void 0&&n(!!o),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return v5()||f5()||dv()}}const IM=MM;var z2="@firebase/auth",H2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VM(t){nc(new Ro("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b5(t)},m=new f6(i,s,o,f);return v6(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),nc(new Ro("auth-internal",e=>{const n=og(e.getProvider("auth").getImmediate());return(i=>new OM(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oa(z2,H2,PM(t)),oa(z2,H2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=300,UM=Xk("authIdTokenMaxAge")||LM;let q2=null;const BM=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>UM)return;const s=n?.token;q2!==s&&(q2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function FM(t=n5()){const e=rv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x6(t,{popupRedirectResolver:IM,persistence:[$6,M6,A5]}),i=Xk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=BM(o.toString());N6(n,l,()=>l(n.currentUser)),A6(n,u=>l(u))}}const s=Yk("auth");return s&&b6(n,`http://${s}`),n}function zM(){return document.getElementsByTagName("head")?.[0]??document}m6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=Wi("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",zM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VM("Browser");const HM={apiKey:"AIzaSyDKJtsmqxjWzivN7mq_2-szJ6dBh5tEEH8",authDomain:"caresync-b2ac1.firebaseapp.com",projectId:"caresync-b2ac1",storageBucket:"caresync-b2ac1.appspot.com",messagingSenderId:"314234275561",appId:"1:314234275561:web:4294c9ab603b7987159278"},qM=t5(HM),pv=FM(qM),$M=new ar;async function GM(){return X6(pv,$M)}async function WM(){return j6(pv)}var $2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,O5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,E){function N(){}N.prototype=E.prototype,L.D=E.prototype,L.prototype=new N,L.prototype.constructor=L,L.C=function(D,I,O){for(var V=Array(arguments.length-2),X=2;X<arguments.length;X++)V[X-2]=arguments[X];return E.prototype[I].apply(D,V)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(L,E,N){N||(N=0);var D=Array(16);if(typeof E=="string")for(var I=0;16>I;++I)D[I]=E.charCodeAt(N++)|E.charCodeAt(N++)<<8|E.charCodeAt(N++)<<16|E.charCodeAt(N++)<<24;else for(I=0;16>I;++I)D[I]=E[N++]|E[N++]<<8|E[N++]<<16|E[N++]<<24;E=L.g[0],N=L.g[1],I=L.g[2];var O=L.g[3],V=E+(O^N&(I^O))+D[0]+3614090360&4294967295;E=N+(V<<7&4294967295|V>>>25),V=O+(I^E&(N^I))+D[1]+3905402710&4294967295,O=E+(V<<12&4294967295|V>>>20),V=I+(N^O&(E^N))+D[2]+606105819&4294967295,I=O+(V<<17&4294967295|V>>>15),V=N+(E^I&(O^E))+D[3]+3250441966&4294967295,N=I+(V<<22&4294967295|V>>>10),V=E+(O^N&(I^O))+D[4]+4118548399&4294967295,E=N+(V<<7&4294967295|V>>>25),V=O+(I^E&(N^I))+D[5]+1200080426&4294967295,O=E+(V<<12&4294967295|V>>>20),V=I+(N^O&(E^N))+D[6]+2821735955&4294967295,I=O+(V<<17&4294967295|V>>>15),V=N+(E^I&(O^E))+D[7]+4249261313&4294967295,N=I+(V<<22&4294967295|V>>>10),V=E+(O^N&(I^O))+D[8]+1770035416&4294967295,E=N+(V<<7&4294967295|V>>>25),V=O+(I^E&(N^I))+D[9]+2336552879&4294967295,O=E+(V<<12&4294967295|V>>>20),V=I+(N^O&(E^N))+D[10]+4294925233&4294967295,I=O+(V<<17&4294967295|V>>>15),V=N+(E^I&(O^E))+D[11]+2304563134&4294967295,N=I+(V<<22&4294967295|V>>>10),V=E+(O^N&(I^O))+D[12]+1804603682&4294967295,E=N+(V<<7&4294967295|V>>>25),V=O+(I^E&(N^I))+D[13]+4254626195&4294967295,O=E+(V<<12&4294967295|V>>>20),V=I+(N^O&(E^N))+D[14]+2792965006&4294967295,I=O+(V<<17&4294967295|V>>>15),V=N+(E^I&(O^E))+D[15]+1236535329&4294967295,N=I+(V<<22&4294967295|V>>>10),V=E+(I^O&(N^I))+D[1]+4129170786&4294967295,E=N+(V<<5&4294967295|V>>>27),V=O+(N^I&(E^N))+D[6]+3225465664&4294967295,O=E+(V<<9&4294967295|V>>>23),V=I+(E^N&(O^E))+D[11]+643717713&4294967295,I=O+(V<<14&4294967295|V>>>18),V=N+(O^E&(I^O))+D[0]+3921069994&4294967295,N=I+(V<<20&4294967295|V>>>12),V=E+(I^O&(N^I))+D[5]+3593408605&4294967295,E=N+(V<<5&4294967295|V>>>27),V=O+(N^I&(E^N))+D[10]+38016083&4294967295,O=E+(V<<9&4294967295|V>>>23),V=I+(E^N&(O^E))+D[15]+3634488961&4294967295,I=O+(V<<14&4294967295|V>>>18),V=N+(O^E&(I^O))+D[4]+3889429448&4294967295,N=I+(V<<20&4294967295|V>>>12),V=E+(I^O&(N^I))+D[9]+568446438&4294967295,E=N+(V<<5&4294967295|V>>>27),V=O+(N^I&(E^N))+D[14]+3275163606&4294967295,O=E+(V<<9&4294967295|V>>>23),V=I+(E^N&(O^E))+D[3]+4107603335&4294967295,I=O+(V<<14&4294967295|V>>>18),V=N+(O^E&(I^O))+D[8]+1163531501&4294967295,N=I+(V<<20&4294967295|V>>>12),V=E+(I^O&(N^I))+D[13]+2850285829&4294967295,E=N+(V<<5&4294967295|V>>>27),V=O+(N^I&(E^N))+D[2]+4243563512&4294967295,O=E+(V<<9&4294967295|V>>>23),V=I+(E^N&(O^E))+D[7]+1735328473&4294967295,I=O+(V<<14&4294967295|V>>>18),V=N+(O^E&(I^O))+D[12]+2368359562&4294967295,N=I+(V<<20&4294967295|V>>>12),V=E+(N^I^O)+D[5]+4294588738&4294967295,E=N+(V<<4&4294967295|V>>>28),V=O+(E^N^I)+D[8]+2272392833&4294967295,O=E+(V<<11&4294967295|V>>>21),V=I+(O^E^N)+D[11]+1839030562&4294967295,I=O+(V<<16&4294967295|V>>>16),V=N+(I^O^E)+D[14]+4259657740&4294967295,N=I+(V<<23&4294967295|V>>>9),V=E+(N^I^O)+D[1]+2763975236&4294967295,E=N+(V<<4&4294967295|V>>>28),V=O+(E^N^I)+D[4]+1272893353&4294967295,O=E+(V<<11&4294967295|V>>>21),V=I+(O^E^N)+D[7]+4139469664&4294967295,I=O+(V<<16&4294967295|V>>>16),V=N+(I^O^E)+D[10]+3200236656&4294967295,N=I+(V<<23&4294967295|V>>>9),V=E+(N^I^O)+D[13]+681279174&4294967295,E=N+(V<<4&4294967295|V>>>28),V=O+(E^N^I)+D[0]+3936430074&4294967295,O=E+(V<<11&4294967295|V>>>21),V=I+(O^E^N)+D[3]+3572445317&4294967295,I=O+(V<<16&4294967295|V>>>16),V=N+(I^O^E)+D[6]+76029189&4294967295,N=I+(V<<23&4294967295|V>>>9),V=E+(N^I^O)+D[9]+3654602809&4294967295,E=N+(V<<4&4294967295|V>>>28),V=O+(E^N^I)+D[12]+3873151461&4294967295,O=E+(V<<11&4294967295|V>>>21),V=I+(O^E^N)+D[15]+530742520&4294967295,I=O+(V<<16&4294967295|V>>>16),V=N+(I^O^E)+D[2]+3299628645&4294967295,N=I+(V<<23&4294967295|V>>>9),V=E+(I^(N|~O))+D[0]+4096336452&4294967295,E=N+(V<<6&4294967295|V>>>26),V=O+(N^(E|~I))+D[7]+1126891415&4294967295,O=E+(V<<10&4294967295|V>>>22),V=I+(E^(O|~N))+D[14]+2878612391&4294967295,I=O+(V<<15&4294967295|V>>>17),V=N+(O^(I|~E))+D[5]+4237533241&4294967295,N=I+(V<<21&4294967295|V>>>11),V=E+(I^(N|~O))+D[12]+1700485571&4294967295,E=N+(V<<6&4294967295|V>>>26),V=O+(N^(E|~I))+D[3]+2399980690&4294967295,O=E+(V<<10&4294967295|V>>>22),V=I+(E^(O|~N))+D[10]+4293915773&4294967295,I=O+(V<<15&4294967295|V>>>17),V=N+(O^(I|~E))+D[1]+2240044497&4294967295,N=I+(V<<21&4294967295|V>>>11),V=E+(I^(N|~O))+D[8]+1873313359&4294967295,E=N+(V<<6&4294967295|V>>>26),V=O+(N^(E|~I))+D[15]+4264355552&4294967295,O=E+(V<<10&4294967295|V>>>22),V=I+(E^(O|~N))+D[6]+2734768916&4294967295,I=O+(V<<15&4294967295|V>>>17),V=N+(O^(I|~E))+D[13]+1309151649&4294967295,N=I+(V<<21&4294967295|V>>>11),V=E+(I^(N|~O))+D[4]+4149444226&4294967295,E=N+(V<<6&4294967295|V>>>26),V=O+(N^(E|~I))+D[11]+3174756917&4294967295,O=E+(V<<10&4294967295|V>>>22),V=I+(E^(O|~N))+D[2]+718787259&4294967295,I=O+(V<<15&4294967295|V>>>17),V=N+(O^(I|~E))+D[9]+3951481745&4294967295,L.g[0]=L.g[0]+E&4294967295,L.g[1]=L.g[1]+(I+(V<<21&4294967295|V>>>11))&4294967295,L.g[2]=L.g[2]+I&4294967295,L.g[3]=L.g[3]+O&4294967295}i.prototype.u=function(L,E){E===void 0&&(E=L.length);for(var N=E-this.blockSize,D=this.B,I=this.h,O=0;O<E;){if(I==0)for(;O<=N;)s(this,L,O),O+=this.blockSize;if(typeof L=="string"){for(;O<E;)if(D[I++]=L.charCodeAt(O++),I==this.blockSize){s(this,D),I=0;break}}else for(;O<E;)if(D[I++]=L[O++],I==this.blockSize){s(this,D),I=0;break}}this.h=I,this.o+=E},i.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var E=1;E<L.length-8;++E)L[E]=0;var N=8*this.o;for(E=L.length-8;E<L.length;++E)L[E]=N&255,N/=256;for(this.u(L),L=Array(16),E=N=0;4>E;++E)for(var D=0;32>D;D+=8)L[N++]=this.g[E]>>>D&255;return L};function o(L,E){var N=u;return Object.prototype.hasOwnProperty.call(N,L)?N[L]:N[L]=E(L)}function l(L,E){this.h=E;for(var N=[],D=!0,I=L.length-1;0<=I;I--){var O=L[I]|0;D&&O==E||(N[I]=O,D=!1)}this.g=N}var u={};function f(L){return-128<=L&&128>L?o(L,function(E){return new l([E|0],0>E?-1:0)}):new l([L|0],0>L?-1:0)}function m(L){if(isNaN(L)||!isFinite(L))return v;if(0>L)return j(m(-L));for(var E=[],N=1,D=0;L>=N;D++)E[D]=L/N|0,N*=4294967296;return new l(E,0)}function p(L,E){if(L.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(L.charAt(0)=="-")return j(p(L.substring(1),E));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(E,8)),D=v,I=0;I<L.length;I+=8){var O=Math.min(8,L.length-I),V=parseInt(L.substring(I,I+O),E);8>O?(O=m(Math.pow(E,O)),D=D.j(O).add(m(V))):(D=D.j(N),D=D.add(m(V)))}return D}var v=f(0),b=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(C(this))return-j(this).m();for(var L=0,E=1,N=0;N<this.g.length;N++){var D=this.i(N);L+=(0<=D?D:4294967296+D)*E,E*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(A(this))return"0";if(C(this))return"-"+j(this).toString(L);for(var E=m(Math.pow(L,6)),N=this,D="";;){var I=K(N,E).g;N=P(N,I.j(E));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(L);if(N=I,A(N))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function A(L){if(L.h!=0)return!1;for(var E=0;E<L.g.length;E++)if(L.g[E]!=0)return!1;return!0}function C(L){return L.h==-1}t.l=function(L){return L=P(this,L),C(L)?-1:A(L)?0:1};function j(L){for(var E=L.g.length,N=[],D=0;D<E;D++)N[D]=~L.g[D];return new l(N,~L.h).add(b)}t.abs=function(){return C(this)?j(this):this},t.add=function(L){for(var E=Math.max(this.g.length,L.g.length),N=[],D=0,I=0;I<=E;I++){var O=D+(this.i(I)&65535)+(L.i(I)&65535),V=(O>>>16)+(this.i(I)>>>16)+(L.i(I)>>>16);D=V>>>16,O&=65535,V&=65535,N[I]=V<<16|O}return new l(N,N[N.length-1]&-2147483648?-1:0)};function P(L,E){return L.add(j(E))}t.j=function(L){if(A(this)||A(L))return v;if(C(this))return C(L)?j(this).j(j(L)):j(j(this).j(L));if(C(L))return j(this.j(j(L)));if(0>this.l(_)&&0>L.l(_))return m(this.m()*L.m());for(var E=this.g.length+L.g.length,N=[],D=0;D<2*E;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<L.g.length;I++){var O=this.i(D)>>>16,V=this.i(D)&65535,X=L.i(I)>>>16,se=L.i(I)&65535;N[2*D+2*I]+=V*se,U(N,2*D+2*I),N[2*D+2*I+1]+=O*se,U(N,2*D+2*I+1),N[2*D+2*I+1]+=V*X,U(N,2*D+2*I+1),N[2*D+2*I+2]+=O*X,U(N,2*D+2*I+2)}for(D=0;D<E;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=E;D<2*E;D++)N[D]=0;return new l(N,0)};function U(L,E){for(;(L[E]&65535)!=L[E];)L[E+1]+=L[E]>>>16,L[E]&=65535,E++}function z(L,E){this.g=L,this.h=E}function K(L,E){if(A(E))throw Error("division by zero");if(A(L))return new z(v,v);if(C(L))return E=K(j(L),E),new z(j(E.g),j(E.h));if(C(E))return E=K(L,j(E)),new z(j(E.g),E.h);if(30<L.g.length){if(C(L)||C(E))throw Error("slowDivide_ only works with positive integers.");for(var N=b,D=E;0>=D.l(L);)N=Q(N),D=Q(D);var I=te(N,1),O=te(D,1);for(D=te(D,2),N=te(N,2);!A(D);){var V=O.add(D);0>=V.l(L)&&(I=I.add(N),O=V),D=te(D,1),N=te(N,1)}return E=P(L,I.j(E)),new z(I,E)}for(I=v;0<=L.l(E);){for(N=Math.max(1,Math.floor(L.m()/E.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=m(N),V=O.j(E);C(V)||0<V.l(L);)N-=D,O=m(N),V=O.j(E);A(O)&&(O=b),I=I.add(O),L=P(L,V)}return new z(I,L)}t.A=function(L){return K(this,L).h},t.and=function(L){for(var E=Math.max(this.g.length,L.g.length),N=[],D=0;D<E;D++)N[D]=this.i(D)&L.i(D);return new l(N,this.h&L.h)},t.or=function(L){for(var E=Math.max(this.g.length,L.g.length),N=[],D=0;D<E;D++)N[D]=this.i(D)|L.i(D);return new l(N,this.h|L.h)},t.xor=function(L){for(var E=Math.max(this.g.length,L.g.length),N=[],D=0;D<E;D++)N[D]=this.i(D)^L.i(D);return new l(N,this.h^L.h)};function Q(L){for(var E=L.g.length+1,N=[],D=0;D<E;D++)N[D]=L.i(D)<<1|L.i(D-1)>>>31;return new l(N,L.h)}function te(L,E){var N=E>>5;E%=32;for(var D=L.g.length-N,I=[],O=0;O<D;O++)I[O]=0<E?L.i(O+N)>>>E|L.i(O+N+1)<<32-E:L.i(O+N);return new l(I,L.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,O5=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=p,la=l}).apply(typeof $2<"u"?$2:typeof self<"u"?self:typeof window<"u"?window:{});var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P5,Fu,V5,cm,Yy,L5,U5,B5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,T){return g==Array.prototype||g==Object.prototype||(g[w]=T.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Df=="object"&&Df];for(var w=0;w<g.length;++w){var T=g[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function s(g,w){if(w)e:{var T=i;g=g.split(".");for(var M=0;M<g.length-1;M++){var G=g[M];if(!(G in T))break e;T=T[G]}g=g[g.length-1],M=T[g],w=w(M),w!=M&&w!=null&&e(T,g,{configurable:!0,writable:!0,value:w})}}function o(g,w){g instanceof String&&(g+="");var T=0,M=!1,G={next:function(){if(!M&&T<g.length){var ne=T++;return{value:w(ne,g[ne]),done:!1}}return M=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(g){return g||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function m(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function p(g,w,T){return g.call.apply(g.bind,arguments)}function v(g,w,T){if(!g)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,M),g.apply(w,G)}}return function(){return g.apply(w,arguments)}}function b(g,w,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,b.apply(null,arguments)}function _(g,w){var T=Array.prototype.slice.call(arguments,1);return function(){var M=T.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function A(g,w){function T(){}T.prototype=w.prototype,g.aa=w.prototype,g.prototype=new T,g.prototype.constructor=g,g.Qb=function(M,G,ne){for(var de=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)de[Fe-2]=arguments[Fe];return w.prototype[G].apply(M,de)}}function C(g){const w=g.length;if(0<w){const T=Array(w);for(let M=0;M<w;M++)T[M]=g[M];return T}return[]}function j(g,w){for(let T=1;T<arguments.length;T++){const M=arguments[T];if(f(M)){const G=g.length||0,ne=M.length||0;g.length=G+ne;for(let de=0;de<ne;de++)g[G+de]=M[de]}else g.push(M)}}class P{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function U(g){return/^[\s\xa0]*$/.test(g)}function z(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function K(g){return K[" "](g),g}K[" "]=function(){};var Q=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function te(g,w,T){for(const M in g)w.call(T,g[M],M,g)}function L(g,w){for(const T in g)w.call(void 0,g[T],T,g)}function E(g){const w={};for(const T in g)w[T]=g[T];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(g,w){let T,M;for(let G=1;G<arguments.length;G++){M=arguments[G];for(T in M)g[T]=M[T];for(let ne=0;ne<N.length;ne++)T=N[ne],Object.prototype.hasOwnProperty.call(M,T)&&(g[T]=M[T])}}function I(g){var w=1;g=g.split(":");const T=[];for(;0<w&&g.length;)T.push(g.shift()),w--;return g.length&&T.push(g.join(":")),T}function O(g){u.setTimeout(()=>{throw g},0)}function V(){var g=fe;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class X{constructor(){this.h=this.g=null}add(w,T){const M=se.get();M.set(w,T),this.h?this.h.next=M:this.g=M,this.h=M}}var se=new P(()=>new F,g=>g.reset());class F{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,le=!1,fe=new X,ue=()=>{const g=u.Promise.resolve(void 0);$=()=>{g.then(ve)}};var ve=()=>{for(var g;g=V();){try{g.h.call(g.g)}catch(T){O(T)}var w=se;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}le=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ke=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};u.addEventListener("test",T,w),u.removeEventListener("test",T,w)}catch{}return g})();function $e(g,w){if(he.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var T=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(Q){e:{try{K(w.nodeName);var G=!0;break e}catch{}G=!1}G||(w=null)}}else T=="mouseover"?w=g.fromElement:T=="mouseout"&&(w=g.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Be[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&$e.aa.h.call(this)}}A($e,he);var Be={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function ct(g,w,T,M,G){this.listener=g,this.proxy=null,this.src=w,this.type=T,this.capture=!!M,this.ha=G,this.key=++Nt,this.da=this.fa=!1}function tn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Wt(g){this.src=g,this.g={},this.h=0}Wt.prototype.add=function(g,w,T,M,G){var ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);var de=Ct(g,w,M,G);return-1<de?(w=g[de],T||(w.fa=!1)):(w=new ct(w,this.src,ne,!!M,G),w.fa=T,g.push(w)),w};function kn(g,w){var T=w.type;if(T in g.g){var M=g.g[T],G=Array.prototype.indexOf.call(M,w,void 0),ne;(ne=0<=G)&&Array.prototype.splice.call(M,G,1),ne&&(tn(w),g.g[T].length==0&&(delete g.g[T],g.h--))}}function Ct(g,w,T,M){for(var G=0;G<g.length;++G){var ne=g[G];if(!ne.da&&ne.listener==w&&ne.capture==!!T&&ne.ha==M)return G}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),An={};function dn(g,w,T,M,G){if(Array.isArray(w)){for(var ne=0;ne<w.length;ne++)dn(g,w[ne],T,M,G);return null}return T=qo(T),g&&g[At]?g.K(w,T,m(M)?!!M.capture:!1,G):hn(g,w,T,!1,M,G)}function hn(g,w,T,M,G,ne){if(!w)throw Error("Invalid event type");var de=m(G)?!!G.capture:!!G,Fe=Cs(g);if(Fe||(g[Ge]=Fe=new Wt(g)),T=Fe.add(w,T,M,de,ne),T.proxy)return T;if(M=Ho(),T.proxy=M,M.src=g,M.listener=T,g.addEventListener)ke||(G=de),G===void 0&&(G=!1),g.addEventListener(w.toString(),M,G);else if(g.attachEvent)g.attachEvent(Ns(w.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ho(){function g(T){return w.call(g.src,g.listener,T)}const w=Mc;return g}function _r(g,w,T,M,G){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)_r(g,w[ne],T,M,G);else M=m(M)?!!M.capture:!!M,T=qo(T),g&&g[At]?(g=g.i,w=String(w).toString(),w in g.g&&(ne=g.g[w],T=Ct(ne,T,M,G),-1<T&&(tn(ne[T]),Array.prototype.splice.call(ne,T,1),ne.length==0&&(delete g.g[w],g.h--)))):g&&(g=Cs(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Ct(w,T,M,G)),(T=-1<g?w[g]:null)&&Tr(T))}function Tr(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[At])kn(w.i,g);else{var T=g.type,M=g.proxy;w.removeEventListener?w.removeEventListener(T,M,g.capture):w.detachEvent?w.detachEvent(Ns(T),M):w.addListener&&w.removeListener&&w.removeListener(M),(T=Cs(w))?(kn(T,g),T.h==0&&(T.src=null,w[Ge]=null)):tn(g)}}}function Ns(g){return g in An?An[g]:An[g]="on"+g}function Mc(g,w){if(g.da)g=!0;else{w=new $e(w,this);var T=g.listener,M=g.ha||g.src;g.fa&&Tr(g),g=T.call(M,w)}return g}function Cs(g){return g=g[Ge],g instanceof Wt?g:null}var Na="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(g){return typeof g=="function"?g:(g[Na]||(g[Na]=function(w){return g.handleEvent(w)}),g[Na])}function yt(){xe.call(this),this.i=new Wt(this),this.M=this,this.F=null}A(yt,xe),yt.prototype[At]=!0,yt.prototype.removeEventListener=function(g,w,T,M){_r(this,g,w,T,M)};function Xe(g,w){var T,M=g.F;if(M)for(T=[];M;M=M.F)T.push(M);if(g=g.M,M=w.type||w,typeof w=="string")w=new he(w,g);else if(w instanceof he)w.target=w.target||g;else{var G=w;w=new he(M,g),D(w,G)}if(G=!0,T)for(var ne=T.length-1;0<=ne;ne--){var de=w.g=T[ne];G=Vn(de,M,!0,w)&&G}if(de=w.g=g,G=Vn(de,M,!0,w)&&G,G=Vn(de,M,!1,w)&&G,T)for(ne=0;ne<T.length;ne++)de=w.g=T[ne],G=Vn(de,M,!1,w)&&G}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var T=g.g[w],M=0;M<T.length;M++)tn(T[M]);delete g.g[w],g.h--}}this.F=null},yt.prototype.K=function(g,w,T,M){return this.i.add(String(g),w,!1,T,M)},yt.prototype.L=function(g,w,T,M){return this.i.add(String(g),w,!0,T,M)};function Vn(g,w,T,M){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var G=!0,ne=0;ne<w.length;++ne){var de=w[ne];if(de&&!de.da&&de.capture==T){var Fe=de.listener,Yt=de.ha||de.src;de.fa&&kn(g.i,de),G=Fe.call(Yt,M)!==!1&&G}}return G&&!M.defaultPrevented}function Ut(g,w,T){if(typeof g=="function")T&&(g=b(g,T));else if(g&&typeof g.handleEvent=="function")g=b(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(g,w||0)}function Ca(g){g.g=Ut(()=>{g.g=null,g.i&&(g.i=!1,Ca(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class $o extends xe{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Ca(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(g){xe.call(this),this.h=g,this.g={}}A(js,xe);var oi=[];function Yi(g){te(g.g,function(w,T){this.g.hasOwnProperty(T)&&Tr(w)},g),g.g={}}js.prototype.N=function(){js.aa.N.call(this),Yi(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=u.JSON.stringify,Rs=u.JSON.parse,Ki=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Ds(){}Ds.prototype.h=null;function ja(g){return g.h||(g.h=g.i())}function Sr(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){he.call(this,"d")}A(li,he);function Bt(){he.call(this,"c")}A(Bt,he);var mt={},Xi=null;function We(){return Xi=Xi||new yt}mt.La="serverreachability";function fn(g){he.call(this,mt.La,g)}A(fn,he);function Qi(g){const w=We();Xe(w,new fn(w))}mt.STAT_EVENT="statevent";function Er(g,w){he.call(this,mt.STAT_EVENT,g),this.stat=w}A(Er,he);function ut(g){const w=We();Xe(w,new Er(w,g))}mt.Ma="timingevent";function jt(g,w){he.call(this,mt.Ma,g),this.size=w}A(jt,he);function xt(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},w)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Ms(g,w,T,M,G,ne){g.info(function(){if(g.g)if(ne)for(var de="",Fe=ne.split("&"),Yt=0;Yt<Fe.length;Yt++){var ze=Fe[Yt].split("=");if(1<ze.length){var rn=ze[0];ze=ze[1];var Kt=rn.split("_");de=2<=Kt.length&&Kt[1]=="type"?de+(rn+"="+ze+"&"):de+(rn+"=redacted&")}}else de=null;else de=ne;return"XMLHTTP REQ ("+M+") [attempt "+G+"]: "+w+`
`+T+`
`+de})}function Ra(g,w,T,M,G,ne,de){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+G+"]: "+w+`
`+T+`
`+ne+" "+de})}function ci(g,w,T,M){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+Mi(g,T)+(M?" "+M:"")})}function Go(g,w){g.info(function(){return"TIMEOUT: "+w})}mn.prototype.info=function(){};function Mi(g,w){if(!g.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(g=0;g<T.length;g++)if(Array.isArray(T[g])){var M=T[g];if(!(2>M.length)){var G=M[1];if(Array.isArray(G)&&!(1>G.length)){var ne=G[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var de=1;de<G.length;de++)G[de]=""}}}}return Zn(T)}catch{return w}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function Ae(){}A(Ae,Ds),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},ui=new Ae;function Me(g,w,T,M){this.j=g,this.i=w,this.l=T,this.R=M||1,this.U=new js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var gn={},nn={};function Ln(g,w,T){g.L=1,g.v=Pa(Jn(w)),g.m=T,g.P=!0,Pi(g,null)}function Pi(g,w){g.F=Date.now(),Da(g),g.A=Jn(g.v);var T=g.A,M=g.R;Array.isArray(M)||(M=[String(M)]),Uc(T.i,"t",M),g.C=0,T=g.j.J,g.h=new Re,g.g=kh(g.j,T?w:null,!g.m),0<g.O&&(g.M=new $o(b(g.Y,g,g.g),g.O)),w=g.U,T=g.g,M=g.ca;var G="readystatechange";Array.isArray(G)||(G&&(oi[0]=G.toString()),G=oi);for(var ne=0;ne<G.length;ne++){var de=dn(T,G[ne],M||w.handleEvent,!1,w.h||w);if(!de)break;w.g[de.key]=de}w=g.H?E(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),Qi(),Ms(g.i,g.u,g.A,g.l,g.R,g.m)}Me.prototype.ca=function(g){g=g.target;const w=this.M;w&&mi(g)==3?w.j():this.Y(g)},Me.prototype.Y=function(g){try{if(g==this.g)e:{const Kt=mi(this.g);var w=this.g.Ba();const Fs=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||xh(this.g)))){this.J||Kt!=4||w==7||(w==8||0>=Fs?Qi(3):Qi(2)),kr(this);var T=this.g.Z();this.X=T;t:if(Wo(this)){var M=xh(this.g);g="";var G=M.length,ne=mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Zi(this);var de="";break t}this.h.i=new u.TextDecoder}for(w=0;w<G;w++)this.h.h=!0,g+=this.h.i.decode(M[w],{stream:!(ne&&w==G-1)});M.length=0,this.h.g+=g,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=T==200,Ra(this.i,this.u,this.A,this.l,this.R,Kt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Yt=this.g;if((Fe=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Fe)){var ze=Fe;break t}}ze=null}if(T=ze)ci(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ma(this,T);else{this.o=!1,this.s=3,ut(12),pn(this),Zi(this);break e}}if(this.P){T=!0;let yn;for(;!this.J&&this.C<de.length;)if(yn=hh(this,de),yn==nn){Kt==4&&(this.s=4,ut(14),T=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==gn){this.s=4,ut(15),ci(this.i,this.l,de,"[Invalid Chunk]"),T=!1;break}else ci(this.i,this.l,yn,null),Ma(this,yn);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||de.length!=0||this.h.h||(this.s=1,ut(16),T=!1),this.o=this.o&&T,!T)ci(this.i,this.l,de,"[Invalid Chunked Response]"),pn(this),Zi(this);else if(0<de.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),qa(rn),rn.M=!0,ut(11))}}else ci(this.i,this.l,de,null),Ma(this,de);Kt==4&&pn(this),this.o&&!this.J&&(Kt==4?Th(this.j,this):(this.o=!1,Da(this)))}else $g(this.g),T==400&&0<de.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),pn(this),Zi(this)}}}catch{}finally{}};function Wo(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function hh(g,w){var T=g.C,M=w.indexOf(`
`,T);return M==-1?nn:(T=Number(w.substring(T,M)),isNaN(T)?gn:(M+=1,M+T>w.length?nn:(w=w.slice(M,M+T),g.C=M+T,w)))}Me.prototype.cancel=function(){this.J=!0,pn(this)};function Da(g){g.S=Date.now()+g.I,fh(g,g.I)}function fh(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=xt(b(g.ba,g),w)}function kr(g){g.B&&(u.clearTimeout(g.B),g.B=null)}Me.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Go(this.i,this.A),this.L!=2&&(Qi(),ut(17)),pn(this),this.s=2,Zi(this)):fh(this,this.S-g)};function Zi(g){g.j.G==0||g.J||Th(g.j,g)}function pn(g){kr(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,Yi(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function Ma(g,w){try{var T=g.j;if(T.G!=0&&(T.g==g||Ic(T.h,g))){if(!g.K&&Ic(T.h,g)&&T.G==3){try{var M=T.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var G=M;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<g.F)rl(T),il(T);else break e;qc(T),ut(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=xt(b(T.Za,T),6e3));if(1>=Ko(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Bs(T,11)}else if((g.K||T.g==g)&&rl(T),!U(w))for(G=T.Da.g.parse(w),w=0;w<G.length;w++){let ze=G[w];if(T.T=ze[0],ze=ze[1],T.G==2)if(ze[0]=="c"){T.K=ze[1],T.ia=ze[2];const rn=ze[3];rn!=null&&(T.la=rn,T.j.info("VER="+T.la));const Kt=ze[4];Kt!=null&&(T.Aa=Kt,T.j.info("SVER="+T.Aa));const Fs=ze[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(M=1.5*Fs,T.L=M,T.j.info("backChannelRequestTimeoutMs_="+M)),M=T;const yn=g.g;if(yn){const rs=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rs){var ne=M.h;ne.g||rs.indexOf("spdy")==-1&&rs.indexOf("quic")==-1&&rs.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Xo(ne,ne.h),ne.h=null))}if(M.D){const Gc=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gc&&(M.ya=Gc,rt(M.I,M.D,Gc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-g.F,T.j.info("Handshake RTT: "+T.R+"ms")),M=T;var de=g;if(M.qa=Eh(M,M.J?M.ia:null,M.W),de.K){Un(M.h,de);var Fe=de,Yt=M.L;Yt&&(Fe.I=Yt),Fe.B&&(kr(Fe),Da(Fe)),M.g=de}else wh(M);0<T.i.length&&sl(T)}else ze[0]!="stop"&&ze[0]!="close"||Bs(T,7);else T.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Bs(T,7):zc(T):ze[0]!="noop"&&T.l&&T.l.ta(ze),T.v=0)}}Qi(4)}catch{}}var mh=class{constructor(g,w){this.g=g,this.map=w}};function Is(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yo(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ko(g){return g.h?1:g.g?g.g.size:0}function Ic(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Xo(g,w){g.g?g.g.add(w):g.h=w}function Un(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}Is.prototype.cancel=function(){if(this.i=Oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Oc(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const T of g.g.values())w=w.concat(T.D);return w}return C(g.i)}function Fg(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var w=[],T=g.length,M=0;M<T;M++)w.push(g[M]);return w}w=[],T=0;for(M in g)w[T++]=g[M];return w}function Qo(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var w=[];g=g.length;for(var T=0;T<g;T++)w.push(T);return w}w=[],T=0;for(const M in g)w[T++]=M;return w}}}function Pc(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var T=Qo(g),M=Fg(g),G=M.length,ne=0;ne<G;ne++)w.call(void 0,M[ne],T&&T[ne],g)}var Ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zg(g,w){if(g){g=g.split("&");for(var T=0;T<g.length;T++){var M=g[T].indexOf("="),G=null;if(0<=M){var ne=g[T].substring(0,M);G=g[T].substring(M+1)}else ne=g[T];w(ne,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ft(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ft){this.h=g.h,Oa(this,g.j),this.o=g.o,this.g=g.g,Ar(this,g.s),this.l=g.l;var w=g.i,T=new Ps;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Os(this,T),this.m=g.m}else g&&(w=String(g).match(Ia))?(this.h=!1,Oa(this,w[1]||"",!0),this.o=di(w[2]||""),this.g=di(w[3]||"",!0),Ar(this,w[4]),this.l=di(w[5]||"",!0),Os(this,w[6]||"",!0),this.m=di(w[7]||"")):(this.h=!1,this.i=new Ps(null,this.h))}Ft.prototype.toString=function(){var g=[],w=this.j;w&&g.push(Va(w,Vc,!0),":");var T=this.g;return(T||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Va(w,Vc,!0),"@"),g.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&g.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(Va(T,T.charAt(0)=="/"?Hg:Lc,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",Va(T,Zo)),g.join("")};function Jn(g){return new Ft(g)}function Oa(g,w,T){g.j=T?di(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function Ar(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function Os(g,w,T){w instanceof Ps?(g.i=w,ph(g.i,g.h)):(T||(w=Va(w,qg)),g.i=new Ps(w,g.h))}function rt(g,w,T){g.i.set(w,T)}function Pa(g){return rt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function di(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Va(g,w,T){return typeof g=="string"?(g=encodeURI(g).replace(w,gh),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function gh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Vc=/[#\/\?@]/g,Lc=/[#\?:]/g,Hg=/[#\?]/g,qg=/[#\?@]/g,Zo=/#/g;function Ps(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function hi(g){g.g||(g.g=new Map,g.h=0,g.i&&zg(g.i,function(w,T){g.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Ps.prototype,t.add=function(g,w){hi(this),this.i=null,g=Ji(this,g);var T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(w),this.h+=1,this};function Vs(g,w){hi(g),w=Ji(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function Ls(g,w){return hi(g),w=Ji(g,w),g.g.has(w)}t.forEach=function(g,w){hi(this),this.g.forEach(function(T,M){T.forEach(function(G){g.call(w,G,M,this)},this)},this)},t.na=function(){hi(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let M=0;M<w.length;M++){const G=g[M];for(let ne=0;ne<G.length;ne++)T.push(w[M])}return T},t.V=function(g){hi(this);let w=[];if(typeof g=="string")Ls(this,g)&&(w=w.concat(this.g.get(Ji(this,g))));else{g=Array.from(this.g.values());for(let T=0;T<g.length;T++)w=w.concat(g[T])}return w},t.set=function(g,w){return hi(this),this.i=null,g=Ji(this,g),Ls(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function Uc(g,w,T){Vs(g,w),0<T.length&&(g.i=null,g.g.set(Ji(g,w),C(T)),g.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var M=w[T];const ne=encodeURIComponent(String(M)),de=this.V(M);for(M=0;M<de.length;M++){var G=ne;de[M]!==""&&(G+="="+encodeURIComponent(String(de[M]))),g.push(G)}}return this.i=g.join("&")};function Ji(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function ph(g,w){w&&!g.j&&(hi(g),g.i=null,g.g.forEach(function(T,M){var G=M.toLowerCase();M!=G&&(Vs(this,M),Uc(this,G,T))},g)),g.j=w}function La(g,w){const T=new mn;if(u.Image){const M=new Image;M.onload=_(fi,T,"TestLoadImage: loaded",!0,w,M),M.onerror=_(fi,T,"TestLoadImage: error",!1,w,M),M.onabort=_(fi,T,"TestLoadImage: abort",!1,w,M),M.ontimeout=_(fi,T,"TestLoadImage: timeout",!1,w,M),u.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else w(!1)}function Vi(g,w){const T=new mn,M=new AbortController,G=setTimeout(()=>{M.abort(),fi(T,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:M.signal}).then(ne=>{clearTimeout(G),ne.ok?fi(T,"TestPingServer: ok",!0,w):fi(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),fi(T,"TestPingServer: error",!1,w)})}function fi(g,w,T,M,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),M(T)}catch{}}function Ua(){this.g=new Ki}function es(g,w,T){const M=T||"";try{Pc(g,function(G,ne){let de=G;m(G)&&(de=Zn(G)),w.push(M+ne+"="+encodeURIComponent(de))})}catch(G){throw w.push(M+"type="+encodeURIComponent("_badmap")),G}}function Nr(g){this.l=g.Ub||null,this.j=g.eb||!1}A(Nr,Ds),Nr.prototype.g=function(){return new Us(this.l,this.j)},Nr.prototype.i=(function(g){return function(){return g}})({});function Us(g,w){yt.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Us,yt),t=Us.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,ns(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ts(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?ts(this):ns(this),this.readyState==3&&Bc(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ts(this))},t.Qa=function(g){this.g&&(this.response=g,ts(this))},t.ga=function(){this.g&&ts(this)};function ts(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ns(g)}t.setRequestHeader=function(g,w){this.u.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=w.next();return g.join(`\r
`)};function ns(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Fc(g){let w="";return te(g,function(T,M){w+=M,w+=":",w+=T,w+=`\r
`}),w}function sn(g,w,T){e:{for(M in T){var M=!1;break e}M=!0}M||(T=Fc(T),typeof g=="string"?T!=null&&encodeURIComponent(String(T)):rt(g,w,T))}function et(g){yt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(et,yt);var Jo=/^https?$/i,Ba=["POST","PUT"];t=et.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,w,T,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?ja(this.o):ja(ui),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ne){yh(this,ne);return}if(g=T||"",T=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var G in M)T.set(G,M[G]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ne of M.keys())T.set(ne,M.get(ne));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),G=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ba,w,void 0))||M||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,de]of T)this.g.setRequestHeader(ne,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fa(this),this.u=!0,this.g.send(g),this.u=!1}catch(ne){yh(this,ne)}};function yh(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,el(g),is(g)}function el(g){g.A||(g.A=!0,Xe(g,"complete"),Xe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Xe(this,"complete"),Xe(this,"abort"),is(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tl(this):this.bb())},t.bb=function(){tl(this)};function tl(g){if(g.h&&typeof l<"u"&&(!g.v[1]||mi(g)!=4||g.Z()!=2)){if(g.u&&mi(g)==4)Ut(g.Ea,0,g);else if(Xe(g,"readystatechange"),mi(g)==4){g.h=!1;try{const de=g.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var M;if(M=de===0){var G=String(g.D).match(Ia)[1]||null;!G&&u.self&&u.self.location&&(G=u.self.location.protocol.slice(0,-1)),M=!Jo.test(G?G.toLowerCase():"")}T=M}if(T)Xe(g,"complete"),Xe(g,"success");else{g.m=6;try{var ne=2<mi(g)?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.Z()+"]",el(g)}}finally{is(g)}}}}function is(g,w){if(g.g){Fa(g);const T=g.g,M=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||Xe(g,"ready");try{T.onreadystatechange=M}catch{}}}function Fa(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function mi(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<mi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),Rs(w)}};function xh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function $g(g){const w={};g=(g.g&&2<=mi(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(U(g[M]))continue;var T=I(g[M]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=w[G]||[];w[G]=ne,ne.push(T)}L(w,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(g,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||w}function nl(g){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,g),this.cb=za("retryDelaySeedMs",1e4,g),this.Wa=za("forwardChannelMaxRetries",2,g),this.wa=za("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(g&&g.concurrentRequestLimit),this.Da=new Ua,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nl.prototype,t.la=8,t.G=1,t.connect=function(g,w,T,M){ut(0),this.W=g,this.H=w||{},T&&M!==void 0&&(this.H.OSID=T,this.H.OAID=M),this.F=this.X,this.I=Eh(this,null,this.W),sl(this)};function zc(g){if(vh(g),g.G==3){var w=g.U++,T=Jn(g.I);if(rt(T,"SID",g.K),rt(T,"RID",w),rt(T,"TYPE","terminate"),Ha(g,T),w=new Me(g,g.j,w),w.L=2,w.v=Pa(Jn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=w.v,T=!0),T||(w.g=kh(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Da(w)}Sh(g)}function il(g){g.g&&(qa(g),g.g.cancel(),g.g=null)}function vh(g){il(g),g.u&&(u.clearTimeout(g.u),g.u=null),rl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function sl(g){if(!Yo(g.h)&&!g.s){g.s=!0;var w=g.Ga;$||ue(),le||($(),le=!0),fe.add(w,g),g.B=0}}function Gg(g,w){return Ko(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=xt(b(g.Ga,g,w),$c(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const G=new Me(this,this.j,g);let ne=this.o;if(this.S&&(ne?(ne=E(ne),D(ne,this.S)):ne=this.S),this.m!==null||this.O||(G.H=ne,ne=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var M=this.i[T];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=bh(this,G,w),T=Jn(this.I),rt(T,"RID",g),rt(T,"CVER",22),this.D&&rt(T,"X-HTTP-Session-Id",this.D),Ha(this,T),ne&&(this.O?w="headers="+encodeURIComponent(String(Fc(ne)))+"&"+w:this.m&&sn(T,this.m,ne)),Xo(this.h,G),this.Ua&&rt(T,"TYPE","init"),this.P?(rt(T,"$req",w),rt(T,"SID","null"),G.T=!0,Ln(G,T,null)):Ln(G,T,w),this.G=2}}else this.G==3&&(g?Hc(this,g):this.i.length==0||Yo(this.h)||Hc(this))};function Hc(g,w){var T;w?T=w.l:T=g.U++;const M=Jn(g.I);rt(M,"SID",g.K),rt(M,"RID",T),rt(M,"AID",g.T),Ha(g,M),g.m&&g.o&&sn(M,g.m,g.o),T=new Me(g,g.j,T,g.B+1),g.m===null&&(T.H=g.o),w&&(g.i=w.D.concat(g.i)),w=bh(g,T,1e3),T.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Xo(g.h,T),Ln(T,M,w)}function Ha(g,w){g.H&&te(g.H,function(T,M){rt(w,M,T)}),g.l&&Pc({},function(T,M){rt(w,M,T)})}function bh(g,w,T){T=Math.min(g.i.length,T);var M=g.l?b(g.l.Na,g.l,g):null;e:{var G=g.i;let ne=-1;for(;;){const de=["count="+T];ne==-1?0<T?(ne=G[0].g,de.push("ofs="+ne)):ne=0:de.push("ofs="+ne);let Fe=!0;for(let Yt=0;Yt<T;Yt++){let ze=G[Yt].g;const rn=G[Yt].map;if(ze-=ne,0>ze)ne=Math.max(0,G[Yt].g-100),Fe=!1;else try{es(rn,de,"req"+ze+"_")}catch{M&&M(rn)}}if(Fe){M=de.join("&");break e}}}return g=g.i.splice(0,T),w.D=g,M}function wh(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;$||ue(),le||($(),le=!0),fe.add(w,g),g.v=0}}function qc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=xt(b(g.Fa,g),$c(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,_h(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=xt(b(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),il(this),_h(this))};function qa(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function _h(g){g.g=new Me(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Jn(g.qa);rt(w,"RID","rpc"),rt(w,"SID",g.K),rt(w,"AID",g.T),rt(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&rt(w,"TO",g.ja),rt(w,"TYPE","xmlhttp"),Ha(g,w),g.m&&g.o&&sn(w,g.m,g.o),g.L&&(g.g.I=g.L);var T=g.g;g=g.ia,T.L=1,T.v=Pa(Jn(w)),T.m=null,T.P=!0,Pi(T,g)}t.Za=function(){this.C!=null&&(this.C=null,il(this),qc(this),ut(19))};function rl(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Th(g,w){var T=null;if(g.g==w){rl(g),qa(g),g.g=null;var M=2}else if(Ic(g.h,w))T=w.D,Un(g.h,w),M=1;else return;if(g.G!=0){if(w.o)if(M==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var G=g.B;M=We(),Xe(M,new jt(M,T)),sl(g)}else wh(g);else if(G=w.s,G==3||G==0&&0<w.X||!(M==1&&Gg(g,w)||M==2&&qc(g)))switch(T&&0<T.length&&(w=g.h,w.i=w.i.concat(T)),G){case 1:Bs(g,5);break;case 4:Bs(g,10);break;case 3:Bs(g,6);break;default:Bs(g,2)}}}function $c(g,w){let T=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(T*=2),T*w}function Bs(g,w){if(g.j.info("Error code "+w),w==2){var T=b(g.fb,g),M=g.Xa;const G=!M;M=new Ft(M||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Oa(M,"https"),Pa(M),G?La(M.toString(),T):Vi(M.toString(),T)}else ut(2);g.G=0,g.l&&g.l.sa(w),Sh(g),vh(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Sh(g){if(g.G=0,g.ka=[],g.l){const w=Oc(g.h);(w.length!=0||g.i.length!=0)&&(j(g.ka,w),j(g.ka,g.i),g.h.i.length=0,C(g.i),g.i.length=0),g.l.ra()}}function Eh(g,w,T){var M=T instanceof Ft?Jn(T):new Ft(T);if(M.g!="")w&&(M.g=w+"."+M.g),Ar(M,M.s);else{var G=u.location;M=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;var ne=new Ft(null);M&&Oa(ne,M),w&&(ne.g=w),G&&Ar(ne,G),T&&(ne.l=T),M=ne}return T=g.D,w=g.ya,T&&w&&rt(M,T,w),rt(M,"VER",g.la),Ha(g,M),M}function kh(g,w,T){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new et(new Nr({eb:T})):new et(g.pa),w.Ha(g.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ah(){}t=Ah.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function al(){}al.prototype.g=function(g,w){return new Bn(g,w)};function Bn(g,w){yt.call(this),this.g=new nl(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!U(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!U(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new ss(this)}A(Bn,yt),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){zc(this.g)},Bn.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.u&&(T={},T.__data__=Zn(g),g=T);w.i.push(new mh(w.Ya++,g)),w.G==3&&sl(w)},Bn.prototype.N=function(){this.g.l=null,delete this.j,zc(this.g),delete this.g,Bn.aa.N.call(this)};function Nh(g){li.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const T in w){g=T;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}A(Nh,li);function Ch(){Bt.call(this),this.status=1}A(Ch,Bt);function ss(g){this.g=g}A(ss,Ah),ss.prototype.ua=function(){Xe(this.g,"a")},ss.prototype.ta=function(g){Xe(this.g,new Nh(g))},ss.prototype.sa=function(g){Xe(this.g,new Ch)},ss.prototype.ra=function(){Xe(this.g,"b")},al.prototype.createWebChannel=al.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,B5=function(){return new al},U5=function(){return We()},L5=mt,Yy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,cm=Ii,Oi.COMPLETE="complete",V5=Oi,Sr.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Fu=Sr,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,P5=et}).apply(typeof Df<"u"?Df:typeof self<"u"?self:typeof window<"u"?window:{});const G2="@firebase/firestore",W2="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new iv("@firebase/firestore");function Vl(){return Mo.logLevel}function me(t,...e){if(Mo.logLevel<=Ve.DEBUG){const n=e.map(yv);Mo.debug(`Firestore (${vc}): ${t}`,...n)}}function mr(t,...e){if(Mo.logLevel<=Ve.ERROR){const n=e.map(yv);Mo.error(`Firestore (${vc}): ${t}`,...n)}}function sc(t,...e){if(Mo.logLevel<=Ve.WARN){const n=e.map(yv);Mo.warn(`Firestore (${vc}): ${t}`,...n)}}function yv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,F5(t,i,n)}function F5(t,e,n){let i=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw mr(i),new Error(i)}function tt(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||F5(e,s,i)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class KM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XM{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let i=this.i;const s=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let o=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ca,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},u=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ca)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new z5(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class QM{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZM{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new QM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const i=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=eI(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function Le(t,e){return t<e?-1:t>e?1:0}function Ky(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),o=e.charAt(i);if(s!==o)return Yp(s)===Yp(o)?Le(s,o):Yp(s)?1:-1}return Le(t.length,e.length)}const tI=55296,nI=57343;function Yp(t){const e=t.charCodeAt(0);return e>=tI&&e<=nI}function rc(t,e,n){return t.length===e.length&&t.every(((i,s)=>n(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="__name__";class gs{constructor(e,n,i){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Te(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return gs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gs?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=gs.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Le(e.length,n.length)}static compareSegments(e,n){const i=gs.isNumericId(e),s=gs.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?gs.extractNumericId(e).compare(gs.extractNumericId(n)):Ky(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class St extends gs{construct(e,n,i){return new St(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((s=>s.length>0)))}return new St(n)}static emptyPath(){return new St([])}}const iI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends gs{construct(e,n,i){return new Tn(e,n,i)}static isValidIdentifier(e){return iI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K2}static keyField(){return new Tn([K2])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ye(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ye(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(o(),s++)}if(o(),l)throw new ye(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(St.fromString(e))}static fromName(e){return new be(St.fromString(e).popFirst(5))}static empty(){return new be(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e,n){if(!n)throw new ye(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rI(t,e,n,i){if(e===!0&&i===!0)throw new ye(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function X2(t){if(!be.isDocumentKey(t))throw new ye(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function yd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vv(t);throw new ye(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yd(t,e){if(!H5(t))throw new ye(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const l=t[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new ye(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=-62135596800,Z2=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Z2);return new pt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q2)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z2}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yd(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Gt("string",pt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new pt(0,0))}static max(){return new Ce(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function aI(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(i===1e9?new pt(n+1,0):new pt(n,i));return new fa(s,be.empty(),e)}function oI(t){return new fa(t.readTime,t.key,xd)}class fa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new fa(Ce.min(),be.empty(),xd)}static max(){return new fa(Ce.max(),be.empty(),xd)}}function lI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==cI)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,i)=>{n(e)}))}static reject(e){return new oe(((n,i)=>{i(e)}))}static waitFor(e){return new oe(((n,i)=>{let s=0,o=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++o,l&&o===s&&n()}),(f=>i(f)))})),l=!0,o===s&&n()}))}static or(e){let n=oe.resolve(!1);for(const i of e)n=n.next((s=>s?oe.resolve(s):i()));return n}static forEach(e,n){const i=[];return e.forEach(((s,o)=>{i.push(n.call(this,s,o))})),this.waitFor(i)}static mapArray(e,n){return new oe(((i,s)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const m=f;n(e[m]).next((p=>{l[m]=p,++u,u===o&&i(l)}),(p=>s(p)))}}))}static doWhile(e,n){return new oe(((i,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):i()};o()}))}}function dI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ug.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=-1;function dg(t){return t==null}function Dm(t){return t===0&&1/t==-1/0}function hI(t){return typeof t=="number"&&Number.isInteger(t)&&!Dm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="";function fI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=J2(e)),e=mI(t.get(n),e);return J2(e)}function mI(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case q5:n+="";break;default:n+=o}}return n}function J2(t){return t+q5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mf(this.root,e,this.comparator,!0)}}class Mf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??_n.RED,this.left=s??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new _n(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(e){return new tT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class tT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new qi([])}unionWith(e){let n=new en(Tn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new G5("Invalid base64 string: "+o):o}})(e);return new En(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const gI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=gI.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ga(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="server_timestamp",Y5="__type__",K5="__previous_value__",X5="__local_write_time__";function wv(t){return(t?.mapValue?.fields||{})[Y5]?.stringValue===W5}function hg(t){const e=t.mapValue.fields[K5];return wv(e)?hg(e):e}function vd(t){const e=ma(t.mapValue.fields[X5].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,i,s,o,l,u,f,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=p}}const Mm="(default)";class bd{constructor(e,n){this.projectId=e,this.database=n||Mm}static empty(){return new bd("","")}get isDefaultDatabase(){return this.database===Mm}isEqual(e){return e instanceof bd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="__type__",yI="__max__",If={mapValue:{}},Z5="__vector__",Im="value";function pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wv(t)?4:vI(t)?9007199254740991:xI(t)?10:11:Te(28295,{value:t})}function ks(t,e){if(t===e)return!0;const n=pa(t);if(n!==pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vd(t).isEqual(vd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=ma(s.timestampValue),u=ma(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return ga(s.bytesValue).isEqual(ga(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Vt(s.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Vt(s.integerValue)===Vt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Vt(s.doubleValue),u=Vt(o.doubleValue);return l===u?Dm(l)===Dm(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return rc(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(eT(l)!==eT(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!ks(l[f],u[f])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function wd(t,e){return(t.values||[]).find((n=>ks(n,e)))!==void 0}function ac(t,e){if(t===e)return 0;const n=pa(t),i=pa(e);if(n!==i)return Le(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Vt(o.integerValue||o.doubleValue),f=Vt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return nT(t.timestampValue,e.timestampValue);case 4:return nT(vd(t),vd(e));case 5:return Ky(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=ga(o),f=ga(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let m=0;m<u.length&&m<f.length;m++){const p=Le(u[m],f[m]);if(p!==0)return p}return Le(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=Le(Vt(o.latitude),Vt(l.latitude));return u!==0?u:Le(Vt(o.longitude),Vt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return iT(t.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},f=l.fields||{},m=u[Im]?.arrayValue,p=f[Im]?.arrayValue,v=Le(m?.values?.length||0,p?.values?.length||0);return v!==0?v:iT(m,p)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===If.mapValue&&l===If.mapValue)return 0;if(o===If.mapValue)return 1;if(l===If.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),m=l.fields||{},p=Object.keys(m);f.sort(),p.sort();for(let v=0;v<f.length&&v<p.length;++v){const b=Ky(f[v],p[v]);if(b!==0)return b;const _=ac(u[f[v]],m[p[v]]);if(_!==0)return _}return Le(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function nT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=ma(t),i=ma(e),s=Le(n.seconds,i.seconds);return s!==0?s:Le(n.nanos,i.nanos)}function iT(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=ac(n[s],i[s]);if(o)return o}return Le(n.length,i.length)}function oc(t){return Xy(t)}function Xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=ma(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ga(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=Xy(o);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${Xy(n.fields[l])}`;return s+"}"})(t.mapValue):Te(61005,{value:t})}function um(t){switch(pa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hg(t);return e?16+um(e):16;case 5:return 2*t.stringValue.length;case 6:return ga(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+um(o)),0)})(t.arrayValue);case 10:case 11:return(function(i){let s=0;return Po(i.fields,((o,l)=>{s+=o.length+um(l)})),s})(t.mapValue);default:throw Te(13486,{value:t})}}function Qy(t){return!!t&&"integerValue"in t}function _v(t){return!!t&&"arrayValue"in t}function sT(t){return!!t&&"nullValue"in t}function rT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dm(t){return!!t&&"mapValue"in t}function xI(t){return(t?.mapValue?.fields||{})[Q5]?.stringValue===Z5}function Ju(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Ju(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ju(t.arrayValue.values[n]);return e}return{...t}}function vI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.value=e}static empty(){return new Ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!dm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(n)}setAll(e){let n=Tn.emptyPath(),i={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,i,s),i={},s=[],n=u.popLast()}l?i[u.lastSegment()]=Ju(l):s.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());dm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];dm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Po(n,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new Ei(Ju(this.value))}}function J5(t){const e=[];return Po(t.fields,((n,i)=>{const s=new Tn([n]);if(dm(i)){const o=J5(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,i,s,o,l,u){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Dn(e,0,Ce.min(),Ce.min(),Ce.min(),Ei.empty(),0)}static newFoundDocument(e,n,i,s){return new Dn(e,1,n,Ce.min(),i,s,0)}static newNoDocument(e,n){return new Dn(e,2,n,Ce.min(),Ce.min(),Ei.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Ce.min(),Ce.min(),Ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.position=e,this.inclusive=n}}function aT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=be.comparator(be.fromName(l.referenceValue),n.key):i=ac(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function oT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n="asc"){this.field=e,this.dir=n}}function bI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{}class Zt extends eA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new _I(e,n,i):n==="array-contains"?new EI(e,i):n==="in"?new kI(e,i):n==="not-in"?new AI(e,i):n==="array-contains-any"?new NI(e,i):new Zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new TI(e,i):new SI(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ac(n,this.value)):n!==null&&pa(this.value)===pa(n)&&this.matchesComparison(ac(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class As extends eA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new As(e,n)}matches(e){return tA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tA(t){return t.op==="and"}function nA(t){return wI(t)&&tA(t)}function wI(t){for(const e of t.filters)if(e instanceof As)return!1;return!0}function Zy(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+oc(t.value);if(nA(t))return t.filters.map((e=>Zy(e))).join(",");{const e=t.filters.map((n=>Zy(n))).join(",");return`${t.op}(${e})`}}function iA(t,e){return t instanceof Zt?(function(i,s){return s instanceof Zt&&i.op===s.op&&i.field.isEqual(s.field)&&ks(i.value,s.value)})(t,e):t instanceof As?(function(i,s){return s instanceof As&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,l,u)=>o&&iA(l,s.filters[u])),!0):!1})(t,e):void Te(19439)}function sA(t){return t instanceof Zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${oc(n.value)}`})(t):t instanceof As?(function(n){return n.op.toString()+" {"+n.getFilters().map(sA).join(" ,")+"}"})(t):"Filter"}class _I extends Zt{constructor(e,n,i){super(e,n,i),this.key=be.fromName(i.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class TI extends Zt{constructor(e,n){super(e,"in",n),this.keys=rA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SI extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=rA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function rA(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class EI extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _v(n)&&wd(n.arrayValue,this.value)}}class kI extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wd(this.value.arrayValue,n)}}class AI extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wd(this.value.arrayValue,n)}}class NI extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_v(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>wd(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n=null,i=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function lT(t,e=null,n=[],i=[],s=null,o=null,l=null){return new CI(t,e,n,i,s,o,l)}function Tv(t){const e=je(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Zy(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),dg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>oc(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>oc(i))).join(",")),e.Te=n}return e.Te}function Sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oT(t.startAt,e.startAt)&&oT(t.endAt,e.endAt)}function Jy(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n=null,i=[],s=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jI(t,e,n,i,s,o,l,u){return new fg(t,e,n,i,s,o,l,u)}function Ev(t){return new fg(t)}function cT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RI(t){return t.collectionGroup!==null}function ed(t){const e=je(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new en(Tn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Pm(o,i))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new Pm(Tn.keyField(),i))}return e.Ie}function xs(t){const e=je(t);return e.Ee||(e.Ee=DI(e,ed(t))),e.Ee}function DI(t,e){if(t.limitType==="F")return lT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Pm(s.field,o)}));const n=t.endAt?new Om(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Om(t.startAt.position,t.startAt.inclusive):null;return lT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function ex(t,e,n){return new fg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mg(t,e){return Sv(xs(t),xs(e))&&t.limitType===e.limitType}function aA(t){return`${Tv(xs(t))}|lt:${t.limitType}`}function Ll(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((s=>sA(s))).join(", ")}]`),dg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((s=>oc(s))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((s=>oc(s))).join(",")),`Target(${i})`})(xs(t))}; limitType=${t.limitType})`}function gg(t,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):be.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(t,e)&&(function(i,s){for(const o of ed(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(i,s){return!(i.startAt&&!(function(l,u,f){const m=aT(l,u,f);return l.inclusive?m<=0:m<0})(i.startAt,ed(i),s)||i.endAt&&!(function(l,u,f){const m=aT(l,u,f);return l.inclusive?m>=0:m>0})(i.endAt,ed(i),s))})(t,e)}function MI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oA(t){return(e,n)=>{let i=!1;for(const s of ed(t)){const o=II(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function II(t,e,n){const i=t.field.isKeyField()?be.comparator(e.key,n.key):(function(o,l,u){const f=l.data.field(o),m=u.data.field(o);return f!==null&&m!==null?ac(f,m):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,((n,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return $5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new kt(be.comparator);function gr(){return OI}const lA=new kt(be.comparator);function zu(...t){let e=lA;for(const n of t)e=e.insert(n.key,n);return e}function cA(t){let e=lA;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function yo(){return td()}function uA(){return td()}function td(){return new Vo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const PI=new kt(be.comparator),VI=new en(be.comparator);function Ue(...t){let e=VI;for(const n of t)e=e.add(n);return e}const LI=new en(Le);function UI(){return LI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dm(e)?"-0":e}}function dA(t){return{integerValue:""+t}}function BI(t,e){return hI(e)?dA(e):kv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this._=void 0}}function FI(t,e,n){return t instanceof Vm?(function(s,o){const l={fields:{[Y5]:{stringValue:W5},[X5]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&wv(o)&&(o=hg(o)),o&&(l.fields[K5]=o),{mapValue:l}})(n,e):t instanceof _d?fA(t,e):t instanceof Td?mA(t,e):(function(s,o){const l=hA(s,o),u=uT(l)+uT(s.Ae);return Qy(l)&&Qy(s.Ae)?dA(u):kv(s.serializer,u)})(t,e)}function zI(t,e,n){return t instanceof _d?fA(t,e):t instanceof Td?mA(t,e):n}function hA(t,e){return t instanceof Lm?(function(i){return Qy(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Vm extends pg{}class _d extends pg{constructor(e){super(),this.elements=e}}function fA(t,e){const n=gA(e);for(const i of t.elements)n.some((s=>ks(s,i)))||n.push(i);return{arrayValue:{values:n}}}class Td extends pg{constructor(e){super(),this.elements=e}}function mA(t,e){let n=gA(e);for(const i of t.elements)n=n.filter((s=>!ks(s,i)));return{arrayValue:{values:n}}}class Lm extends pg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function uT(t){return Vt(t.integerValue||t.doubleValue)}function gA(t){return _v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HI(t,e){return t.field.isEqual(e.field)&&(function(i,s){return i instanceof _d&&s instanceof _d||i instanceof Td&&s instanceof Td?rc(i.elements,s.elements,ks):i instanceof Lm&&s instanceof Lm?ks(i.Ae,s.Ae):i instanceof Vm&&s instanceof Vm})(t.transform,e.transform)}class qI{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yg{}function pA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xA(t.key,ur.none()):new Kd(t.key,t.data,ur.none());{const n=t.data,i=Ei.empty();let s=new en(Tn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Lo(t.key,i,new qi(s.toArray()),ur.none())}}function $I(t,e,n){t instanceof Kd?(function(s,o,l){const u=s.value.clone(),f=hT(s.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Lo?(function(s,o,l){if(!hm(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=hT(s.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(yA(s)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function nd(t,e,n,i){return t instanceof Kd?(function(o,l,u,f){if(!hm(o.precondition,l))return u;const m=o.value.clone(),p=fT(o.fieldTransforms,f,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,i):t instanceof Lo?(function(o,l,u,f){if(!hm(o.precondition,l))return u;const m=fT(o.fieldTransforms,f,l),p=l.data;return p.setAll(yA(o)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(t,e,n,i):(function(o,l,u){return hm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function GI(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=hA(i.transform,s||null);o!=null&&(n===null&&(n=Ei.empty()),n.set(i.field,o))}return n||null}function dT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&rc(i,s,((o,l)=>HI(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kd extends yg{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Lo extends yg{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function hT(t,e,n){const i=new Map;tt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,u=e.data.field(o.field);i.set(o.field,zI(l,u,n[s]))}return i}function fT(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,FI(o,l,e))}return i}class xA extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WI extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&$I(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=nd(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=nd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=uA();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(s.key)?null:u;const f=pA(l,u);f!==null&&i.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ce.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,((n,i)=>dT(n,i)))&&rc(this.baseMutations,e.baseMutations,((n,i)=>dT(n,i)))}}class Av{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){tt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return PI})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new Av(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,qe;function QI(t){switch(t){case ce.OK:return Te(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function vA(t){if(t===void 0)return mr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case qt.OK:return ce.OK;case qt.CANCELLED:return ce.CANCELLED;case qt.UNKNOWN:return ce.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ce.INTERNAL;case qt.UNAVAILABLE:return ce.UNAVAILABLE;case qt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case qt.NOT_FOUND:return ce.NOT_FOUND;case qt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case qt.ABORTED:return ce.ABORTED;case qt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case qt.DATA_LOSS:return ce.DATA_LOSS;default:return Te(39323,{code:t})}}(qe=qt||(qt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new la([4294967295,4294967295],0);function mT(t){const e=ZI().encode(t),n=new O5;return n.update(e),new Uint8Array(n.digest())}function gT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new la([n,i],0),new la([s,o],0)]}class Nv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(i<0)throw new Hu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=la.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(la.fromNumber(i)));return s.compare(JI)===1&&(s=new la([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mT(e),[i,s]=gT(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,s,o);if(!this.we(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Nv(o,s,n);return i.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=mT(e),[i,s]=gT(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,s,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Xd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new xg(Ce.min(),s,new kt(Le),gr(),Ue())}}class Xd{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Xd(i,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,i,s){this.be=e,this.removedTargetIds=n,this.key=i,this.De=s}}class bA{constructor(e,n){this.targetId=e,this.Ce=n}}class wA{constructor(e,n,i=En.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class pT{constructor(){this.ve=0,this.Fe=yT(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),i=Ue();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Te(38017,{changeType:o})}})),new Xd(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=yT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eO{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=Of(),this.He=Of(),this.Ye=new kt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Jy(o))if(i===0){const l=new be(o.path);this.et(n,l,Dn.newNoDocument(l,Ce.min()))}else tt(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,u;try{l=ga(i).toUint8Array()}catch(f){if(f instanceof G5)return sc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Nv(l,s,o)}catch(f){return sc(f instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&Jy(u.target)){const f=new be(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Dn.newNoDocument(f,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let i=Ue();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new xg(e,n,this.Ye,this.je,i);return this.je=gr(),this.Je=Of(),this.He=Of(),this.Ye=new kt(Le),s}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new pT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new en(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new en(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Of(){return new kt(be.comparator)}function yT(){return new kt(be.comparator)}const tO={asc:"ASCENDING",desc:"DESCENDING"},nO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iO={and:"AND",or:"OR"};class sO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tx(t,e){return t.useProto3Json||dg(e)?e:{value:e}}function Um(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _A(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rO(t,e){return Um(t,e.toTimestamp())}function vs(t){return tt(!!t,49232),Ce.fromTimestamp((function(n){const i=ma(n);return new pt(i.seconds,i.nanos)})(t))}function Cv(t,e){return nx(t,e).canonicalString()}function nx(t,e){const n=(function(s){return new St(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function TA(t){const e=St.fromString(t);return tt(NA(e),10190,{key:e.toString()}),e}function ix(t,e){return Cv(t.databaseId,e.path)}function Kp(t,e){const n=TA(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(EA(n))}function SA(t,e){return Cv(t.databaseId,e)}function aO(t){const e=TA(t);return e.length===4?St.emptyPath():EA(e)}function sx(t){return new St(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EA(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xT(t,e,n){return{name:ix(t,e),fields:n.value.mapValue.fields}}function oO(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Te(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(m,p){return m.useProto3Json?(tt(p===void 0||typeof p=="string",58123),En.fromBase64String(p||"")):(tt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),En.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const p=m.code===void 0?ce.UNKNOWN:vA(m.code);return new ye(p,m.message||"")})(l);n=new wA(i,s,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Kp(t,i.document.name),o=vs(i.document.updateTime),l=i.document.createTime?vs(i.document.createTime):Ce.min(),u=new Ei({mapValue:{fields:i.document.fields}}),f=Dn.newFoundDocument(s,o,l,u),m=i.targetIds||[],p=i.removedTargetIds||[];n=new fm(m,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Kp(t,i.document),o=i.readTime?vs(i.readTime):Ce.min(),l=Dn.newNoDocument(s,o),u=i.removedTargetIds||[];n=new fm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Kp(t,i.document),o=i.removedTargetIds||[];n=new fm([],o,s,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new XI(s,o),u=i.targetId;n=new bA(u,l)}}return n}function lO(t,e){let n;if(e instanceof Kd)n={update:xT(t,e.key,e.value)};else if(e instanceof xA)n={delete:ix(t,e.key)};else if(e instanceof Lo)n={update:xT(t,e.key,e.data),updateMask:yO(e.fieldMask)};else{if(!(e instanceof WI))return Te(16599,{Vt:e.type});n={verify:ix(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof Vm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _d)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Td)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Lm)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Te(20930,{transform:l.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:rO(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te(27497)})(t,e.precondition)),n}function cO(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(s,o){let l=s.updateTime?vs(s.updateTime):vs(o);return l.isEqual(Ce.min())&&(l=vs(o)),new qI(l,s.transformResults||[])})(n,e)))):[]}function uO(t,e){return{documents:[SA(t,e.path)]}}function dO(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=SA(t,s);const o=(function(m){if(m.length!==0)return AA(As.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(m){if(m.length!==0)return m.map((p=>(function(b){return{field:Ul(b.field),direction:mO(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=tx(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:s}}function hO(t){let e=aO(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){tt(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(v){const b=kA(v);return b instanceof As&&nA(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((b=>(function(A){return new Pm(Bl(A.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let b;return b=typeof v=="object"?v.value:v,dg(b)?null:b})(n.limit));let f=null;n.startAt&&(f=(function(v){const b=!!v.before,_=v.values||[];return new Om(_,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const b=!v.before,_=v.values||[];return new Om(_,b)})(n.endAt)),jI(e,s,l,o,u,"F",f,m)}function fO(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Bl(n.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Bl(n.unaryFilter.field);return Zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bl(n.unaryFilter.field);return Zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Bl(n.unaryFilter.field);return Zt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Zt.create(Bl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return As.create(n.compositeFilter.filters.map((i=>kA(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function mO(t){return tO[t]}function gO(t){return nO[t]}function pO(t){return iO[t]}function Ul(t){return{fieldPath:t.canonicalString()}}function Bl(t){return Tn.fromServerFormat(t.fieldPath)}function AA(t){return t instanceof Zt?(function(n){if(n.op==="=="){if(rT(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NAN"}};if(sT(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rT(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NAN"}};if(sT(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(n.field),op:gO(n.op),value:n.value}}})(t):t instanceof As?(function(n){const i=n.getFilters().map((s=>AA(s)));return i.length===1?i[0]:{compositeFilter:{op:pO(n.op),filters:i}}})(t):Te(54877,{filter:t})}function yO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function NA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,i,s,o=Ce.min(),l=Ce.min(),u=En.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.yt=e}}function vO(t){const e=hO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ex(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.Cn=new wO}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(fa.min())}updateCollectionGroup(e,n,i){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class wO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new en(St.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new en(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CA=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(CA,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lc(0)}static cr(){return new lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="LruGarbageCollector",_O=1048576;function wT([t,e],[n,i]){const s=Le(t,n);return s===0?Le(e,i):s}class TO{constructor(e){this.Ir=e,this.buffer=new en(wT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();wT(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(bT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wc(n)?me(bT,"Ignoring IndexedDB error during garbage collection: ",n):await bc(n)}await this.Vr(3e5)}))}}class EO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(ug.ce);const i=new TO(n);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(vT)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,o,l,u,f,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(i=v,u=Date.now(),this.removeTargets(e,i,n)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(m=Date.now(),Vl()<=Ve.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-p}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function kO(t,e){return new EO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.changes=new Vo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?oe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(i!==null&&nd(i.mutation,s,qi.empty(),pt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ue()){const s=yo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,i).next((o=>{let l=zu();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const i=yo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ue())))}populateOverlays(e,n,i){const s=[];return i.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,i,s){let o=gr();const l=td(),u=(function(){return td()})();return n.forEach(((f,m)=>{const p=i.get(m.key);s.has(m.key)&&(p===void 0||p.mutation instanceof Lo)?o=o.insert(m.key,m):p!==void 0?(l.set(m.key,p.mutation.getFieldMask()),nd(p.mutation,m,p.mutation.getFieldMask(),pt.now())):l.set(m.key,qi.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((m,p)=>l.set(m,p))),n.forEach(((m,p)=>u.set(m,new NO(p,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,n){const i=td();let s=new kt(((l,u)=>l-u)),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let p=i.get(f)||qi.empty();p=u.applyToLocalView(m,p),i.set(f,p);const v=(s.get(u.batchId)||Ue()).add(f);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),m=f.key,p=f.value,v=uA();p.forEach((b=>{if(!o.has(b)){const _=pA(n.get(b),i.get(b));_!==null&&v.set(b,_),o=o.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,v))}return oe.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,s){return(function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):oe.resolve(yo());let u=xd,f=o;return l.next((m=>oe.forEach(m,((p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(p)?oe.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{f=f.insert(p,b)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,f,m,Ue()))).next((p=>({batchId:u,changes:cA(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((i=>{let s=zu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=zu();return this.indexManager.getCollectionParents(e,o).next((u=>oe.forEach(u,(f=>{const m=(function(v,b){return new fg(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next((p=>{p.forEach(((v,b)=>{l=l.insert(v,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s)))).next((l=>{o.forEach(((f,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,Dn.newInvalidDocument(p)))}));let u=zu();return l.forEach(((f,m)=>{const p=o.get(f);p!==void 0&&nd(p.mutation,m,qi.empty(),pt.now()),gg(n,m)&&(u=u.insert(f,m))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:vs(s.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:vO(s.bundledQuery),readTime:vs(s.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.overlays=new kt(be.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=yo();return oe.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((s,o)=>{this.St(e,n,o)})),oe.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),oe.resolve()}getOverlaysForCollection(e,n,i){const s=yo(),o=n.length+1,l=new be(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new kt(((m,p)=>m-p));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let p=o.get(m.largestBatchId);p===null&&(p=yo(),o=o.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const u=yo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,p)=>u.set(m,p))),!(u.size()>=s)););return oe.resolve(u)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new KI(n,i));let o=this.qr.get(n);o===void 0&&(o=Ue(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.Qr=new en(cn.$r),this.Ur=new en(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new cn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new cn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new be(new St([])),i=new cn(n,e),s=new cn(n,e+1),o=[];return this.Ur.forEachInRange([i,s],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new St([])),i=new cn(n,e),s=new cn(n,e+1);let o=Ue();return this.Ur.forEachInRange([i,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new cn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class cn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new en(cn.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new YI(o,n,i,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new cn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),o=s<0?0:s;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?bv:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new cn(n,0),s=new cn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],(l=>{const u=this.Xr(l.Yr);o.push(u)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new en(Le);return n.forEach((s=>{const o=new cn(s,0),l=new cn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{i=i.add(u.Yr)}))})),oe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;be.isDocumentKey(o)||(o=o.child(""));const l=new cn(new be(o),0);let u=new en(Le);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(u=u.add(f.Yr)),!0)}),l),oe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return oe.forEach(n.mutations,(s=>{const o=new cn(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new cn(n,0),s=this.Zr.firstAfterOrEqual(i);return oe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.ri=e,this.docs=(function(){return new kt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return oe.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let i=gr();return n.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Dn.newInvalidDocument(s))})),oe.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=gr();const l=n.path,u=new be(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:p}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||lI(oI(p),i)<=0||(s.has(p.key)||gg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Te(9500)}ii(e,n){return oe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new OO(this)}getSize(e){return oe.resolve(this.size)}}class OO extends AO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.persistence=e,this.si=new Vo((n=>Tv(n)),Sv),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new jv,this.targetCount=0,this.ai=lc.ur()}forEachTarget(e,n){return this.si.forEach(((i,s)=>n(s))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),oe.waitFor(o).next((()=>s))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return oe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),oe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return oe.resolve(i)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.ui={},this.overlays={},this.ci=new ug(0),this.li=!1,this.li=!0,this.hi=new DO,this.referenceDelegate=e(this),this.Pi=new PO(this),this.indexManager=new bO,this.remoteDocumentCache=(function(s){return new IO(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new xO(n),this.Ii=new jO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new MO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const s=new VO(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return oe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class VO extends uI{constructor(e){super(),this.currentSequenceNumber=e}}class Rv{constructor(e){this.persistence=e,this.Ri=new jv,this.Vi=null}static mi(e){return new Rv(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),oe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(i=>{const s=be.fromPath(i);return this.gi(e,s).next((o=>{o||n.removeEntry(s,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bm{constructor(e,n){this.persistence=e,this.pi=new Vo((i=>fI(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=kO(this,n)}static mi(e,n){return new Bm(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((s=>i+s))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((i,s)=>this.br(e,i,s).next((o=>o?oe.resolve():n(s)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((u=>{u||(i++,o.removeEntry(l,Ce.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=um(e.data.value)),n}br(e,n,i){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return oe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=Ue(),s=Ue();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Dv(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _R()?8:dI(Pn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,s,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new LO;return this.Ss(e,n,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>o.result))}bs(e,n,i,s){return i.documentReadCount<this.fs?(Vl()<=Ve.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Vl()<=Ve.DEBUG&&me("QueryEngine","Query:",Ll(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Vl()<=Ve.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xs(n))):oe.resolve())}ys(e,n){if(cT(n))return oe.resolve(null);let i=xs(n);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=ex(n,null,"F"),i=xs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const l=Ue(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,i).next((f=>{const m=this.Ds(n,u);return this.Cs(n,m,l,f.readTime)?this.ys(e,ex(n,null,"F")):this.vs(e,m,n,f)}))))})))))}ws(e,n,i,s){return cT(n)||s.isEqual(Ce.min())?oe.resolve(null):this.ps.getDocuments(e,i).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,i,s)?oe.resolve(null):(Vl()<=Ve.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ll(n)),this.vs(e,l,n,aI(s,xd)).next((u=>u)))}))}Ds(e,n){let i=new en(oA(e));return n.forEach(((s,o)=>{gg(e,o)&&(i=i.add(o))})),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,i){return Vl()<=Ve.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ll(n)),this.ps.getDocumentsMatchingQuery(e,n,fa.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LocalStore",BO=3e8;class FO{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new kt(Le),this.xs=new Vo((o=>Tv(o)),Sv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function zO(t,e,n,i){return new FO(t,e,n,i)}async function RA(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let f=Ue();for(const m of s){l.push(m.batchId);for(const p of m.mutations)f=f.add(p.key)}for(const m of o){u.push(m.batchId);for(const p of m.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function HO(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,m,p){const v=m.batch,b=v.keys();let _=oe.resolve();return b.forEach((A=>{_=_.next((()=>p.getEntry(f,A))).next((C=>{const j=m.docVersions.get(A);tt(j!==null,48541),C.version.compareTo(j)<0&&(v.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),p.addEntry(C)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(f,v)))})(n,i,e,o).next((()=>o.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let f=Ue();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(i,s)))}))}function DA(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function qO(t,e){const n=je(t),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((p,v)=>{const b=s.get(v);if(!b)return;u.push(n.Pi.removeMatchingKeys(o,p.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(o,p.addedDocuments,v))));let _=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(En.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,i)),s=s.insert(v,_),(function(C,j,P){return C.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=BO?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(b,_,p)&&u.push(n.Pi.updateTargetData(o,_))}));let f=gr(),m=Ue();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push($O(o,l,e.documentUpdates).next((p=>{f=p.ks,m=p.qs}))),!i.isEqual(Ce.min())){const p=n.Pi.getLastRemoteSnapshotVersion(o).next((v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(p)}return oe.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(n.Ms=s,o)))}function $O(t,e,n){let i=Ue(),s=Ue();return n.forEach((o=>i=i.add(o))),e.getEntries(t,i).next((o=>{let l=gr();return n.forEach(((u,f)=>{const m=o.get(u);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(u)),f.isNoDocument()&&f.version.isEqual(Ce.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):me(Mv,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",f.version)})),{ks:l,qs:s}}))}function GO(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=bv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function WO(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return n.Pi.getTargetData(i,e).next((o=>o?(s=o,oe.resolve(s)):n.Pi.allocateTargetId(i).next((l=>(s=new na(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function rx(t,e,n){const i=je(t),s=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!wc(l))throw l;me(Mv,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function _T(t,e,n){const i=je(t);let s=Ce.min(),o=Ue();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,m,p){const v=je(f),b=v.xs.get(p);return b!==void 0?oe.resolve(v.Ms.get(b)):v.Pi.getTargetData(m,p)})(i,l,xs(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,e,n?s:Ce.min(),n?o:Ue()))).next((u=>(YO(i,MI(e),u),{documents:u,Qs:o})))))}function YO(t,e,n){let i=t.Os.get(e)||Ce.min();n.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),t.Os.set(e,i)}class TT{constructor(){this.activeTargetIds=UI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KO{constructor(){this.Mo=new TT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="ConnectivityMonitor";class ET{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(ST,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(ST,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=null;function ax(){return Pf===null?Pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pf++,"0x"+Pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="RestConnection",QO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Mm?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,o){const l=ax(),u=this.zo(e,n.toUriEncodedString());me(Xp,`Sending RPC '${e}' ${l}:`,u,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:m}=new URL(u),p=pc(m);return this.Jo(e,u,f,i,p).then((v=>(me(Xp,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw sc(Xp,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",i),v}))}Ho(e,n,i,s,o,l){return this.Go(e,n,i,s,o)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const i=QO[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class eP extends ZO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,o){const l=ax();return new Promise(((u,f)=>{const m=new P5;m.setWithCredentials(!0),m.listenOnce(V5.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case cm.NO_ERROR:const v=m.getResponseJson();me(Cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case cm.TIMEOUT:me(Cn,`RPC '${e}' ${l} timed out`),f(new ye(ce.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:const b=m.getStatus();if(me(Cn,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const A=_?.error;if(A&&A.status&&A.message){const C=(function(P){const U=P.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(U)>=0?U:ce.UNKNOWN})(A.status);f(new ye(C,A.message))}else f(new ye(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ye(ce.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(Cn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(s);me(Cn,`RPC '${e}' ${l} sending request:`,s),m.send(n,"POST",p,i,15)}))}T_(e,n,i){const s=ax(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=B5(),u=U5(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const p=o.join("");me(Cn,`Creating RPC '${e}' stream ${s}: ${p}`,f);const v=l.createWebChannel(p,f);this.I_(v);let b=!1,_=!1;const A=new JO({Yo:j=>{_?me(Cn,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(b||(me(Cn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),b=!0),me(Cn,`RPC '${e}' stream ${s} sending:`,j),v.send(j))},Zo:()=>v.close()}),C=(j,P,U)=>{j.listen(P,(z=>{try{U(z)}catch(K){setTimeout((()=>{throw K}),0)}}))};return C(v,Fu.EventType.OPEN,(()=>{_||(me(Cn,`RPC '${e}' stream ${s} transport opened.`),A.o_())})),C(v,Fu.EventType.CLOSE,(()=>{_||(_=!0,me(Cn,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(v))})),C(v,Fu.EventType.ERROR,(j=>{_||(_=!0,sc(Cn,`RPC '${e}' stream ${s} transport errored. Name:`,j.name,"Message:",j.message),A.a_(new ye(ce.UNAVAILABLE,"The operation could not be completed")))})),C(v,Fu.EventType.MESSAGE,(j=>{if(!_){const P=j.data[0];tt(!!P,16349);const U=P,z=U?.error||U[0]?.error;if(z){me(Cn,`RPC '${e}' stream ${s} received error:`,z);const K=z.status;let Q=(function(E){const N=qt[E];if(N!==void 0)return vA(N)})(K),te=z.message;Q===void 0&&(Q=ce.INTERNAL,te="Unknown error status: "+K+" with message "+z.message),_=!0,A.a_(new ye(Q,te)),v.close()}else me(Cn,`RPC '${e}' stream ${s} received:`,P),A.u_(P)}})),C(u,L5.STAT_EVENT,(j=>{j.stat===Yy.PROXY?me(Cn,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===Yy.NOPROXY&&me(Cn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Qp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t){return new sO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="PersistentStream";class IA{constructor(e,n,i,s,o,l,u,f){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===n&&this.G_(i,s)}),(i=>{e((()=>{const s=new ye(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(kT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(kT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tP extends IA{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oO(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Ce.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?vs(l.readTime):Ce.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=sx(this.serializer),n.addTarget=(function(o,l){let u;const f=l.target;if(u=Jy(f)?{documents:uO(o,f)}:{query:dO(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=_A(o,l.resumeToken);const m=tx(o,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ce.min())>0){u.readTime=Um(o,l.snapshotVersion.toTimestamp());const m=tx(o,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const i=fO(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=sx(this.serializer),n.removeTarget=e,this.q_(n)}}class nP extends IA{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cO(e.writeResults,e.commitTime),i=vs(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=sx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>lO(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{}class sP extends iP{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,nx(n,i),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(ce.UNKNOWN,o.toString())}))}Ho(e,n,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,nx(n,i),s,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ce.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="RemoteStore";class aP{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{Uo(this)&&(me(Io,"Restarting streams for network reachability change."),await(async function(f){const m=je(f);m.Ea.add(4),await Qd(m),m.Ra.set("Unknown"),m.Ea.delete(4),await bg(m)})(this))}))})),this.Ra=new rP(i,s)}}async function bg(t){if(Uo(t))for(const e of t.da)await e(!0)}async function Qd(t){for(const e of t.da)await e(!1)}function OA(t,e){const n=je(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vv(n)?Pv(n):_c(n).O_()&&Ov(n,e))}function Iv(t,e){const n=je(t),i=_c(n);n.Ia.delete(e),i.O_()&&PA(n,e),n.Ia.size===0&&(i.O_()?i.L_():Uo(n)&&n.Ra.set("Unknown"))}function Ov(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).Y_(e)}function PA(t,e){t.Va.Ue(e),_c(t).Z_(e)}function Pv(t){t.Va=new eO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.Ra.ua()}function Vv(t){return Uo(t)&&!_c(t).x_()&&t.Ia.size>0}function Uo(t){return je(t).Ea.size===0}function VA(t){t.Va=void 0}async function oP(t){t.Ra.set("Online")}async function lP(t){t.Ia.forEach(((e,n)=>{Ov(t,e)}))}async function cP(t,e){VA(t),Vv(t)?(t.Ra.ha(e),Pv(t)):t.Ra.set("Unknown")}async function uP(t,e,n){if(t.Ra.set("Online"),e instanceof wA&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(t,e)}catch(i){me(Io,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Fm(t,i)}else if(e instanceof fm?t.Va.Ze(e):e instanceof bA?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const i=await DA(t.localStore);n.compareTo(i)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(m);p&&o.Ia.set(m,p.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,m)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(En.EMPTY_BYTE_STRING,p.snapshotVersion)),PA(o,f);const v=new na(p.target,f,m,p.sequenceNumber);Ov(o,v)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(i){me(Io,"Failed to raise snapshot:",i),await Fm(t,i)}}async function Fm(t,e,n){if(!wc(e))throw e;t.Ea.add(1),await Qd(t),t.Ra.set("Offline"),n||(n=()=>DA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bg(t)}))}function LA(t,e){return e().catch((n=>Fm(t,n,e)))}async function wg(t){const e=je(t),n=ya(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bv;for(;dP(e);)try{const s=await GO(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,hP(e,s)}catch(s){await Fm(e,s)}UA(e)&&BA(e)}function dP(t){return Uo(t)&&t.Ta.length<10}function hP(t,e){t.Ta.push(e);const n=ya(t);n.O_()&&n.X_&&n.ea(e.mutations)}function UA(t){return Uo(t)&&!ya(t).x_()&&t.Ta.length>0}function BA(t){ya(t).start()}async function fP(t){ya(t).ra()}async function mP(t){const e=ya(t);for(const n of t.Ta)e.ea(n.mutations)}async function gP(t,e,n){const i=t.Ta.shift(),s=Av.from(i,e,n);await LA(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await wg(t)}async function pP(t,e){e&&ya(t).X_&&await(async function(i,s){if((function(l){return QI(l)&&l!==ce.ABORTED})(s.code)){const o=i.Ta.shift();ya(i).B_(),await LA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await wg(i)}})(t,e),UA(t)&&BA(t)}async function AT(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),me(Io,"RemoteStore received new credentials");const i=Uo(n);n.Ea.add(3),await Qd(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bg(n)}async function yP(t,e){const n=je(t);e?(n.Ea.delete(2),await bg(n)):e||(n.Ea.add(2),await Qd(n),n.Ra.set("Unknown"))}function _c(t){return t.ma||(t.ma=(function(n,i,s){const o=je(n);return o.sa(),new tP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:oP.bind(null,t),t_:lP.bind(null,t),r_:cP.bind(null,t),H_:uP.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Vv(t)?Pv(t):t.Ra.set("Unknown")):(await t.ma.stop(),VA(t))}))),t.ma}function ya(t){return t.fa||(t.fa=(function(n,i,s){const o=je(n);return o.sa(),new nP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:fP.bind(null,t),r_:pP.bind(null,t),ta:mP.bind(null,t),na:gP.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wg(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,u=new Lv(e,n,l,s,o);return u.start(i),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uv(t,e){if(mr("AsyncQueue",`${e}: ${t}`),wc(t))return new ye(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(e){return new Zl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||be.comparator(n.key,i.key):(n,i)=>be.comparator(n.key,i.key),this.keyedMap=zu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Zl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.ga=new kt(be.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class cc{constructor(e,n,i,s,o,l,u,f,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new cc(e,n,Zl.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vP{constructor(){this.queries=CT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=je(n),o=s.queries;s.queries=CT(),o.forEach(((l,u)=>{for(const f of u.Sa)f.onError(i)}))})(this,new ye(ce.ABORTED,"Firestore shutting down"))}}function CT(){return new Vo((t=>aA(t)),mg)}async function bP(t,e){const n=je(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(i=2):(o=new xP,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=Uv(l,`Initialization of query '${Ll(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Bv(n)}async function wP(t,e){const n=je(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function _P(t,e){const n=je(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(s)&&(i=!0);l.wa=s}}i&&Bv(n)}function TP(t,e,n){const i=je(t),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);i.queries.delete(e)}function Bv(t){t.Ca.forEach((e=>{e.next()}))}var ox,jT;(jT=ox||(ox={})).Ma="default",jT.Cache="cache";class SP{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new cc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ox.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.key=e}}class zA{constructor(e){this.key=e}}class EP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=oA(e),this.tu=new Zl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new NT,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,v)=>{const b=s.get(p),_=gg(this.query,v)?v:null,A=!!b&&this.mutatedKeys.has(b.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let j=!1;b&&_?b.data.isEqual(_.data)?A!==C&&(i.track({type:3,doc:_}),j=!0):this.su(b,_)||(i.track({type:2,doc:_}),j=!0,(f&&this.eu(_,f)>0||m&&this.eu(_,m)<0)&&(u=!0)):!b&&_?(i.track({type:0,doc:_}),j=!0):b&&!_&&(i.track({type:1,doc:b}),j=!0,(f||m)&&(u=!0)),j&&(_?(l=l.add(_),o=C?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,v)=>(function(_,A){const C=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:j})}};return C(_)-C(A)})(p.type,v.type)||this.eu(p.doc,v.doc))),this.ou(i),s=s??!1;const u=n&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,m=f!==this.Za;return this.Za=f,l.length!==0||m?{snapshot:new cc(this.query,e.tu,o,l,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new zA(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new FA(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fv="SyncEngine";class kP{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class AP{constructor(e){this.key=e,this.hu=!1}}class NP{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Vo((u=>aA(u)),mg),this.Iu=new Map,this.Eu=new Set,this.du=new kt(be.comparator),this.Au=new Map,this.Ru=new jv,this.Vu={},this.mu=new Map,this.fu=lc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CP(t,e,n=!0){const i=YA(t);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await HA(i,e,n,!0),s}async function jP(t,e){const n=YA(t);await HA(n,e,!0,!1)}async function HA(t,e,n,i){const s=await WO(t.localStore,xs(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return i&&(u=await RP(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&OA(t.remoteStore,s),u}async function RP(t,e,n,i,s){t.pu=(v,b,_)=>(async function(C,j,P,U){let z=j.view.ru(P);z.Cs&&(z=await _T(C.localStore,j.query,!1).then((({documents:L})=>j.view.ru(L,z))));const K=U&&U.targetChanges.get(j.targetId),Q=U&&U.targetMismatches.get(j.targetId)!=null,te=j.view.applyChanges(z,C.isPrimaryClient,K,Q);return DT(C,j.targetId,te.au),te.snapshot})(t,v,b,_);const o=await _T(t.localStore,e,!0),l=new EP(e,o.Qs),u=l.ru(o.documents),f=Xd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),m=l.applyChanges(u,t.isPrimaryClient,f);DT(t,n,m.au);const p=new kP(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function DP(t,e,n){const i=je(t),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((l=>!mg(l,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await rx(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Iv(i.remoteStore,s.targetId),lx(i,s.targetId)})).catch(bc)):(lx(i,s.targetId),await rx(i.localStore,s.targetId,!0))}async function MP(t,e){const n=je(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Iv(n.remoteStore,i.targetId))}async function IP(t,e,n){const i=FP(t);try{const s=await(function(l,u){const f=je(l),m=pt.now(),p=u.reduce(((_,A)=>_.add(A.key)),Ue());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let A=gr(),C=Ue();return f.Ns.getEntries(_,p).next((j=>{A=j,A.forEach(((P,U)=>{U.isValidDocument()||(C=C.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,A))).next((j=>{v=j;const P=[];for(const U of u){const z=GI(U,v.get(U.key).overlayedDocument);z!=null&&P.push(new Lo(U.key,z,J5(z.value.mapValue),ur.exists(!0)))}return f.mutationQueue.addMutationBatch(_,m,P,u)})).next((j=>{b=j;const P=j.applyToLocalDocumentSet(v,C);return f.documentOverlayCache.saveOverlays(_,j.batchId,P)}))})).then((()=>({batchId:b.batchId,changes:cA(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(l,u,f){let m=l.Vu[l.currentUser.toKey()];m||(m=new kt(Le)),m=m.insert(u,f),l.Vu[l.currentUser.toKey()]=m})(i,s.batchId,n),await Zd(i,s.changes),await wg(i.remoteStore)}catch(s){const o=Uv(s,"Failed to persist write");n.reject(o)}}async function qA(t,e){const n=je(t);try{const i=await qO(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=n.Au.get(o);l&&(tt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?tt(l.hu,14607):s.removedDocuments.size>0&&(tt(l.hu,42227),l.hu=!1))})),await Zd(n,i,e)}catch(i){await bc(i)}}function RT(t,e,n){const i=je(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const f=je(l);f.onlineState=u;let m=!1;f.queries.forEach(((p,v)=>{for(const b of v.Sa)b.va(u)&&(m=!0)})),m&&Bv(f)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function OP(t,e,n){const i=je(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),o=s&&s.key;if(o){let l=new kt(be.comparator);l=l.insert(o,Dn.newNoDocument(o,Ce.min()));const u=Ue().add(o),f=new xg(Ce.min(),new Map,new kt(Le),l,u);await qA(i,f),i.du=i.du.remove(o),i.Au.delete(e),zv(i)}else await rx(i.localStore,e,!1).then((()=>lx(i,e,n))).catch(bc)}async function PP(t,e){const n=je(t),i=e.batch.batchId;try{const s=await HO(n.localStore,e);GA(n,i,null),$A(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Zd(n,s)}catch(s){await bc(s)}}async function VP(t,e,n){const i=je(t);try{const s=await(function(l,u){const f=je(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return f.mutationQueue.lookupMutationBatch(m,u).next((v=>(tt(v!==null,37113),p=v.keys(),f.mutationQueue.removeMutationBatch(m,v)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>f.localDocuments.getDocuments(m,p)))}))})(i.localStore,e);GA(i,e,n),$A(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Zd(i,s)}catch(s){await bc(s)}}function $A(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function GA(t,e,n){const i=je(t);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function lx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||WA(t,i)}))}function WA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Iv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),zv(t))}function DT(t,e,n){for(const i of n)i instanceof FA?(t.Ru.addReference(i.key,e),LP(t,i)):i instanceof zA?(me(Fv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||WA(t,i.key)):Te(19791,{wu:i})}function LP(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(me(Fv,"New document in limbo: "+n),t.Eu.add(i),zv(t))}function zv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(St.fromString(e)),i=t.fu.next();t.Au.set(i,new AP(n)),t.du=t.du.insert(n,i),OA(t.remoteStore,new na(xs(Ev(n.path)),i,"TargetPurposeLimboResolution",ug.ce))}}async function Zd(t,e,n){const i=je(t),s=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,f)=>{l.push(i.pu(f,e,n).then((m=>{if((m||n)&&i.isPrimaryClient){const p=m?!m.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(m){s.push(m);const p=Dv.As(f.targetId,m);o.push(p)}})))})),await Promise.all(l),i.Pu.H_(s),await(async function(f,m){const p=je(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>oe.forEach(m,(b=>oe.forEach(b.Es,(_=>p.persistence.referenceDelegate.addReference(v,b.targetId,_))).next((()=>oe.forEach(b.ds,(_=>p.persistence.referenceDelegate.removeReference(v,b.targetId,_)))))))))}catch(v){if(!wc(v))throw v;me(Mv,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const _=p.Ms.get(b),A=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(b,C)}}})(i.localStore,o))}async function UP(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){me(Fv,"User change. New user:",e.toKey());const i=await RA(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new ye(ce.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Zd(n,i.Ls)}}function BP(t,e){const n=je(t),i=n.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let s=Ue();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const u=n.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function YA(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OP.bind(null,e),e.Pu.H_=_P.bind(null,e.eventManager),e.Pu.yu=TP.bind(null,e.eventManager),e}function FP(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VP.bind(null,e),e}class zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zO(this.persistence,new UO,e.initialUser,this.serializer)}Cu(e){return new jA(Rv.mi,this.serializer)}Du(e){return new KO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zm.provider={build:()=>new zm};class zP extends zm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof Bm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new SO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new jA((i=>Bm.mi(i,n)),this.serializer)}}class cx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UP.bind(null,this.syncEngine),await yP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vP})()}createDatastore(e){const n=vg(e.databaseInfo.databaseId),i=(function(o){return new eP(o)})(e.databaseInfo);return(function(o,l,u,f){return new sP(o,l,u,f)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,s,o,l,u){return new aP(i,s,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>RT(this.syncEngine,n,0)),(function(){return ET.v()?new ET:new XO})())}createSyncEngine(e,n){return(function(s,o,l,u,f,m,p){const v=new NP(s,o,l,u,f,m);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=je(n);me(Io,"RemoteStore shutting down."),i.Ea.add(5),await Qd(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cx.provider={build:()=>new cx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="FirestoreClient";class qP{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Rn.UNAUTHENTICATED,this.clientId=xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{me(xa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(me(xa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Uv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Zp(t,e){t.asyncQueue.verifyOperationInProgress(),me(xa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async s=>{i.isEqual(s)||(await RA(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function MT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $P(t);me(xa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>AT(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,s)=>AT(e.remoteStore,s))),t._onlineComponents=e}async function $P(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(xa,"Using user provided OfflineComponentProvider");try{await Zp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ce.FAILED_PRECONDITION||s.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;sc("Error using user provided cache. Falling back to memory cache: "+n),await Zp(t,new zm)}}else me(xa,"Using default OfflineComponentProvider"),await Zp(t,new zP(void 0));return t._offlineComponents}async function KA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(xa,"Using user provided OnlineComponentProvider"),await MT(t,t._uninitializedComponentsProvider._online)):(me(xa,"Using default OnlineComponentProvider"),await MT(t,new cx))),t._onlineComponents}function GP(t){return KA(t).then((e=>e.syncEngine))}async function WP(t){const e=await KA(t),n=e.eventManager;return n.onListen=CP.bind(null,e.syncEngine),n.onUnlisten=DP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MP.bind(null,e.syncEngine),n}function YP(t,e,n={}){const i=new ca;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,m){const p=new HP({next:b=>{p.Nu(),l.enqueueAndForget((()=>wP(o,v)));const _=b.docs.has(u);!_&&b.fromCache?m.reject(new ye(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&f&&f.source==="server"?m.reject(new ye(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new SP(Ev(u.path),p,{includeMetadataChanges:!0,qa:!0});return bP(o,v)})(await WP(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firestore.googleapis.com",OT=!0;class PT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QA,this.ssl=OT}else this.host=e.host,this.ssl=e.ssl??OT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_O)throw new ye(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hv{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new YM;switch(i.type){case"firstParty":return new ZM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=IT.get(n);i&&(me("ComponentProvider","Removing Datastore"),IT.delete(n),i.terminate())})(this),Promise.resolve()}}function KP(t,e,n,i={}){t=yd(t,Hv);const s=pc(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(Qk(`https://${u}`),Zk("Firestore",!0)),o.host!==QA&&o.host!==u&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:s,emulatorOptions:i};if(!jo(f,l)&&(t._setSettings(f),i.mockUserToken)){let m,p;if(typeof i.mockUserToken=="string")m=i.mockUserToken,p=Rn.MOCK_USER;else{m=fR(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ye(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Rn(v)}t._authCredentials=new KM(new z5(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qv(this.firestore,e,this._query)}}class un{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Yd(n,un._jsonSchema))return new un(e,i||null,new be(St.fromString(n.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:Gt("string",un._jsonSchemaVersion),referencePath:Gt("string")};class Sd extends qv{constructor(e,n,i){super(e,n,Ev(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new be(e))}withConverter(e){return new Sd(this.firestore,e,this._path)}}function ZA(t,e,...n){if(t=Ci(t),arguments.length===1&&(e=xv.newId()),sI("doc","path",e),t instanceof Hv){const i=St.fromString(e,...n);return X2(i),new un(t,null,new be(i))}{if(!(t instanceof un||t instanceof Sd))throw new ye(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(St.fromString(e,...n));return X2(i),new un(t.firestore,t instanceof Sd?t.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="AsyncQueue";class LT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MA(this,"async_queue_retry"),this._c=()=>{const i=Qp();i&&me(VT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wc(e))throw e;me(VT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",UT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Lv.createAndSchedule(this,e,n,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Te(47125,{Pc:UT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function UT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $v extends Hv{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new LT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function XP(t,e){const n=n5(),i=Mm,s=rv(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=dR("firestore");o&&KP(s,...o)}return s}function JA(t){if(t._terminated)throw new ye(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QP(t),t._firestoreClient}function QP(t){const e=t._freezeSettings(),n=(function(s,o,l,u){return new pI(s,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,XA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(En.fromBase64String(e))}catch(n){throw new ye(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yd(e,ki._jsonSchema))return ki.fromBase64String(e.bytes)}}ki._jsonSchemaVersion="firestore/bytes/1.0",ki._jsonSchema={type:Gt("string",ki._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bs._jsonSchemaVersion}}static fromJSON(e){if(Yd(e,bs._jsonSchema))return new bs(e.latitude,e.longitude)}}bs._jsonSchemaVersion="firestore/geoPoint/1.0",bs._jsonSchema={type:Gt("string",bs._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ws._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yd(e,ws._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ws(e.vectorValues);throw new ye(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ws._jsonSchemaVersion="firestore/vectorValue/1.0",ws._jsonSchema={type:Gt("string",ws._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=/^__.*__$/;class JP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kd(e,this.data,n,this.fieldTransforms)}}function tN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class Wv{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tN(this.Ac)&&ZP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||vg(e)}Cc(e,n,i,s=!1){return new Wv({Ac:e,methodName:n,Dc:i,path:Tn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tV(t){const e=t._freezeSettings(),n=vg(t._databaseId);return new eV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nV(t,e,n,i,s,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);rN("Data must be an object, but it was:",l,i);const u=iN(i,l);let f,m;if(o.merge)f=new qi(l.fieldMask),m=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const b=iV(e,v,n);if(!l.contains(b))throw new ye(ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);rV(p,b)||p.push(b)}f=new qi(p),m=l.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,m=l.fieldTransforms;return new JP(new Ei(u),f,m)}function nN(t,e){if(sN(t=Ci(t)))return rN("Unsupported field value:",e,t),iN(t,e);if(t instanceof eN)return(function(i,s){if(!tN(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const o=[];let l=0;for(const u of i){let f=nN(u,s.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(t,e)}return(function(i,s){if((i=Ci(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return BI(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=pt.fromDate(i);return{timestampValue:Um(s.serializer,o)}}if(i instanceof pt){const o=new pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Um(s.serializer,o)}}if(i instanceof bs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ki)return{bytesValue:_A(s.serializer,i._byteString)};if(i instanceof un){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cv(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ws)return(function(l,u){return{mapValue:{fields:{[Q5]:{stringValue:Z5},[Im]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return kv(u.serializer,m)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${vv(i)}`)})(t,e)}function iN(t,e){const n={};return $5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,((i,s)=>{const o=nN(s,e.mc(i));o!=null&&(n[i]=o)})),{mapValue:{fields:n}}}function sN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof bs||t instanceof ki||t instanceof un||t instanceof eN||t instanceof ws)}function rN(t,e,n){if(!sN(n)||!H5(n)){const i=vv(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function iV(t,e,n){if((e=Ci(e))instanceof Gv)return e._internalPath;if(typeof e=="string")return aN(t,e);throw Hm("Field path arguments must be of type string or ",t,!1,void 0,n)}const sV=new RegExp("[~\\*/\\[\\]]");function aN(t,e,n){if(e.search(sV)>=0)throw Hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gv(...e.split("."))._internalPath}catch{throw Hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hm(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${i}`),l&&(f+=` in document ${s}`),f+=")"),new ye(ce.INVALID_ARGUMENT,u+t+f)}function rV(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aV extends oN{data(){return super.data()}}function lN(t,e){return typeof e=="string"?aN(t,e):e instanceof Gv?e._internalPath:e._delegate._internalPath}class oV{convertValue(e,n="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Po(e,((s,o)=>{i[s]=this.convertValue(o,n)})),i}convertVectorValue(e){const n=e.fields?.[Im].arrayValue?.values?.map((i=>Vt(i.doubleValue)));return new ws(n)}convertGeoPoint(e){return new bs(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=hg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){const n=ma(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=St.fromString(e);tt(NA(i),9688,{name:e});const s=new bd(i.get(1),i.get(3)),o=new be(i.popFirst(5));return s.isEqual(n)||mr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class To extends oN{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(lN("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=To._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}To._jsonSchemaVersion="firestore/documentSnapshot/1.0",To._jsonSchema={type:Gt("string",To._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class mm extends To{data(e={}){return super.data(e)}}class id{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new qu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new mm(this._firestore,this._userDataWriter,i.key,i,new qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const f=new mm(s._firestore,s._userDataWriter,u.doc.key,u.doc,new qu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new mm(s._firestore,s._userDataWriter,u.doc.key,u.doc,new qu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,p=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:cV(u.type),doc:f,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=id._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){t=yd(t,un);const e=yd(t.firestore,$v);return YP(JA(e),t._key).then((n=>fV(e,t,n)))}id._jsonSchemaVersion="firestore/querySnapshot/1.0",id._jsonSchema={type:Gt("string",id._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class uV extends oV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function dV(t,e,n){t=yd(t,un);const i=yd(t.firestore,$v),s=lV(t.converter,e);return hV(i,[nV(tV(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ur.none())])}function hV(t,e){return(function(i,s){const o=new ca;return i.asyncQueue.enqueueAndForget((async()=>IP(await GP(i),s,o))),o.promise})(JA(t),e)}function fV(t,e,n){const i=n.docs.get(e._key),s=new uV(t);return new To(t,s,e._key,i,new qu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){vc=s})(yc),nc(new Ro("firestore",((i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new $v(new XM(i.getProvider("auth-internal")),new JM(l,i.getProvider("app-check-internal")),(function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bd(m.options.projectId,p)})(l,s),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),oa(G2,W2,e),oa(G2,W2,"esm2020")})();const uc="password123";let Ed=[{id:"doc1",role:"doctor",email:"sarah.j@caresync.com",password:uc,name:"Dr. Sarah Johnson",specialization:"Cardiology",availability:["09:00 AM","11:00 AM","02:00 PM"]},{id:"doc2",role:"doctor",email:"emily.w@caresync.com",password:uc,name:"Dr. Emily White",specialization:"Dermatology",availability:["10:00 AM","12:00 PM","03:00 PM"]}],qm=[{id:"pat1",role:"patient",email:"john.d@caresync.com",password:uc,name:"John Doe"},{id:"pat2",role:"patient",email:"jane.s@caresync.com",password:uc,name:"Jane Smith"}],$m=[{id:"pharma1",role:"pharmacist",email:"mike.w@caresync.com",password:uc,name:"Mike Wilson"},{id:"pharma2",role:"pharmacist",email:"susan.c@caresync.com",password:uc,name:"Susan Clark"}],BT=[{id:"apt1",patientId:"pat1",doctorId:"doc1",date:"2025-08-15",time:"09:00 AM",status:"Confirmed"},{id:"apt2",patientId:"pat2",doctorId:"doc2",date:"2025-08-16",time:"10:00 AM",status:"Pending"}],dc=[...qm,...Ed,...$m],mV=dc.reduce((t,e)=>(t[e.email]=e,t),{});const gV=t=>dc.find(e=>e.id===t&&e.role==="doctor"),pV=t=>dc.find(e=>e.id===t&&e.role==="patient"),yV=t=>{t.role==="patient"?qm.push(t):t.role==="doctor"?Ed.push(t):t.role==="pharmacist"&&$m.push(t),dc.push(t),mV[t.email]=t},uN=XP(),dN=k.createContext(),Qn=()=>{const t=k.useContext(dN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},FT=async(t,e="patient")=>{try{const n=ZA(uN,"users",t.uid);(await cN(n)).exists()||await dV(n,{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,role:e,createdAt:new Date})}catch(n){console.error("Error creating user document:",n)}},zT=async t=>{try{const e=ZA(uN,"users",t),n=await cN(e);return n.exists()&&n.data().role||null}catch(e){return console.error("Failed to fetch user role:",e),null}},xV=({children:t})=>{const[e,n]=k.useState(null),[i,s]=k.useState(!0),[o,l]=k.useState(()=>{try{const b=localStorage.getItem("users");return b?JSON.parse(b):dc}catch(b){return console.error("Error parsing users from localStorage",b),dc}});k.useEffect(()=>{(()=>{try{const _=localStorage.getItem("caresync_user");if(console.log("Checking localStorage for user:",_),_){const A=JSON.parse(_);console.log("Found stored user:",A),n(A)}else console.log("No stored user found in localStorage")}catch(_){console.error("Error checking existing session:",_),localStorage.removeItem("caresync_user")}s(!1)})()},[]),k.useEffect(()=>{try{localStorage.setItem("users",JSON.stringify(o))}catch(b){console.error("Error saving users to localStorage",b)}},[o]),k.useEffect(()=>e&&!e.uid?.startsWith("firebase_")?void 0:C6(pv,async _=>{if(_){await FT(_);const A=await zT(_.uid);n({uid:_.uid,email:_.email,displayName:_.displayName,photoURL:_.photoURL,role:A})}else e&&e.uid?.startsWith("firebase_")&&n(null);s(!1)}),[e]);const v={user:e,loading:i,allUsers:o,loginWithGoogle:async()=>{s(!0);try{const b=await GM();await FT(b.user);const _=await zT(b.user.uid),A={uid:b.user.uid,email:b.user.email,displayName:b.user.displayName,photoURL:b.user.photoURL,role:_};return n(A),{success:!0,user:A}}catch(b){throw console.error("Login failed:",b),b}finally{s(!1)}},login:async(b,_,A)=>{s(!0);try{await new Promise(z=>setTimeout(z,1e3));const C=o.find(z=>z.email===b);if(!C)throw new Error("User not found");if(C.password!==_)throw new Error("Invalid password");if(C.role!==A)throw new Error("Invalid role selected");const{password:j,...P}=C,U={...P,isLocalUser:!0};return console.log("Setting user in context:",U),n(U),console.log("Storing user in localStorage"),localStorage.setItem("caresync_user",JSON.stringify(U)),console.log("User stored successfully"),{success:!0,user:U}}catch(C){throw new Error(C.message)}finally{s(!1)}},register:async b=>{s(!0);try{if(await new Promise(U=>setTimeout(U,1e3)),o.find(U=>U.email===b.email))throw new Error("User already exists with this email");const _={id:`user${Date.now()}`,name:`${b.firstName} ${b.lastName}`,...b};yV(_),l(U=>[...U,_]);const{password:A,confirmPassword:C,...j}=_,P={...j,isLocalUser:!0};return n(P),localStorage.setItem("caresync_user",JSON.stringify(P)),{success:!0,user:P}}catch(_){throw new Error(_.message)}finally{s(!1)}},logout:async()=>{s(!0);try{if(e&&!e.isLocalUser)try{await WM()}catch{console.log("Firebase logout failed, continuing with local logout")}return n(null),localStorage.removeItem("caresync_user"),{success:!0}}catch(b){throw console.error("Logout failed:",b),b}finally{s(!1)}}};return d.jsx(dN.Provider,{value:v,children:t})};function vV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const bV=k.forwardRef(vV);function wV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const _V=k.forwardRef(wV);function TV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const sd=k.forwardRef(TV);function SV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Yv=k.forwardRef(SV);function EV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const ux=k.forwardRef(EV);function kV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const AV=k.forwardRef(kV);function NV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const CV=k.forwardRef(NV);function jV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const RV=k.forwardRef(jV);function DV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const MV=k.forwardRef(DV);function IV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Jp=k.forwardRef(IV);function OV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const hN=k.forwardRef(OV);function PV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const _g=k.forwardRef(PV);function VV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Tg=k.forwardRef(VV);function LV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const ey=k.forwardRef(LV);function UV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const BV=k.forwardRef(UV);function FV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const zV=k.forwardRef(FV);function HV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const kd=k.forwardRef(HV);function qV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pr=k.forwardRef(qV);function $V({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const GV=k.forwardRef($V);function WV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}const YV=k.forwardRef(WV);function KV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Kv=k.forwardRef(KV);function XV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const QV=k.forwardRef(XV);function ZV({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const JV=k.forwardRef(ZV);function e9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ad=k.forwardRef(e9);function t9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const fN=k.forwardRef(t9);function n9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const i9=k.forwardRef(n9);function s9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const r9=k.forwardRef(s9);function a9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const dx=k.forwardRef(a9);function o9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const hx=k.forwardRef(o9);function l9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"}))}const c9=k.forwardRef(l9);function u9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const d9=k.forwardRef(u9);function h9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const f9=k.forwardRef(h9);function m9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const dr=k.forwardRef(m9);function g9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Jd=k.forwardRef(g9);function p9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const HT=k.forwardRef(p9);function y9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const mN=k.forwardRef(y9);function x9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Nd=k.forwardRef(x9);function v9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const qT=k.forwardRef(v9);function b9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const gN=k.forwardRef(b9);function w9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const $T=k.forwardRef(w9);function _9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const T9=k.forwardRef(_9);function S9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const E9=k.forwardRef(S9);function k9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const So=k.forwardRef(k9);function A9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Cd=k.forwardRef(A9);function N9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const GT=k.forwardRef(N9);function C9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const j9=k.forwardRef(C9);function R9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const D9=k.forwardRef(R9);function M9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const I9=k.forwardRef(M9);function O9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const va=k.forwardRef(O9);function P9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Vf=k.forwardRef(P9);function V9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const L9=k.forwardRef(V9);function U9({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Sg=k.forwardRef(U9);var Ol={},WT;function B9(){if(WT)return Ol;WT=1,Object.defineProperty(Ol,"__esModule",{value:!0});var t=qk(),e=nv(),n=function(){return n=Object.assign||function(f){for(var m,p=1,v=arguments.length;p<v;p++)for(var b in m=arguments[p])Object.prototype.hasOwnProperty.call(m,b)&&(f[b]=m[b]);return f},n.apply(this,arguments)};function i(f,m){var p,v;switch(m.type){case"TYPE":return n(n({},f),{speed:m.speed,text:(p=m.payload)===null||p===void 0?void 0:p.substring(0,f.text.length+1)});case"DELAY":return n(n({},f),{speed:m.payload});case"DELETE":return n(n({},f),{speed:m.speed,text:(v=m.payload)===null||v===void 0?void 0:v.substring(0,f.text.length-1)});case"COUNT":return n(n({},f),{count:f.count+1});default:return f}}var s=function(f){var m=f.words,p=m===void 0?["Hello World!","This is","a simple Typewriter"]:m,v=f.loop,b=v===void 0?1:v,_=f.typeSpeed,A=_===void 0?80:_,C=f.deleteSpeed,j=C===void 0?50:C,P=f.delaySpeed,U=P===void 0?1500:P,z=f.onLoopDone,K=f.onType,Q=f.onDelete,te=f.onDelay,L=e.useReducer(i,{speed:A,text:"",count:0}),E=L[0],N=E.speed,D=E.text,I=E.count,O=L[1],V=e.useRef(0),X=e.useRef(!1),se=e.useRef(!1),F=e.useRef(!1),$=e.useRef(!1),le=e.useCallback((function(){var fe=I%p.length,ue=p[fe];se.current?(O({type:"DELETE",payload:ue,speed:j}),D===""&&(se.current=!1,O({type:"COUNT"}))):(O({type:"TYPE",payload:ue,speed:A}),F.current=!0,D===ue&&(O({type:"DELAY",payload:U}),F.current=!1,$.current=!0,setTimeout((function(){$.current=!1,se.current=!0}),U),b>0&&(V.current+=1,V.current/p.length===b&&($.current=!1,X.current=!0)))),F.current&&K&&K(V.current),se.current&&Q&&Q(),$.current&&te&&te()}),[I,U,j,b,A,p,D,K,Q,te]);return e.useEffect((function(){var fe=setTimeout(le,N);return X.current&&clearTimeout(fe),function(){return clearTimeout(fe)}}),[le,N]),e.useEffect((function(){z&&X.current&&z()}),[z]),[D,{isType:F.current,isDelay:$.current,isDelete:se.current,isDone:X.current}]},o="styles-module_blinkingCursor__yugAC",l="styles-module_blinking__9VXRT";(function(f,m){m===void 0&&(m={});var p=m.insertAt;if(typeof document<"u"){var v=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css",p==="top"&&v.firstChild?v.insertBefore(b,v.firstChild):v.appendChild(b),b.styleSheet?b.styleSheet.cssText=f:b.appendChild(document.createTextNode(f))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var u=e.memo((function(f){var m=f.cursorBlinking,p=m===void 0||m,v=f.cursorStyle,b=v===void 0?"|":v,_=f.cursorColor,A=_===void 0?"inherit":_;return t.jsx("span",n({style:{color:A},className:"".concat(o," ").concat(p?l:"")},{children:b}))}));return Ol.Cursor=u,Ol.Typewriter=function(f){var m=f.words,p=m===void 0?["Hello World!","This is","a simple Typewriter"]:m,v=f.loop,b=v===void 0?1:v,_=f.typeSpeed,A=_===void 0?80:_,C=f.deleteSpeed,j=C===void 0?50:C,P=f.delaySpeed,U=P===void 0?1500:P,z=f.cursor,K=z!==void 0&&z,Q=f.cursorStyle,te=Q===void 0?"|":Q,L=f.cursorColor,E=L===void 0?"inherit":L,N=f.cursorBlinking,D=N===void 0||N,I=f.onLoopDone,O=f.onType,V=f.onDelay,X=f.onDelete,se=s({words:p,loop:b,typeSpeed:A,deleteSpeed:j,delaySpeed:U,onLoopDone:I,onType:O,onDelay:V,onDelete:X})[0];return t.jsxs(t.Fragment,{children:[t.jsx("span",{children:se}),K&&t.jsx(u,{cursorStyle:te,cursorColor:E,cursorBlinking:D})]})},Ol.useTypewriter=s,Ol}B9();var Iu={},$u={exports:{}},F9=$u.exports,YT;function z9(){return YT||(YT=1,(function(t,e){(function(n,i){i(e)})(F9,(function(n){var i=function(){return i=Object.assign||function(o){for(var l,u=1,f=arguments.length;u<f;u++)for(var m in l=arguments[u])Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=l[m]);return o},i.apply(this,arguments)},s=(function(){function o(l,u,f){var m=this;this.endVal=u,this.options=f,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(p){m.startTime||(m.startTime=p);var v=p-m.startTime;m.remaining=m.duration-v,m.useEasing?m.countDown?m.frameVal=m.startVal-m.easingFn(v,0,m.startVal-m.endVal,m.duration):m.frameVal=m.easingFn(v,m.startVal,m.endVal-m.startVal,m.duration):m.frameVal=m.startVal+(m.endVal-m.startVal)*(v/m.duration);var b=m.countDown?m.frameVal<m.endVal:m.frameVal>m.endVal;m.frameVal=b?m.endVal:m.frameVal,m.frameVal=Number(m.frameVal.toFixed(m.options.decimalPlaces)),m.printValue(m.frameVal),v<m.duration?m.rAF=requestAnimationFrame(m.count):m.finalEndVal!==null?m.update(m.finalEndVal):m.options.onCompleteCallback&&m.options.onCompleteCallback()},this.formatNumber=function(p){var v,b,_,A,C=p<0?"-":"";v=Math.abs(p).toFixed(m.options.decimalPlaces);var j=(v+="").split(".");if(b=j[0],_=j.length>1?m.options.decimal+j[1]:"",m.options.useGrouping){A="";for(var P=3,U=0,z=0,K=b.length;z<K;++z)m.options.useIndianSeparators&&z===4&&(P=2,U=1),z!==0&&U%P==0&&(A=m.options.separator+A),U++,A=b[K-z-1]+A;b=A}return m.options.numerals&&m.options.numerals.length&&(b=b.replace(/[0-9]/g,(function(Q){return m.options.numerals[+Q]})),_=_.replace(/[0-9]/g,(function(Q){return m.options.numerals[+Q]}))),C+m.options.prefix+b+_+m.options.suffix},this.easeOutExpo=function(p,v,b,_){return b*(1-Math.pow(2,-10*p/_))*1024/1023+v},this.options=i(i({},this.defaults),f),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof l=="string"?document.getElementById(l):l,u=u??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(u),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,l):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return m.handleScroll(m)})),window.onscroll=function(){window.onScrollFns.forEach((function(p){return p()}))},this.handleScroll(this)))}return o.prototype.handleScroll=function(l){if(l&&window&&!l.once){var u=window.innerHeight+window.scrollY,f=l.el.getBoundingClientRect(),m=f.top+window.pageYOffset,p=f.top+f.height+window.pageYOffset;p<u&&p>window.scrollY&&l.paused?(l.paused=!1,setTimeout((function(){return l.start()}),l.options.scrollSpyDelay),l.options.scrollSpyOnce&&(l.once=!0)):(window.scrollY>p||m>u)&&!l.paused&&l.reset()}},o.prototype.determineDirectionAndSmartEasing=function(){var l=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>l;var u=l-this.startVal;if(Math.abs(u)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=l;var f=this.countDown?1:-1;this.endVal=l+f*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=l,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},o.prototype.start=function(l){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),l&&(this.options.onCompleteCallback=l),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},o.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},o.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},o.prototype.update=function(l){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(l),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},o.prototype.printValue=function(l){var u;if(this.el){var f=this.formattingFn(l);!((u=this.options.plugin)===null||u===void 0)&&u.render?this.options.plugin.render(this.el,f):this.el.tagName==="INPUT"?this.el.value=f:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=f:this.el.innerHTML=f}},o.prototype.ensureNumber=function(l){return typeof l=="number"&&!isNaN(l)},o.prototype.validateValue=function(l){var u=Number(l);return this.ensureNumber(u)?u:(this.error="[CountUp] invalid start or end value: ".concat(l),null)},o.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},o.prototype.parse=function(l){var u=function(v){return v.replace(/([.,' ])/g,"\\$1")},f=u(this.options.separator),m=u(this.options.decimal),p=l.replace(new RegExp(f,"g"),"").replace(new RegExp(m,"g"),".");return parseFloat(p)},o})();n.CountUp=s}))})($u,$u.exports)),$u.exports}var KT;function H9(){if(KT)return Iu;KT=1,Object.defineProperty(Iu,"__esModule",{value:!0});var t=nv(),e=z9();function n(E,N){var D=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(D!=null){var I,O,V,X,se=[],F=!0,$=!1;try{if(V=(D=D.call(E)).next,N!==0)for(;!(F=(I=V.call(D)).done)&&(se.push(I.value),se.length!==N);F=!0);}catch(le){$=!0,O=le}finally{try{if(!F&&D.return!=null&&(X=D.return(),Object(X)!==X))return}finally{if($)throw O}}return se}}function i(E,N){var D=Object.keys(E);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(E);N&&(I=I.filter(function(O){return Object.getOwnPropertyDescriptor(E,O).enumerable})),D.push.apply(D,I)}return D}function s(E){for(var N=1;N<arguments.length;N++){var D=arguments[N]!=null?arguments[N]:{};N%2?i(Object(D),!0).forEach(function(I){u(E,I,D[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(D)):i(Object(D)).forEach(function(I){Object.defineProperty(E,I,Object.getOwnPropertyDescriptor(D,I))})}return E}function o(E,N){if(typeof E!="object"||!E)return E;var D=E[Symbol.toPrimitive];if(D!==void 0){var I=D.call(E,N);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(E)}function l(E){var N=o(E,"string");return typeof N=="symbol"?N:String(N)}function u(E,N,D){return N=l(N),N in E?Object.defineProperty(E,N,{value:D,enumerable:!0,configurable:!0,writable:!0}):E[N]=D,E}function f(){return f=Object.assign?Object.assign.bind():function(E){for(var N=1;N<arguments.length;N++){var D=arguments[N];for(var I in D)Object.prototype.hasOwnProperty.call(D,I)&&(E[I]=D[I])}return E},f.apply(this,arguments)}function m(E,N){if(E==null)return{};var D={},I=Object.keys(E),O,V;for(V=0;V<I.length;V++)O=I[V],!(N.indexOf(O)>=0)&&(D[O]=E[O]);return D}function p(E,N){if(E==null)return{};var D=m(E,N),I,O;if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(E);for(O=0;O<V.length;O++)I=V[O],!(N.indexOf(I)>=0)&&Object.prototype.propertyIsEnumerable.call(E,I)&&(D[I]=E[I])}return D}function v(E,N){return b(E)||n(E,N)||_(E,N)||C()}function b(E){if(Array.isArray(E))return E}function _(E,N){if(E){if(typeof E=="string")return A(E,N);var D=Object.prototype.toString.call(E).slice(8,-1);if(D==="Object"&&E.constructor&&(D=E.constructor.name),D==="Map"||D==="Set")return Array.from(E);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return A(E,N)}}function A(E,N){(N==null||N>E.length)&&(N=E.length);for(var D=0,I=new Array(N);D<N;D++)I[D]=E[D];return I}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var j=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?t.useLayoutEffect:t.useEffect;function P(E){var N=t.useRef(E);return j(function(){N.current=E}),t.useCallback(function(){for(var D=arguments.length,I=new Array(D),O=0;O<D;O++)I[O]=arguments[O];return N.current.apply(void 0,I)},[])}var U=function(N,D){var I=D.decimal,O=D.decimals,V=D.duration,X=D.easingFn,se=D.end,F=D.formattingFn,$=D.numerals,le=D.prefix,fe=D.separator,ue=D.start,ve=D.suffix,xe=D.useEasing,he=D.useGrouping,ke=D.useIndianSeparators,$e=D.enableScrollSpy,Be=D.scrollSpyDelay,At=D.scrollSpyOnce,Nt=D.plugin;return new e.CountUp(N,se,{startVal:ue,duration:V,decimal:I,decimalPlaces:O,easingFn:X,formattingFn:F,numerals:$,separator:fe,prefix:le,suffix:ve,plugin:Nt,useEasing:xe,useIndianSeparators:ke,useGrouping:he,enableScrollSpy:$e,scrollSpyDelay:Be,scrollSpyOnce:At})},z=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],K={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},Q=function(N){var D=Object.fromEntries(Object.entries(N).filter(function(Ct){var Ge=v(Ct,2),An=Ge[1];return An!==void 0})),I=t.useMemo(function(){return s(s({},K),D)},[N]),O=I.ref,V=I.startOnMount,X=I.enableReinitialize,se=I.delay,F=I.onEnd,$=I.onStart,le=I.onPauseResume,fe=I.onReset,ue=I.onUpdate,ve=p(I,z),xe=t.useRef(),he=t.useRef(),ke=t.useRef(!1),$e=P(function(){return U(typeof O=="string"?O:O.current,ve)}),Be=P(function(Ct){var Ge=xe.current;if(Ge&&!Ct)return Ge;var An=$e();return xe.current=An,An}),At=P(function(){var Ct=function(){return Be(!0).start(function(){F?.({pauseResume:Nt,reset:ct,start:Wt,update:tn})})};se&&se>0?he.current=setTimeout(Ct,se*1e3):Ct(),$?.({pauseResume:Nt,reset:ct,update:tn})}),Nt=P(function(){Be().pauseResume(),le?.({reset:ct,start:Wt,update:tn})}),ct=P(function(){Be().el&&(he.current&&clearTimeout(he.current),Be().reset(),fe?.({pauseResume:Nt,start:Wt,update:tn}))}),tn=P(function(Ct){Be().update(Ct),ue?.({pauseResume:Nt,reset:ct,start:Wt})}),Wt=P(function(){ct(),At()}),kn=P(function(Ct){V&&(Ct&&ct(),At())});return t.useEffect(function(){ke.current?X&&kn(!0):(ke.current=!0,kn())},[X,ke,kn,se,N.start,N.suffix,N.prefix,N.duration,N.separator,N.decimals,N.decimal,N.formattingFn]),t.useEffect(function(){return function(){ct()}},[ct]),{start:Wt,pauseResume:Nt,reset:ct,update:tn,getCountUp:Be}},te=["className","redraw","containerProps","children","style"],L=function(N){var D=N.className,I=N.redraw,O=N.containerProps,V=N.children,X=N.style,se=p(N,te),F=t.useRef(null),$=t.useRef(!1),le=Q(s(s({},se),{},{ref:F,startOnMount:typeof V!="function"||N.delay===0,enableReinitialize:!1})),fe=le.start,ue=le.reset,ve=le.update,xe=le.pauseResume,he=le.getCountUp,ke=P(function(){fe()}),$e=P(function(Nt){N.preserveValue||ue(),ve(Nt)}),Be=P(function(){if(typeof N.children=="function"&&!(F.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}he()});t.useEffect(function(){Be()},[Be]),t.useEffect(function(){$.current&&$e(N.end)},[N.end,$e]);var At=I&&N;return t.useEffect(function(){I&&$.current&&ke()},[ke,I,At]),t.useEffect(function(){!I&&$.current&&ke()},[ke,I,N.start,N.suffix,N.prefix,N.duration,N.separator,N.decimals,N.decimal,N.className,N.formattingFn]),t.useEffect(function(){$.current=!0},[]),typeof V=="function"?V({countUpRef:F,start:fe,reset:ue,update:ve,pauseResume:xe,getCountUp:he}):t.createElement("span",f({className:D,ref:F,style:X},O),typeof N.start<"u"?he().formattingFn(N.start):"")};return Iu.default=L,Iu.useCountUp=Q,Iu}var q9=H9();const pN=Hk(q9),Xv=k.createContext({});function Qv(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zv=typeof window<"u",yN=Zv?k.useLayoutEffect:k.useEffect,Eg=k.createContext(null);function Jv(t,e){t.indexOf(e)===-1&&t.push(e)}function eb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const yr=(t,e,n)=>n>e?e:n<t?t:n;let tb=()=>{};const xr={},xN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function vN(t){return typeof t=="object"&&t!==null}const bN=t=>/^0[^.\s]+$/u.test(t);function nb(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ni=t=>t,$9=(t,e)=>n=>e(t(n)),eh=(...t)=>t.reduce($9),jd=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class ib{constructor(){this.subscriptions=[]}add(e){return Jv(this.subscriptions,e),()=>eb(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _s=t=>t*1e3,Ts=t=>t/1e3;function wN(t,e){return e?t*(1e3/e):0}const _N=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,G9=1e-7,W9=12;function Y9(t,e,n,i,s){let o,l,u=0;do l=e+(n-e)/2,o=_N(l,i,s)-t,o>0?n=l:e=l;while(Math.abs(o)>G9&&++u<W9);return l}function th(t,e,n,i){if(t===e&&n===i)return Ni;const s=o=>Y9(o,0,1,t,n);return o=>o===0||o===1?o:_N(s(o),e,i)}const TN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SN=t=>e=>1-t(1-e),EN=th(.33,1.53,.69,.99),sb=SN(EN),kN=TN(sb),AN=t=>(t*=2)<1?.5*sb(t):.5*(2-Math.pow(2,-10*(t-1))),rb=t=>1-Math.sin(Math.acos(t)),NN=SN(rb),CN=TN(rb),K9=th(.42,0,1,1),X9=th(0,0,.58,1),jN=th(.42,0,.58,1),Q9=t=>Array.isArray(t)&&typeof t[0]!="number",RN=t=>Array.isArray(t)&&typeof t[0]=="number",Z9={linear:Ni,easeIn:K9,easeInOut:jN,easeOut:X9,circIn:rb,circInOut:CN,circOut:NN,backIn:sb,backInOut:kN,backOut:EN,anticipate:AN},J9=t=>typeof t=="string",XT=t=>{if(RN(t)){tb(t.length===4);const[e,n,i,s]=t;return th(e,n,i,s)}else if(J9(t))return Z9[t];return t},Lf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function e7(t,e){let n=new Set,i=new Set,s=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(p){l.has(p)&&(m.schedule(p),t()),p(u)}const m={schedule:(p,v=!1,b=!1)=>{const A=b&&s?n:i;return v&&l.add(p),A.has(p)||A.add(p),p},cancel:p=>{i.delete(p),l.delete(p)},process:p=>{if(u=p,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),n.clear(),s=!1,o&&(o=!1,m.process(p))}};return m}const t7=40;function DN(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Lf.reduce((z,K)=>(z[K]=e7(o),z),{}),{setup:u,read:f,resolveKeyframes:m,preUpdate:p,update:v,preRender:b,render:_,postRender:A}=l,C=()=>{const z=xr.useManualTiming?s.timestamp:performance.now();n=!1,xr.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(z-s.timestamp,t7),1)),s.timestamp=z,s.isProcessing=!0,u.process(s),f.process(s),m.process(s),p.process(s),v.process(s),b.process(s),_.process(s),A.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(C))},j=()=>{n=!0,i=!0,s.isProcessing||t(C)};return{schedule:Lf.reduce((z,K)=>{const Q=l[K];return z[K]=(te,L=!1,E=!1)=>(n||j(),Q.schedule(te,L,E)),z},{}),cancel:z=>{for(let K=0;K<Lf.length;K++)l[Lf[K]].cancel(z)},state:s,steps:l}}const{schedule:bt,cancel:ba,state:wn,steps:ty}=DN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ni,!0);let gm;function n7(){gm=void 0}const Xn={now:()=>(gm===void 0&&Xn.set(wn.isProcessing||xr.useManualTiming?wn.timestamp:performance.now()),gm),set:t=>{gm=t,queueMicrotask(n7)}},MN=t=>e=>typeof e=="string"&&e.startsWith(t),ab=MN("--"),i7=MN("var(--"),ob=t=>i7(t)?s7.test(t.split("/*")[0].trim()):!1,s7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Rd={...Tc,transform:t=>yr(0,1,t)},Uf={...Tc,default:1},rd=t=>Math.round(t*1e5)/1e5,lb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r7(t){return t==null}const a7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cb=(t,e)=>n=>!!(typeof n=="string"&&a7.test(n)&&n.startsWith(t)||e&&!r7(n)&&Object.prototype.hasOwnProperty.call(n,e)),IN=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,o,l,u]=i.match(lb);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},o7=t=>yr(0,255,t),ny={...Tc,transform:t=>Math.round(o7(t))},xo={test:cb("rgb","red"),parse:IN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ny.transform(t)+", "+ny.transform(e)+", "+ny.transform(n)+", "+rd(Rd.transform(i))+")"};function l7(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const fx={test:cb("#"),parse:l7,transform:xo.transform},nh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qr=nh("deg"),Ss=nh("%"),Ee=nh("px"),c7=nh("vh"),u7=nh("vw"),QT={...Ss,parse:t=>Ss.parse(t)/100,transform:t=>Ss.transform(t*100)},Fl={test:cb("hsl","hue"),parse:IN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ss.transform(rd(e))+", "+Ss.transform(rd(n))+", "+rd(Rd.transform(i))+")"},$t={test:t=>xo.test(t)||fx.test(t)||Fl.test(t),parse:t=>xo.test(t)?xo.parse(t):Fl.test(t)?Fl.parse(t):fx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xo.transform(t):Fl.transform(t),getAnimatableNone:t=>{const e=$t.parse(t);return e.alpha=0,$t.transform(e)}},d7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function h7(t){return isNaN(t)&&typeof t=="string"&&(t.match(lb)?.length||0)+(t.match(d7)?.length||0)>0}const ON="number",PN="color",f7="var",m7="var(",ZT="${}",g7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Dd(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(g7,f=>($t.test(f)?(i.color.push(o),s.push(PN),n.push($t.parse(f))):f.startsWith(m7)?(i.var.push(o),s.push(f7),n.push(f)):(i.number.push(o),s.push(ON),n.push(parseFloat(f))),++o,ZT)).split(ZT);return{values:n,split:u,indexes:i,types:s}}function VN(t){return Dd(t).values}function LN(t){const{split:e,types:n}=Dd(t),i=e.length;return s=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],s[l]!==void 0){const u=n[l];u===ON?o+=rd(s[l]):u===PN?o+=$t.transform(s[l]):o+=s[l]}return o}}const p7=t=>typeof t=="number"?0:$t.test(t)?$t.getAnimatableNone(t):t;function y7(t){const e=VN(t);return LN(t)(e.map(p7))}const wa={test:h7,parse:VN,createTransformer:LN,getAnimatableNone:y7};function iy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function x7({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,o=0,l=0;if(!e)s=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;s=iy(f,u,t+1/3),o=iy(f,u,t),l=iy(f,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Gm(t,e){return n=>n>0?e:t}const Et=(t,e,n)=>t+(e-t)*n,sy=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},v7=[fx,xo,Fl],b7=t=>v7.find(e=>e.test(t));function JT(t){const e=b7(t);if(!e)return!1;let n=e.parse(t);return e===Fl&&(n=x7(n)),n}const eS=(t,e)=>{const n=JT(t),i=JT(e);if(!n||!i)return Gm(t,e);const s={...n};return o=>(s.red=sy(n.red,i.red,o),s.green=sy(n.green,i.green,o),s.blue=sy(n.blue,i.blue,o),s.alpha=Et(n.alpha,i.alpha,o),xo.transform(s))},mx=new Set(["none","hidden"]);function w7(t,e){return mx.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _7(t,e){return n=>Et(t,e,n)}function ub(t){return typeof t=="number"?_7:typeof t=="string"?ob(t)?Gm:$t.test(t)?eS:E7:Array.isArray(t)?UN:typeof t=="object"?$t.test(t)?eS:T7:Gm}function UN(t,e){const n=[...t],i=n.length,s=t.map((o,l)=>ub(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)n[l]=s[l](o);return n}}function T7(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=ub(t[s])(t[s],e[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function S7(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][i[o]],u=t.values[l]??0;n[s]=u,i[o]++}return n}const E7=(t,e)=>{const n=wa.createTransformer(e),i=Dd(t),s=Dd(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?mx.has(t)&&!s.values.length||mx.has(e)&&!i.values.length?w7(t,e):eh(UN(S7(i,s),s.values),n):Gm(t,e)};function BN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Et(t,e,n):ub(t)(t,e)}const k7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>bt.update(e,n),stop:()=>ba(e),now:()=>wn.isProcessing?wn.timestamp:Xn.now()}},FN=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)i+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Wm=2e4;function db(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Wm;)e+=n,i=t.next(e);return e>=Wm?1/0:e}function A7(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(db(i),Wm);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:Ts(s)}}const N7=5;function zN(t,e,n){const i=Math.max(e-N7,0);return wN(n-t(i),e-i)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ry=.001;function C7({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:i=Mt.mass}){let s,o,l=1-e;l=yr(Mt.minDamping,Mt.maxDamping,l),t=yr(Mt.minDuration,Mt.maxDuration,Ts(t)),l<1?(s=m=>{const p=m*l,v=p*t,b=p-n,_=gx(m,l),A=Math.exp(-v);return ry-b/_*A},o=m=>{const v=m*l*t,b=v*n+n,_=Math.pow(l,2)*Math.pow(m,2)*t,A=Math.exp(-v),C=gx(Math.pow(m,2),l);return(-s(m)+ry>0?-1:1)*((b-_)*A)/C}):(s=m=>{const p=Math.exp(-m*t),v=(m-n)*t+1;return-ry+p*v},o=m=>{const p=Math.exp(-m*t),v=(n-m)*(t*t);return p*v});const u=5/t,f=R7(s,o,u);if(t=_s(t),isNaN(f))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const m=Math.pow(f,2)*i;return{stiffness:m,damping:l*2*Math.sqrt(i*m),duration:t}}}const j7=12;function R7(t,e,n){let i=n;for(let s=1;s<j7;s++)i=i-t(i)/e(i);return i}function gx(t,e){return t*Math.sqrt(1-e*e)}const D7=["duration","bounce"],M7=["stiffness","damping","mass"];function tS(t,e){return e.some(n=>t[n]!==void 0)}function I7(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!tS(t,M7)&&tS(t,D7))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*yr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Mt.mass,stiffness:s,damping:o}}else{const n=C7(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function Ym(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:m,mass:p,duration:v,velocity:b,isResolvedFromDuration:_}=I7({...n,velocity:-Ts(n.velocity||0)}),A=b||0,C=m/(2*Math.sqrt(f*p)),j=l-o,P=Ts(Math.sqrt(f/p)),U=Math.abs(j)<5;i||(i=U?Mt.restSpeed.granular:Mt.restSpeed.default),s||(s=U?Mt.restDelta.granular:Mt.restDelta.default);let z;if(C<1){const Q=gx(P,C);z=te=>{const L=Math.exp(-C*P*te);return l-L*((A+C*P*j)/Q*Math.sin(Q*te)+j*Math.cos(Q*te))}}else if(C===1)z=Q=>l-Math.exp(-P*Q)*(j+(A+P*j)*Q);else{const Q=P*Math.sqrt(C*C-1);z=te=>{const L=Math.exp(-C*P*te),E=Math.min(Q*te,300);return l-L*((A+C*P*j)*Math.sinh(E)+Q*j*Math.cosh(E))/Q}}const K={calculatedDuration:_&&v||null,next:Q=>{const te=z(Q);if(_)u.done=Q>=v;else{let L=Q===0?A:0;C<1&&(L=Q===0?_s(A):zN(z,Q,te));const E=Math.abs(L)<=i,N=Math.abs(l-te)<=s;u.done=E&&N}return u.value=u.done?l:te,u},toString:()=>{const Q=Math.min(db(K),Wm),te=FN(L=>K.next(Q*L).value,Q,30);return Q+"ms "+te},toTransition:()=>{}};return K}Ym.applyToOptions=t=>{const e=A7(t,100,Ym);return t.ease=e.ease,t.duration=_s(e.duration),t.type="keyframes",t};function px({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:f,restDelta:m=.5,restSpeed:p}){const v=t[0],b={done:!1,value:v},_=E=>u!==void 0&&E<u||f!==void 0&&E>f,A=E=>u===void 0?f:f===void 0||Math.abs(u-E)<Math.abs(f-E)?u:f;let C=n*e;const j=v+C,P=l===void 0?j:l(j);P!==j&&(C=P-v);const U=E=>-C*Math.exp(-E/i),z=E=>P+U(E),K=E=>{const N=U(E),D=z(E);b.done=Math.abs(N)<=m,b.value=b.done?P:D};let Q,te;const L=E=>{_(b.value)&&(Q=E,te=Ym({keyframes:[b.value,A(b.value)],velocity:zN(z,E,b.value),damping:s,stiffness:o,restDelta:m,restSpeed:p}))};return L(0),{calculatedDuration:null,next:E=>{let N=!1;return!te&&Q===void 0&&(N=!0,K(E),L(E)),Q!==void 0&&E>=Q?te.next(E-Q):(!N&&K(E),b)}}}function O7(t,e,n){const i=[],s=n||xr.mix||BN,o=t.length-1;for(let l=0;l<o;l++){let u=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Ni:e;u=eh(f,u)}i.push(u)}return i}function P7(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const o=t.length;if(tb(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=O7(e,i,s),f=u.length,m=p=>{if(l&&p<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(p<t[v+1]);v++);const b=jd(t[v],t[v+1],p);return u[v](b)};return n?p=>m(yr(t[0],t[o-1],p)):m}function V7(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=jd(0,e,i);t.push(Et(n,1,s))}}function L7(t){const e=[0];return V7(e,t.length-1),e}function U7(t,e){return t.map(n=>n*e)}function B7(t,e){return t.map(()=>e||jN).splice(0,t.length-1)}function ad({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=Q9(i)?i.map(XT):XT(i),o={done:!1,value:e[0]},l=U7(n&&n.length===e.length?n:L7(e),t),u=P7(l,e,{ease:Array.isArray(s)?s:B7(e,s)});return{calculatedDuration:t,next:f=>(o.value=u(f),o.done=f>=t,o)}}const F7=t=>t!==null;function hb(t,{repeat:e,repeatType:n="loop"},i,s=1){const o=t.filter(F7),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||i===void 0?o[u]:i}const z7={decay:px,inertia:px,tween:ad,keyframes:ad,spring:Ym};function HN(t){typeof t.type=="string"&&(t.type=z7[t.type])}class fb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const H7=t=>t/100;class mb extends fb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;HN(e);const{type:n=ad,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:l=0}=e;let{keyframes:u}=e;const f=n||ad;f!==ad&&typeof u[0]!="number"&&(this.mixKeyframes=eh(H7,BN(u[0],u[1])),u=[0,100]);const m=f({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=db(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:p,repeat:v,repeatType:b,repeatDelay:_,type:A,onUpdate:C,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const P=this.currentTime-m*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?P<0:P>s;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let z=this.currentTime,K=i;if(v){const E=Math.min(this.currentTime,s)/u;let N=Math.floor(E),D=E%1;!D&&E>=1&&(D=1),D===1&&N--,N=Math.min(N,v+1),!!(N%2)&&(b==="reverse"?(D=1-D,_&&(D-=_/u)):b==="mirror"&&(K=l)),z=yr(0,1,D)*u}const Q=U?{done:!1,value:p[0]}:K.next(z);o&&(Q.value=o(Q.value));let{done:te}=Q;!U&&f!==null&&(te=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&te);return L&&A!==px&&(Q.value=hb(p,this.options,j,this.speed)),C&&C(Q.value),L&&this.finish(),Q}then(e,n){return this.finished.then(e,n)}get duration(){return Ts(this.calculatedDuration)}get time(){return Ts(this.currentTime)}set time(e){e=_s(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ts(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=k7,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function q7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const vo=t=>t*180/Math.PI,yx=t=>{const e=vo(Math.atan2(t[1],t[0]));return xx(e)},$7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:yx,rotateZ:yx,skewX:t=>vo(Math.atan(t[1])),skewY:t=>vo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xx=t=>(t=t%360,t<0&&(t+=360),t),nS=yx,iS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),G7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iS,scaleY:sS,scale:t=>(iS(t)+sS(t))/2,rotateX:t=>xx(vo(Math.atan2(t[6],t[5]))),rotateY:t=>xx(vo(Math.atan2(-t[2],t[0]))),rotateZ:nS,rotate:nS,skewX:t=>vo(Math.atan(t[4])),skewY:t=>vo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function vx(t){return t.includes("scale")?1:0}function bx(t,e){if(!t||t==="none")return vx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=G7,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=$7,s=u}if(!s)return vx(e);const o=i[e],l=s[1].split(",").map(Y7);return typeof o=="function"?o(l):l[o]}const W7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return bx(n,e)};function Y7(t){return parseFloat(t.trim())}const Sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ec=new Set(Sc),rS=t=>t===Tc||t===Ee,K7=new Set(["x","y","z"]),X7=Sc.filter(t=>!K7.has(t));function Q7(t){const e=[];return X7.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Eo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>bx(e,"x"),y:(t,{transform:e})=>bx(e,"y")};Eo.translateX=Eo.x;Eo.translateY=Eo.y;const ko=new Set;let wx=!1,_x=!1,Tx=!1;function qN(){if(_x){const t=Array.from(ko).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=Q7(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,l])=>{i.getValue(o)?.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}_x=!1,wx=!1,ko.forEach(t=>t.complete(Tx)),ko.clear()}function $N(){ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_x=!0)})}function Z7(){Tx=!0,$N(),qN(),Tx=!1}class gb{constructor(e,n,i,s,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ko.add(this),wx||(wx=!0,bt.read($N),bt.resolveKeyframes(qN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const o=s?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const u=i.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}q7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ko.delete(this)}cancel(){this.state==="scheduled"&&(ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J7=t=>t.startsWith("--");function eL(t,e,n){J7(e)?t.style.setProperty(e,n):t.style[e]=n}const tL=nb(()=>window.ScrollTimeline!==void 0),nL={};function iL(t,e){const n=nb(t);return()=>nL[e]??n()}const GN=iL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,aS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gu([0,.65,.55,1]),circOut:Gu([.55,0,1,.45]),backIn:Gu([.31,.01,.66,-.59]),backOut:Gu([.33,1.53,.69,.99])};function WN(t,e){if(t)return typeof t=="function"?GN()?FN(t,e):"ease-out":RN(t)?Gu(t):Array.isArray(t)?t.map(n=>WN(n,e)||aS.easeOut):aS[t]}function sL(t,e,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:l="loop",ease:u="easeOut",times:f}={},m=void 0){const p={[e]:n};f&&(p.offset=f);const v=WN(u,s);Array.isArray(v)&&(p.easing=v);const b={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(p,b)}function YN(t){return typeof t=="function"&&"applyToOptions"in t}function rL({type:t,...e}){return YN(t)&&GN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class aL extends fb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,tb(typeof e.type!="string");const m=rL(e);this.animation=sL(n,i,s,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=hb(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):eL(n,i,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ts(Number(e))}get time(){return Ts(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_s(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&tL()?(this.animation.timeline=e,Ni):n(this)}}const KN={anticipate:AN,backInOut:kN,circInOut:CN};function oL(t){return t in KN}function lL(t){typeof t.ease=="string"&&oL(t.ease)&&(t.ease=KN[t.ease])}const oS=10;class cL extends aL{constructor(e){lL(e),HN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new mb({...l,autoplay:!1}),f=_s(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-oS).value,u.sample(f).value,oS),u.stop()}}const lS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(wa.test(t)||t==="0")&&!t.startsWith("url("));function uL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dL(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=lS(s,e),u=lS(o,e);return!l||!u?!1:uL(t)||(n==="spring"||YN(n))&&i}function Sx(t){t.duration=0,t.type}const hL=new Set(["opacity","clipPath","filter","transform"]),fL=nb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mL(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return fL()&&n&&hL.has(n)&&(n!=="transform"||!m)&&!f&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}const gL=40;class pL extends fb{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",keyframes:u,name:f,motionValue:m,element:p,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xn.now();const b={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:l,name:f,motionValue:m,element:p,...v},_=p?.KeyframeResolver||gb;this.keyframeResolver=new _(u,(A,C,j)=>this.onKeyframesResolved(A,C,b,!j),f,m,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:o,type:l,velocity:u,delay:f,isHandoff:m,onUpdate:p}=i;this.resolvedAt=Xn.now(),dL(e,o,l,u)||((xr.instantAnimations||!f)&&p?.(hb(e,i,n)),e[0]=e[e.length-1],Sx(i),i.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>gL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},_=!m&&mL(b)?new cL({...b,element:b.motionValue.owner.current}):new mb(b);_.finished.then(()=>this.notifyFinished()).catch(Ni),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Z7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const yL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xL(t){const e=yL.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function XN(t,e,n=1){const[i,s]=xL(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return xN(l)?parseFloat(l):l}return ob(s)?XN(s,e,n+1):s}function pb(t,e){return t?.[e]??t?.default??t}const QN=new Set(["width","height","top","left","right","bottom",...Sc]),vL={test:t=>t==="auto",parse:t=>t},ZN=t=>e=>e.test(t),JN=[Tc,Ee,Ss,Qr,u7,c7,vL],cS=t=>JN.find(ZN(t));function bL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bN(t):!0}const wL=new Set(["brightness","contrast","saturate","opacity"]);function _L(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(lb)||[];if(!i)return t;const s=n.replace(i,"");let o=wL.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+s+")"}const TL=/\b([a-z-]*)\(.*?\)/gu,Ex={...wa,getAnimatableNone:t=>{const e=t.match(TL);return e?e.map(_L).join(" "):t}},uS={...Tc,transform:Math.round},SL={rotate:Qr,rotateX:Qr,rotateY:Qr,rotateZ:Qr,scale:Uf,scaleX:Uf,scaleY:Uf,scaleZ:Uf,skew:Qr,skewX:Qr,skewY:Qr,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Rd,originX:QT,originY:QT,originZ:Ee},yb={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...SL,zIndex:uS,fillOpacity:Rd,strokeOpacity:Rd,numOctaves:uS},EL={...yb,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Ex,WebkitFilter:Ex},eC=t=>EL[t];function tC(t,e){let n=eC(t);return n!==Ex&&(n=wa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kL=new Set(["auto","none","0"]);function AL(t,e,n){let i=0,s;for(;i<t.length&&!s;){const o=t[i];typeof o=="string"&&!kL.has(o)&&Dd(o).values.length&&(s=t[i]),i++}if(s&&n)for(const o of e)t[o]=tC(n,s)}class NL extends gb{constructor(e,n,i,s,o){super(e,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),ob(m))){const p=XN(m,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!QN.has(i)||e.length!==2)return;const[s,o]=e,l=cS(s),u=cS(o);if(l!==u)if(rS(l)&&rS(u))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Eo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||bL(e[s]))&&i.push(s);i.length&&AL(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Eo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Eo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function CL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=n?.[t]??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const nC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function iC(t){return vN(t)&&"offsetHeight"in t}const dS=30,jL=t=>!isNaN(parseFloat(t));class RL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=Xn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ib);const i=this.events[e].add(n);return e==="change"?()=>{i(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dS);return wN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hc(t,e){return new RL(t,e)}const{schedule:xb}=DN(queueMicrotask,!1),Fi={x:!1,y:!1};function sC(){return Fi.x||Fi.y}function DL(t){return t==="x"||t==="y"?Fi[t]?null:(Fi[t]=!0,()=>{Fi[t]=!1}):Fi.x||Fi.y?null:(Fi.x=Fi.y=!0,()=>{Fi.x=Fi.y=!1})}function rC(t,e){const n=CL(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function hS(t){return!(t.pointerType==="touch"||sC())}function ML(t,e,n={}){const[i,s,o]=rC(t,n),l=u=>{if(!hS(u))return;const{target:f}=u,m=e(f,u);if(typeof m!="function"||!f)return;const p=v=>{hS(v)&&(m(v),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,s)};return i.forEach(u=>{u.addEventListener("pointerenter",l,s)}),o}const aC=(t,e)=>e?t===e?!0:aC(t,e.parentElement):!1,vb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,IL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OL(t){return IL.has(t.tagName)||t.tabIndex!==-1}const pm=new WeakSet;function fS(t){return e=>{e.key==="Enter"&&t(e)}}function ay(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const PL=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=fS(()=>{if(pm.has(n))return;ay(n,"down");const s=fS(()=>{ay(n,"up")}),o=()=>ay(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function mS(t){return vb(t)&&!sC()}function VL(t,e,n={}){const[i,s,o]=rC(t,n),l=u=>{const f=u.currentTarget;if(!mS(u))return;pm.add(f);const m=e(f,u),p=(_,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),pm.has(f)&&pm.delete(f),mS(_)&&typeof m=="function"&&m(_,{success:A})},v=_=>{p(_,f===window||f===document||n.useGlobalTarget||aC(f,_.target))},b=_=>{p(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",b,s)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),iC(u)&&(u.addEventListener("focus",m=>PL(m,s)),!OL(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function oC(t){return vN(t)&&"ownerSVGElement"in t}function LL(t){return oC(t)&&t.tagName==="svg"}const Mn=t=>!!(t&&t.getVelocity),UL=[...JN,$t,wa],BL=t=>UL.find(ZN(t)),bb=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class FL extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=iC(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zL({children:t,isPresent:e,anchorX:n,root:i}){const s=k.useId(),o=k.useRef(null),l=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=k.useContext(bb);return k.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:v,right:b}=l.current;if(e||!o.current||!f||!m)return;const _=n==="left"?`left: ${v}`:`right: ${b}`;o.current.dataset.motionPopId=s;const A=document.createElement("style");u&&(A.nonce=u);const C=i??document.head;return C.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${_}px !important;
            top: ${p}px !important;
          }
        `),()=>{C.contains(A)&&C.removeChild(A)}},[e]),d.jsx(FL,{isPresent:e,childRef:o,sizeRef:l,children:k.cloneElement(t,{ref:o})})}const HL=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:l,anchorX:u,root:f})=>{const m=Qv(qL),p=k.useId();let v=!0,b=k.useMemo(()=>(v=!1,{id:p,initial:e,isPresent:n,custom:s,onExitComplete:_=>{m.set(_,!0);for(const A of m.values())if(!A)return;i&&i()},register:_=>(m.set(_,!1),()=>m.delete(_))}),[n,m,i]);return o&&v&&(b={...b}),k.useMemo(()=>{m.forEach((_,A)=>m.set(A,!1))},[n]),k.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),l==="popLayout"&&(t=d.jsx(zL,{isPresent:n,anchorX:u,root:f,children:t})),d.jsx(Eg.Provider,{value:b,children:t})};function qL(){return new Map}function lC(t=!0){const e=k.useContext(Eg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,o=k.useId();k.useEffect(()=>{if(t)return s(o)},[t]);const l=k.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,l]:[!0]}const Bf=t=>t.key||"";function gS(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const or=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:l=!1,anchorX:u="left",root:f})=>{const[m,p]=lC(l),v=k.useMemo(()=>gS(t),[t]),b=l&&!m?[]:v.map(Bf),_=k.useRef(!0),A=k.useRef(v),C=Qv(()=>new Map),[j,P]=k.useState(v),[U,z]=k.useState(v);yN(()=>{_.current=!1,A.current=v;for(let te=0;te<U.length;te++){const L=Bf(U[te]);b.includes(L)?C.delete(L):C.get(L)!==!0&&C.set(L,!1)}},[U,b.length,b.join("-")]);const K=[];if(v!==j){let te=[...v];for(let L=0;L<U.length;L++){const E=U[L],N=Bf(E);b.includes(N)||(te.splice(L,0,E),K.push(E))}return o==="wait"&&K.length&&(te=K),z(gS(te)),P(v),null}const{forceRender:Q}=k.useContext(Xv);return d.jsx(d.Fragment,{children:U.map(te=>{const L=Bf(te),E=l&&!m?!1:v===U||b.includes(L),N=()=>{if(C.has(L))C.set(L,!0);else return;let D=!0;C.forEach(I=>{I||(D=!1)}),D&&(Q?.(),z(A.current),l&&p?.(),i&&i())};return d.jsx(HL,{isPresent:E,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:f,onExitComplete:E?void 0:N,anchorX:u,children:te},L)})})},cC=k.createContext({strict:!1}),pS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fc={};for(const t in pS)fc[t]={isEnabled:e=>pS[t].some(n=>!!e[n])};function $L(t){for(const e in t)fc[e]={...fc[e],...t[e]}}const GL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Km(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||GL.has(t)}let uC=t=>!Km(t);function WL(t){typeof t=="function"&&(uC=e=>e.startsWith("on")?!Km(e):t(e))}try{WL(require("@emotion/is-prop-valid").default)}catch{}function YL(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(uC(s)||n===!0&&Km(s)||!e&&!Km(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const kg=k.createContext({});function Ag(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Md(t){return typeof t=="string"||Array.isArray(t)}const wb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_b=["initial",...wb];function Ng(t){return Ag(t.animate)||_b.some(e=>Md(t[e]))}function dC(t){return!!(Ng(t)||t.variants)}function KL(t,e){if(Ng(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Md(n)?n:void 0,animate:Md(i)?i:void 0}}return t.inherit!==!1?e:{}}function XL(t){const{initial:e,animate:n}=KL(t,k.useContext(kg));return k.useMemo(()=>({initial:e,animate:n}),[yS(e),yS(n)])}function yS(t){return Array.isArray(t)?t.join(" "):t}const Id={};function QL(t){for(const e in t)Id[e]=t[e],ab(e)&&(Id[e].isCSSVariable=!0)}function hC(t,{layout:e,layoutId:n}){return Ec.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Id[t]||t==="opacity")}const ZL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JL=Sc.length;function e8(t,e,n){let i="",s=!0;for(let o=0;o<JL;o++){const l=Sc[o],u=t[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const m=nC(u,yb[l]);if(!f){s=!1;const p=ZL[l]||l;i+=`${p}(${m}) `}n&&(e[l]=m)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function Tb(t,e,n){const{style:i,vars:s,transformOrigin:o}=t;let l=!1,u=!1;for(const f in e){const m=e[f];if(Ec.has(f)){l=!0;continue}else if(ab(f)){s[f]=m;continue}else{const p=nC(m,yb[f]);f.startsWith("origin")?(u=!0,o[f]=p):i[f]=p}}if(e.transform||(l||n?i.transform=e8(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:p=0}=o;i.transformOrigin=`${f} ${m} ${p}`}}const Sb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fC(t,e,n){for(const i in e)!Mn(e[i])&&!hC(i,n)&&(t[i]=e[i])}function t8({transformTemplate:t},e){return k.useMemo(()=>{const n=Sb();return Tb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function n8(t,e){const n=t.style||{},i={};return fC(i,n,t),Object.assign(i,t8(t,e)),i}function i8(t,e){const n={},i=n8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const s8={offset:"stroke-dashoffset",array:"stroke-dasharray"},r8={offset:"strokeDashoffset",array:"strokeDasharray"};function a8(t,e,n=1,i=0,s=!0){t.pathLength=1;const o=s?s8:r8;t[o.offset]=Ee.transform(-i);const l=Ee.transform(e),u=Ee.transform(n);t[o.array]=`${l} ${u}`}function mC(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},f,m,p){if(Tb(t,u,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b}=t;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&a8(v,s,o,l,!1)}const gC=()=>({...Sb(),attrs:{}}),pC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function o8(t,e,n,i){const s=k.useMemo(()=>{const o=gC();return mC(o,e,pC(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};fC(o,t.style,t),s.style={...o,...s.style}}return s}const l8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Eb(t){return typeof t!="string"||t.includes("-")?!1:!!(l8.indexOf(t)>-1||/[A-Z]/u.test(t))}function c8(t,e,n,{latestValues:i},s,o=!1){const u=(Eb(t)?o8:i8)(e,i,s,t),f=YL(e,typeof t=="string",o),m=t!==k.Fragment?{...f,...u,ref:n}:{},{children:p}=e,v=k.useMemo(()=>Mn(p)?p.get():p,[p]);return k.createElement(t,{...m,children:v})}function xS(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function kb(t,e,n,i){if(typeof e=="function"){const[s,o]=xS(i);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=xS(i);e=e(n!==void 0?n:t.custom,s,o)}return e}function ym(t){return Mn(t)?t.get():t}function u8({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:d8(n,i,s,t),renderState:e()}}function d8(t,e,n,i){const s={},o=i(t,{});for(const b in o)s[b]=ym(o[b]);let{initial:l,animate:u}=t;const f=Ng(t),m=dC(t);e&&m&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const v=p?u:l;if(v&&typeof v!="boolean"&&!Ag(v)){const b=Array.isArray(v)?v:[v];for(let _=0;_<b.length;_++){const A=kb(t,b[_]);if(A){const{transitionEnd:C,transition:j,...P}=A;for(const U in P){let z=P[U];if(Array.isArray(z)){const K=p?z.length-1:0;z=z[K]}z!==null&&(s[U]=z)}for(const U in C)s[U]=C[U]}}}return s}const yC=t=>(e,n)=>{const i=k.useContext(kg),s=k.useContext(Eg),o=()=>u8(t,e,i,s);return n?o():Qv(o)};function Ab(t,e,n){const{style:i}=t,s={};for(const o in i)(Mn(i[o])||e.style&&Mn(e.style[o])||hC(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=i[o]);return s}const h8=yC({scrapeMotionValuesFromProps:Ab,createRenderState:Sb});function xC(t,e,n){const i=Ab(t,e,n);for(const s in t)if(Mn(t[s])||Mn(e[s])){const o=Sc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=t[s]}return i}const f8=yC({scrapeMotionValuesFromProps:xC,createRenderState:gC}),m8=Symbol.for("motionComponentSymbol");function zl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function g8(t,e,n){return k.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):zl(n)&&(n.current=i))},[e])}const Nb=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),p8="framerAppearId",vC="data-"+Nb(p8),bC=k.createContext({});function y8(t,e,n,i,s){const{visualElement:o}=k.useContext(kg),l=k.useContext(cC),u=k.useContext(Eg),f=k.useContext(bb).reducedMotion,m=k.useRef(null);i=i||l.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const p=m.current,v=k.useContext(bC);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&x8(m.current,n,s,v);const b=k.useRef(!1);k.useInsertionEffect(()=>{p&&b.current&&p.update(n,u)});const _=n[vC],A=k.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return yN(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),A.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!A.current&&p.animationState&&p.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),A.current=!1),p.enteringChildren=void 0)}),p}function x8(t,e,n,i){const{layoutId:s,layout:o,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:m,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wC(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!l||u&&zl(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:f,layoutRoot:m})}function wC(t){if(t)return t.options.allowProjection!==!1?t.projection:wC(t.parent)}function oy(t,{forwardMotionProps:e=!1}={},n,i){n&&$L(n);const s=Eb(t)?f8:h8;function o(u,f){let m;const p={...k.useContext(bb),...u,layoutId:v8(u)},{isStatic:v}=p,b=XL(u),_=s(u,v);if(!v&&Zv){b8();const A=w8(p);m=A.MeasureLayout,b.visualElement=y8(t,_,p,i,A.ProjectionNode)}return d.jsxs(kg.Provider,{value:b,children:[m&&b.visualElement?d.jsx(m,{visualElement:b.visualElement,...p}):null,c8(t,u,g8(_,b.visualElement,f),_,v,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=k.forwardRef(o);return l[m8]=t,l}function v8({layoutId:t}){const e=k.useContext(Xv).id;return e&&t!==void 0?e+"-"+t:t}function b8(t,e){k.useContext(cC).strict}function w8(t){const{drag:e,layout:n}=fc;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function _8(t,e){if(typeof Proxy>"u")return oy;const n=new Map,i=(o,l)=>oy(o,l,t,e),s=(o,l)=>i(o,l);return new Proxy(s,{get:(o,l)=>l==="create"?i:(n.has(l)||n.set(l,oy(l,void 0,t,e)),n.get(l))})}function _C({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function T8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function S8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ly(t){return t===void 0||t===1}function kx({scale:t,scaleX:e,scaleY:n}){return!ly(t)||!ly(e)||!ly(n)}function mo(t){return kx(t)||TC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function TC(t){return vS(t.x)||vS(t.y)}function vS(t){return t&&t!=="0%"}function Xm(t,e,n){const i=t-n,s=e*i;return n+s}function bS(t,e,n,i,s){return s!==void 0&&(t=Xm(t,s,i)),Xm(t,n,i)+e}function Ax(t,e=0,n=1,i,s){t.min=bS(t.min,e,n,i,s),t.max=bS(t.max,e,n,i,s)}function SC(t,{x:e,y:n}){Ax(t.x,e.translate,e.scale,e.originPoint),Ax(t.y,n.translate,n.scale,n.originPoint)}const wS=.999999999999,_S=1.0000000000001;function E8(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,l;for(let u=0;u<s;u++){o=n[u],l=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ql(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,SC(t,l)),i&&mo(o.latestValues)&&ql(t,o.latestValues))}e.x<_S&&e.x>wS&&(e.x=1),e.y<_S&&e.y>wS&&(e.y=1)}function Hl(t,e){t.min=t.min+e,t.max=t.max+e}function TS(t,e,n,i,s=.5){const o=Et(t.min,t.max,s);Ax(t,e,n,o,i)}function ql(t,e){TS(t.x,e.x,e.scaleX,e.scale,e.originX),TS(t.y,e.y,e.scaleY,e.scale,e.originY)}function EC(t,e){return _C(S8(t.getBoundingClientRect(),e))}function k8(t,e,n){const i=EC(t,n),{scroll:s}=e;return s&&(Hl(i.x,s.offset.x),Hl(i.y,s.offset.y)),i}const SS=()=>({translate:0,scale:1,origin:0,originPoint:0}),$l=()=>({x:SS(),y:SS()}),ES=()=>({min:0,max:0}),Pt=()=>({x:ES(),y:ES()}),Nx={current:null},kC={current:!1};function A8(){if(kC.current=!0,!!Zv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nx.current=t.matches;t.addEventListener("change",e),e()}else Nx.current=!1}const N8=new WeakMap;function C8(t,e,n){for(const i in e){const s=e[i],o=n[i];if(Mn(s))t.addValue(i,s);else if(Mn(o))t.addValue(i,hc(s,{owner:t}));else if(o!==s)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,hc(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const kS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j8{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Xn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,bt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Ng(n),this.isVariantNode=dC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const _=v[b];f[b]!==void 0&&Mn(_)&&_.set(f[b])}}mount(e){this.current=e,N8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),kC.current||A8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nx.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ba(this.notifyUpdate),ba(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ec.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&bt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fc){const n=fc[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<kS.length;i++){const s=kS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,l=e[o];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=C8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=hc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(xN(i)||bN(i))?i=parseFloat(i):!BL(i)&&wa.test(n)&&(i=tC(e,n)),this.setBaseTarget(e,Mn(i)?i.get():i)),Mn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=kb(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Mn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ib),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){xb.render(this.render)}}class AC extends j8{constructor(){super(...arguments),this.KeyframeResolver=NL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NC(t,{style:e,vars:n},i,s){const o=t.style;let l;for(l in e)o[l]=e[l];s?.applyProjectionStyles(o,i);for(l in n)o.setProperty(l,n[l])}function R8(t){return window.getComputedStyle(t)}class D8 extends AC{constructor(){super(...arguments),this.type="html",this.renderInstance=NC}readValueFromInstance(e,n){if(Ec.has(n))return this.projection?.isProjecting?vx(n):W7(e,n);{const i=R8(e),s=(ab(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return EC(e,n)}build(e,n,i){Tb(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Ab(e,n,i)}}const CC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M8(t,e,n,i){NC(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(CC.has(s)?s:Nb(s),e.attrs[s])}class I8 extends AC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ec.has(n)){const i=eC(n);return i&&i.default||0}return n=CC.has(n)?n:Nb(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return xC(e,n,i)}build(e,n,i){mC(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){M8(e,n,i,s)}mount(e){this.isSVGTag=pC(e.tagName),super.mount(e)}}const O8=(t,e)=>Eb(t)?new I8(e):new D8(e,{allowProjection:t!==k.Fragment});function Jl(t,e,n){const i=t.getProps();return kb(i,e,n!==void 0?n:i.custom,t)}const Cx=t=>Array.isArray(t);function P8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,hc(n))}function V8(t){return Cx(t)?t[t.length-1]||0:t}function L8(t,e){const n=Jl(t,e);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const l in o){const u=V8(o[l]);P8(t,l,u)}}function U8(t){return!!(Mn(t)&&t.add)}function jx(t,e){const n=t.getValue("willChange");if(U8(n))return n.add(e);if(!n&&xr.WillChange){const i=new xr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function jC(t){return t.props[vC]}const B8=t=>t!==null;function F8(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(B8),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const z8={type:"spring",stiffness:500,damping:25,restSpeed:10},H8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),q8={type:"keyframes",duration:.8},$8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},G8=(t,{keyframes:e})=>e.length>2?q8:Ec.has(t)?t.startsWith("scale")?H8(e[1]):z8:$8;function W8({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:u,from:f,elapsed:m,...p}){return!!Object.keys(p).length}const Cb=(t,e,n,i={},s,o)=>l=>{const u=pb(i,t)||{},f=u.delay||i.delay||0;let{elapsed:m=0}=i;m=m-_s(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};W8(u)||Object.assign(p,G8(t,p)),p.duration&&(p.duration=_s(p.duration)),p.repeatDelay&&(p.repeatDelay=_s(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Sx(p),p.delay===0&&(v=!0)),(xr.instantAnimations||xr.skipAnimations)&&(v=!0,Sx(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const b=F8(p.keyframes,u);if(b!==void 0){bt.update(()=>{p.onUpdate(b),p.onComplete()});return}}return u.isSync?new mb(p):new pL(p)};function Y8({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function RC(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(o=i);const f=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const v=t.getValue(p,t.latestValues[p]??null),b=u[p];if(b===void 0||m&&Y8(m,p))continue;const _={delay:n,...pb(o||{},p)},A=v.get();if(A!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===A&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const P=jC(t);if(P){const U=window.MotionHandoffAnimation(P,p,bt);U!==null&&(_.startTime=U,C=!0)}}jx(t,p),v.start(Cb(p,v,b,t.shouldReduceMotion&&QN.has(p)?{type:!1}:_,t,C));const j=v.animation;j&&f.push(j)}return l&&Promise.all(f).then(()=>{bt.update(()=>{l&&L8(t,l)})}),f}function DC(t,e,n,i=0,s=1){const o=Array.from(t).sort((m,p)=>m.sortNodePosition(p)).indexOf(e),l=t.size,u=(l-1)*i;return typeof n=="function"?n(o,l):s===1?o*i:u-o*i}function Rx(t,e,n={}){const i=Jl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(RC(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:v}=s;return K8(t,e,f,m,p,v,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,m]=u==="beforeChildren"?[o,l]:[l,o];return f().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function K8(t,e,n=0,i=0,s=0,o=1,l){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(Rx(f,e,{...l,delay:n+(typeof i=="function"?0:i)+DC(t.variantChildren,f,i,s,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function X8(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>Rx(t,o,n));i=Promise.all(s)}else if(typeof e=="string")i=Rx(t,e,n);else{const s=typeof e=="function"?Jl(t,e,n.custom):e;i=Promise.all(RC(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function MC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Q8=_b.length;function IC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?IC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Q8;n++){const i=_b[n],s=t.props[i];(Md(s)||s===!1)&&(e[i]=s)}return e}const Z8=[...wb].reverse(),J8=wb.length;function eU(t){return e=>Promise.all(e.map(({animation:n,options:i})=>X8(t,n,i)))}function tU(t){let e=eU(t),n=AS(),i=!0;const s=f=>(m,p)=>{const v=Jl(t,p,f==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:_,...A}=v;m={...m,...A,..._}}return m};function o(f){e=f(t)}function l(f){const{props:m}=t,p=IC(t.parent)||{},v=[],b=new Set;let _={},A=1/0;for(let j=0;j<J8;j++){const P=Z8[j],U=n[P],z=m[P]!==void 0?m[P]:p[P],K=Md(z),Q=P===f?U.isActive:null;Q===!1&&(A=j);let te=z===p[P]&&z!==m[P]&&K;if(te&&i&&t.manuallyAnimateOnMount&&(te=!1),U.protectedKeys={..._},!U.isActive&&Q===null||!z&&!U.prevProp||Ag(z)||typeof z=="boolean")continue;const L=nU(U.prevProp,z);let E=L||P===f&&U.isActive&&!te&&K||j>A&&K,N=!1;const D=Array.isArray(z)?z:[z];let I=D.reduce(s(P),{});Q===!1&&(I={});const{prevResolvedValues:O={}}=U,V={...O,...I},X=$=>{E=!0,b.has($)&&(N=!0,b.delete($)),U.needsAnimating[$]=!0;const le=t.getValue($);le&&(le.liveStyle=!1)};for(const $ in V){const le=I[$],fe=O[$];if(_.hasOwnProperty($))continue;let ue=!1;Cx(le)&&Cx(fe)?ue=!MC(le,fe):ue=le!==fe,ue?le!=null?X($):b.add($):le!==void 0&&b.has($)?X($):U.protectedKeys[$]=!0}U.prevProp=z,U.prevResolvedValues=I,U.isActive&&(_={..._,...I}),i&&t.blockInitialAnimation&&(E=!1);const se=te&&L;E&&(!se||N)&&v.push(...D.map($=>{const le={type:P};if(typeof $=="string"&&i&&!se&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,ue=Jl(fe,$);if(fe.enteringChildren&&ue){const{delayChildren:ve}=ue.transition||{};le.delay=DC(fe.enteringChildren,t,ve)}}return{animation:$,options:le}}))}if(b.size){const j={};if(typeof m.initial!="boolean"){const P=Jl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);P&&P.transition&&(j.transition=P.transition)}b.forEach(P=>{const U=t.getBaseTarget(P),z=t.getValue(P);z&&(z.liveStyle=!0),j[P]=U??null}),v.push({animation:j})}let C=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function u(f,m){if(n[f].isActive===m)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(f,m)),n[f].isActive=m;const p=l(f);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=AS(),i=!0}}}function nU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MC(e,t):!1}function ao(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AS(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}let Ta=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};class iU extends Ta{constructor(e){super(e),e.animationState||(e.animationState=tU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ag(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let sU=0;class rU extends Ta{constructor(){super(...arguments),this.id=sU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const aU={animation:{Feature:iU},exit:{Feature:rU}};function Od(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function ih(t){return{point:{x:t.pageX,y:t.pageY}}}const oU=t=>e=>vb(e)&&t(e,ih(e));function od(t,e,n,i){return Od(t,e,oU(n),i)}const OC=1e-4,lU=1-OC,cU=1+OC,PC=.01,uU=0-PC,dU=0+PC;function Hn(t){return t.max-t.min}function hU(t,e,n){return Math.abs(t-e)<=n}function NS(t,e,n,i=.5){t.origin=i,t.originPoint=Et(e.min,e.max,t.origin),t.scale=Hn(n)/Hn(e),t.translate=Et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lU&&t.scale<=cU||isNaN(t.scale))&&(t.scale=1),(t.translate>=uU&&t.translate<=dU||isNaN(t.translate))&&(t.translate=0)}function ld(t,e,n,i){NS(t.x,e.x,n.x,i?i.originX:void 0),NS(t.y,e.y,n.y,i?i.originY:void 0)}function CS(t,e,n){t.min=n.min+e.min,t.max=t.min+Hn(e)}function fU(t,e,n){CS(t.x,e.x,n.x),CS(t.y,e.y,n.y)}function jS(t,e,n){t.min=e.min-n.min,t.max=t.min+Hn(e)}function cd(t,e,n){jS(t.x,e.x,n.x),jS(t.y,e.y,n.y)}function Si(t){return[t("x"),t("y")]}const VC=({current:t})=>t?t.ownerDocument.defaultView:null,RS=(t,e)=>Math.abs(t-e);function mU(t,e){const n=RS(t.x,e.x),i=RS(t.y,e.y);return Math.sqrt(n**2+i**2)}class LC{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=uy(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,A=mU(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!A)return;const{point:C}=b,{timestamp:j}=wn;this.history.push({...C,timestamp:j});const{onStart:P,onMove:U}=this.handlers;_||(P&&P(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,b)},this.handlePointerMove=(b,_)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=cy(_,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(b,_)=>{this.end();const{onEnd:A,onSessionEnd:C,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=uy(b.type==="pointercancel"?this.lastMoveEventInfo:cy(_,this.transformPagePoint),this.history);this.startEvent&&A&&A(b,P),C&&C(b,P)},!vb(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const u=ih(e),f=cy(u,this.transformPagePoint),{point:m}=f,{timestamp:p}=wn;this.history=[{...m,timestamp:p}];const{onSessionStart:v}=n;v&&v(e,uy(f,this.history)),this.removeListeners=eh(od(this.contextWindow,"pointermove",this.handlePointerMove),od(this.contextWindow,"pointerup",this.handlePointerUp),od(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ba(this.updatePoint)}}function cy(t,e){return e?{point:e(t.point)}:t}function DS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uy({point:t},e){return{point:t,delta:DS(t,UC(e)),offset:DS(t,gU(e)),velocity:pU(e,.1)}}function gU(t){return t[0]}function UC(t){return t[t.length-1]}function pU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=UC(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>_s(e)));)n--;if(!i)return{x:0,y:0};const o=Ts(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function yU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Et(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Et(n,t,i.max):Math.min(t,n)),t}function MS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function xU(t,{top:e,left:n,bottom:i,right:s}){return{x:MS(t.x,n,s),y:MS(t.y,e,i)}}function IS(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function vU(t,e){return{x:IS(t.x,e.x),y:IS(t.y,e.y)}}function bU(t,e){let n=.5;const i=Hn(t),s=Hn(e);return s>i?n=jd(e.min,e.max-i,t.min):i>s&&(n=jd(t.min,t.max-s,e.min)),yr(0,1,n)}function wU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Dx=.35;function _U(t=Dx){return t===!1?t=0:t===!0&&(t=Dx),{x:OS(t,"left","right"),y:OS(t,"top","bottom")}}function OS(t,e,n){return{min:PS(t,e),max:PS(t,n)}}function PS(t,e){return typeof t=="number"?t:t[e]||0}const TU=new WeakMap;class SU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ih(v).point)},l=(v,b)=>{const{drag:_,dragPropagation:A,onDragStart:C}=this.getProps();if(_&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DL(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(P=>{let U=this.getAxisMotionValue(P).get()||0;if(Ss.test(U)){const{projection:z}=this.visualElement;if(z&&z.layout){const K=z.layout.layoutBox[P];K&&(U=Hn(K)*(parseFloat(U)/100))}}this.originPoint[P]=U}),C&&bt.postRender(()=>C(v,b)),jx(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:A,onDirectionLock:C,onDrag:j}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:P}=b;if(A&&this.currentDirection===null){this.currentDirection=EU(P),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",b.point,P),this.updateAxis("y",b.point,P),this.visualElement.render(),j&&j(v,b)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Si(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new LC(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:VC(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&bt.postRender(()=>u(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Ff(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=yU(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&zl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=xU(i.layoutBox,e):this.constraints=!1,this.elastic=_U(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Si(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=wU(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zl(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=k8(i,s.root,this.visualElement.getTransformPagePoint());let l=vU(s.layout.layoutBox,o);if(n){const u=n(T8(l));this.hasMutatedConstraints=!!u,u&&(l=_C(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},m=Si(p=>{if(!Ff(p,n,this.currentDirection))return;let v=f&&f[p]||{};l&&(v={min:0,max:0});const b=s?200:1e6,_=s?40:1e7,A={type:"inertia",velocity:i?e[p]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(p,A)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return jx(this.visualElement,e),i.start(Cb(e,i,0,n,this.visualElement,!1))}stopAnimation(){Si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Si(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Si(n=>{const{drag:i}=this.getProps();if(!Ff(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n];o.set(e[n]-Et(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!zl(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Si(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();s[l]=bU({min:f,max:f},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Si(l=>{if(!Ff(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:m}=this.constraints[l];u.set(Et(f,m,s[l]))})}addListeners(){if(!this.visualElement.current)return;TU.set(this.visualElement,this);const e=this.visualElement.current,n=od(e,"pointerdown",f=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();zl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),bt.read(i);const l=Od(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Si(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=f[p].translate,v.set(v.get()+f[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=Dx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Ff(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function EU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kU extends Ta{constructor(e){super(e),this.removeGroupControls=Ni,this.removeListeners=Ni,this.controls=new SU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const VS=t=>(e,n)=>{t&&bt.postRender(()=>t(e,n))};class AU extends Ta{constructor(){super(...arguments),this.removePointerDownListener=Ni}onPointerDown(e){this.session=new LC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:VS(e),onStart:VS(n),onMove:i,onEnd:(o,l)=>{delete this.session,s&&bt.postRender(()=>s(o,l))}}}mount(){this.removePointerDownListener=od(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ou={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=LS(t,e.target.x),i=LS(t,e.target.y);return`${n}% ${i}%`}},NU={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=wa.parse(t);if(s.length>5)return i;const o=wa.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=f;const m=Et(u,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=m),typeof s[3+l]=="number"&&(s[3+l]/=m),o(s)}};let dy=!1;class CU extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;QL(jU),o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),dy&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),xm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:l}=i;return l&&(l.isPresent=o,dy=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||bt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;dy=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function BC(t){const[e,n]=lC(),i=k.useContext(Xv);return d.jsx(CU,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(bC),isPresent:e,safeToRemove:n})}const jU={borderRadius:{...Ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ou,borderTopRightRadius:Ou,borderBottomLeftRadius:Ou,borderBottomRightRadius:Ou,boxShadow:NU};function RU(t,e,n){const i=Mn(t)?t:hc(t);return i.start(Cb("",i,e,n)),i.animation}const DU=(t,e)=>t.depth-e.depth;class MU{constructor(){this.children=[],this.isDirty=!1}add(e){Jv(this.children,e),this.isDirty=!0}remove(e){eb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DU),this.isDirty=!1,this.children.forEach(e)}}function IU(t,e){const n=Xn.now(),i=({timestamp:s})=>{const o=s-n;o>=e&&(ba(i),t(o-e))};return bt.setup(i,!0),()=>ba(i)}const FC=["TopLeft","TopRight","BottomLeft","BottomRight"],OU=FC.length,US=t=>typeof t=="string"?parseFloat(t):t,BS=t=>typeof t=="number"||Ee.test(t);function PU(t,e,n,i,s,o){s?(t.opacity=Et(0,n.opacity??1,VU(i)),t.opacityExit=Et(e.opacity??1,0,LU(i))):o&&(t.opacity=Et(e.opacity??1,n.opacity??1,i));for(let l=0;l<OU;l++){const u=`border${FC[l]}Radius`;let f=FS(e,u),m=FS(n,u);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||BS(f)===BS(m)?(t[u]=Math.max(Et(US(f),US(m),i),0),(Ss.test(m)||Ss.test(f))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=Et(e.rotate||0,n.rotate||0,i))}function FS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VU=zC(0,.5,NN),LU=zC(.5,.95,Ni);function zC(t,e,n){return i=>i<t?0:i>e?1:n(jd(t,e,i))}function zS(t,e){t.min=e.min,t.max=e.max}function _i(t,e){zS(t.x,e.x),zS(t.y,e.y)}function HS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function qS(t,e,n,i,s){return t-=e,t=Xm(t,1/n,i),s!==void 0&&(t=Xm(t,1/s,i)),t}function UU(t,e=0,n=1,i=.5,s,o=t,l=t){if(Ss.test(e)&&(e=parseFloat(e),e=Et(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Et(o.min,o.max,i);t===o&&(u-=e),t.min=qS(t.min,e,n,u,s),t.max=qS(t.max,e,n,u,s)}function $S(t,e,[n,i,s],o,l){UU(t,e[n],e[i],e[s],e.scale,o,l)}const BU=["x","scaleX","originX"],FU=["y","scaleY","originY"];function GS(t,e,n,i){$S(t.x,e,BU,n?n.x:void 0,i?i.x:void 0),$S(t.y,e,FU,n?n.y:void 0,i?i.y:void 0)}function WS(t){return t.translate===0&&t.scale===1}function HC(t){return WS(t.x)&&WS(t.y)}function YS(t,e){return t.min===e.min&&t.max===e.max}function zU(t,e){return YS(t.x,e.x)&&YS(t.y,e.y)}function KS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qC(t,e){return KS(t.x,e.x)&&KS(t.y,e.y)}function XS(t){return Hn(t.x)/Hn(t.y)}function QS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class HU{constructor(){this.members=[]}add(e){Jv(this.members,e),e.scheduleRender()}remove(e){if(eb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qU(t,e,n){let i="";const s=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((s||o||l)&&(i=`translate3d(${s}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:v,rotateY:b,skewX:_,skewY:A}=n;m&&(i=`perspective(${m}px) ${i}`),p&&(i+=`rotate(${p}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),_&&(i+=`skewX(${_}deg) `),A&&(i+=`skewY(${A}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(i+=`scale(${u}, ${f})`),i||"none"}const hy=["","X","Y","Z"],$U=1e3;let GU=0;function fy(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function $C(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(s||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&$C(i)}function GC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=GU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KU),this.nodes.forEach(JU),this.nodes.forEach(eB),this.nodes.forEach(XU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new MU)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ib),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=oC(l)&&!LL(l),this.instance=l;const{layoutId:u,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let p,v=0;const b=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{v=window.innerWidth}),t(l,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,p&&p(),p=IU(b,250),xm.hasAnimatedSinceResize&&(xm.hasAnimatedSinceResize=!1,this.nodes.forEach(eE)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||rB,{onLayoutAnimationStart:C,onLayoutAnimationComplete:j}=m.getProps(),P=!this.targetLayout||!qC(this.targetLayout,_),U=!v&&b;if(this.options.layoutRoot||this.resumeFrom||U||v&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...pb(A,"layout"),onPlay:C,onComplete:j};(m.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(p,U)}else v||eE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ba(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tB),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$C(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(JS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ZU),this.nodes.forEach(WU),this.nodes.forEach(YU)):this.nodes.forEach(JS),this.clearAllSnapshots();const u=Xn.now();wn.delta=yr(0,1e3/60,u-wn.timestamp),wn.timestamp=u,wn.isProcessing=!0,ty.update.process(wn),ty.preRender.process(wn),ty.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QU),this.sharedNodes.forEach(nB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hn(this.snapshot.measuredBox.x)&&!Hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!HC(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||mo(this.latestValues)||p)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),aB(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Pt();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oB))){const{scroll:m}=this.root;m&&(Hl(u.x,m.offset.x),Hl(u.y,m.offset.y))}return u}removeElementScroll(l){const u=Pt();if(_i(u,l),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:p,options:v}=m;m!==this.root&&p&&v.layoutScroll&&(p.wasRoot&&_i(u,l),Hl(u.x,p.offset.x),Hl(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const f=Pt();_i(f,l);for(let m=0;m<this.path.length;m++){const p=this.path[m];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ql(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),mo(p.latestValues)&&ql(f,p.latestValues)}return mo(this.latestValues)&&ql(f,this.latestValues),f}removeTransform(l){const u=Pt();_i(u,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!mo(m.latestValues))continue;kx(m.latestValues)&&m.updateSnapshot();const p=Pt(),v=m.measurePageBox();_i(p,v),GS(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return mo(this.latestValues)&&GS(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=wn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),cd(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),_i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_i(this.target,this.layout.layoutBox),SC(this.target,this.targetDelta)):_i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),cd(this.relativeTargetOrigin,this.target,b.target),_i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||kx(this.parent.latestValues)||TC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;_i(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;E8(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Pt());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HS(this.prevProjectionDelta.x,this.projectionDelta.x),HS(this.prevProjectionDelta.y,this.projectionDelta.y)),ld(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!QS(this.projectionDelta.x,this.prevProjectionDelta.x)||!QS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$l(),this.projectionDelta=$l(),this.projectionDeltaWithTransform=$l()}setAnimationOrigin(l,u=!1){const f=this.snapshot,m=f?f.latestValues:{},p={...this.latestValues},v=$l();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Pt(),_=f?f.source:void 0,A=this.layout?this.layout.source:void 0,C=_!==A,j=this.getStack(),P=!j||j.members.length<=1,U=!!(C&&!P&&this.options.crossfade===!0&&!this.path.some(sB));this.animationProgress=0;let z;this.mixTargetDelta=K=>{const Q=K/1e3;tE(v.x,l.x,Q),tE(v.y,l.y,Q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iB(this.relativeTarget,this.relativeTargetOrigin,b,Q),z&&zU(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Pt()),_i(z,this.relativeTarget)),C&&(this.animationValues=p,PU(p,m,this.latestValues,Q,U,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ba(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{xm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hc(0)),this.currentAnimation=RU(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($U),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:m,latestValues:p}=l;if(!(!u||!f||!m)){if(this!==l&&this.layout&&m&&WC(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Pt();const v=Hn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+v;const b=Hn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+b}_i(u,f),ql(u,p),ld(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new HU),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const m={};f.z&&fy("z",l,m,this.animationValues);for(let p=0;p<hy.length;p++)fy(`rotate${hy[p]}`,l,m,this.animationValues),fy(`skew${hy[p]}`,l,m,this.animationValues);l.render();for(const p in m)l.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=ym(u?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=ym(u?.pointerEvents)||""),this.hasProjected&&!mo(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=qU(this.projectionDeltaWithTransform,this.treeScale,p);f&&(v=f(p,v)),l.transform=v;const{x:b,y:_}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,m.animationValues?l.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const A in Id){if(p[A]===void 0)continue;const{correct:C,applyTo:j,isCSSVariable:P}=Id[A],U=v==="none"?p[A]:C(p[A],m);if(j){const z=j.length;for(let K=0;K<z;K++)l[j[K]]=U}else P?this.options.visualElement.renderState.vars[A]=U:l[A]=U}this.options.layoutId&&(l.pointerEvents=m===this?ym(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(ZS),this.root.sharedNodes.clear()}}}function WU(t){t.updateLayout()}function YU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Si(p=>{const v=o?e.measuredBox[p]:e.layoutBox[p],b=Hn(v);v.min=n[p].min,v.max=v.min+b}):WC(s,e.layoutBox,n)&&Si(p=>{const v=o?e.measuredBox[p]:e.layoutBox[p],b=Hn(n[p]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+b)});const l=$l();ld(l,n,e.layoutBox);const u=$l();o?ld(u,t.applyTransform(i,!0),e.measuredBox):ld(u,n,e.layoutBox);const f=!HC(l);let m=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:b}=p;if(v&&b){const _=Pt();cd(_,e.layoutBox,v.layoutBox);const A=Pt();cd(A,n,b.layoutBox),qC(_,A)||(m=!0),p.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=_,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function KU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function XU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function QU(t){t.clearSnapshot()}function ZS(t){t.clearMeasurements()}function JS(t){t.isLayoutDirty=!1}function ZU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function eE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function JU(t){t.resolveTargetDelta()}function eB(t){t.calcProjection()}function tB(t){t.resetSkewAndRotation()}function nB(t){t.removeLeadSnapshot()}function tE(t,e,n){t.translate=Et(e.translate,0,n),t.scale=Et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nE(t,e,n,i){t.min=Et(e.min,n.min,i),t.max=Et(e.max,n.max,i)}function iB(t,e,n,i){nE(t.x,e.x,n.x,i),nE(t.y,e.y,n.y,i)}function sB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rB={duration:.45,ease:[.4,0,.1,1]},iE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sE=iE("applewebkit/")&&!iE("chrome/")?Math.round:Ni;function rE(t){t.min=sE(t.min),t.max=sE(t.max)}function aB(t){rE(t.x),rE(t.y)}function WC(t,e,n){return t==="position"||t==="preserve-aspect"&&!hU(XS(e),XS(n),.2)}function oB(t){return t!==t.root&&t.scroll?.wasRoot}const lB=GC({attachResizeListener:(t,e)=>Od(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),my={current:void 0},YC=GC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!my.current){const t=new lB({});t.mount(window),t.setOptions({layoutScroll:!0}),my.current=t}return my.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cB={pan:{Feature:AU},drag:{Feature:kU,ProjectionNode:YC,MeasureLayout:BC}};function aE(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&bt.postRender(()=>o(e,ih(e)))}class uB extends Ta{mount(){const{current:e}=this.node;e&&(this.unmount=ML(e,(n,i)=>(aE(this.node,i,"Start"),s=>aE(this.node,s,"End"))))}unmount(){}}class dB extends Ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eh(Od(this.node.current,"focus",()=>this.onFocus()),Od(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oE(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&bt.postRender(()=>o(e,ih(e)))}class hB extends Ta{mount(){const{current:e}=this.node;e&&(this.unmount=VL(e,(n,i)=>(oE(this.node,i,"Start"),(s,{success:o})=>oE(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Mx=new WeakMap,gy=new WeakMap,fB=t=>{const e=Mx.get(t.target);e&&e(t)},mB=t=>{t.forEach(fB)};function gB({root:t,...e}){const n=t||document;gy.has(n)||gy.set(n,{});const i=gy.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(mB,{root:t,...e})),i[s]}function pB(t,e,n){const i=gB(e);return Mx.set(t,n),i.observe(t),()=>{Mx.delete(t),i.unobserve(t)}}const yB={some:0,all:1};class xB extends Ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:yB[s]},u=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),b=m?p:v;b&&b(f)};return pB(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vB(e,n))&&this.startObserver()}unmount(){}}function vB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const bB={inView:{Feature:xB},tap:{Feature:hB},focus:{Feature:dB},hover:{Feature:uB}},wB={layout:{ProjectionNode:YC,MeasureLayout:BC}},_B={...aU,...bB,...cB,...wB},ee=_8(_B,O8),KC=k.createContext(),kc=()=>{const t=k.useContext(KC);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},TB=({children:t})=>{const e=()=>{try{const l=localStorage.getItem("theme");return l==="dark"||l==="light"?l:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}catch{return"light"}},[n,i]=k.useState(e);k.useEffect(()=>{const l=document.documentElement;n==="dark"?l.classList.add("dark"):l.classList.remove("dark");try{localStorage.setItem("theme",n)}catch{}},[n]);const s=()=>i(l=>l==="dark"?"light":"dark"),o=k.useMemo(()=>({theme:n,setTheme:i,toggleTheme:s,isDark:n==="dark"}),[n]);return d.jsx(KC.Provider,{value:o,children:t})};function SB(){const{isDark:t}=kc(),[e,n]=k.useState(!1);k.useEffect(()=>{const o=()=>{const l=document.getElementById("stats-section");l&&l.getBoundingClientRect().top<window.innerHeight-100&&(n(!0),window.removeEventListener("scroll",o))};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const i=[{label:"Beta Testing Partners",value:25,suffix:"+",icon:RV,description:"Healthcare facilities in our pilot program"},{label:"Active Beta Users",value:150,suffix:"+",icon:L9,description:"Healthcare professionals testing our platform"},{label:"Test Patients Onboarded",value:750,suffix:"+",icon:dr,description:"Patients participating in our beta program"},{label:"Platform Uptime",value:99.2,suffix:"%",icon:So,description:"Reliability during development phase"}],s={hidden:{opacity:0,y:30},visible:o=>({opacity:1,y:0,transition:{delay:o*.15,duration:.6,ease:"easeOut"}})};return d.jsx("section",{id:"stats-section",className:"py-20 bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(ee.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[d.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-full text-sm font-semibold shadow-sm border border-emerald-200 dark:border-emerald-800 mb-6",children:[d.jsx(YV,{className:"w-4 h-4 mr-2"}),"Currently in Development"]}),d.jsxs("h2",{className:"text-3xl lg:text-4xl font-black text-gray-900 dark:text-gray-100 mb-4",children:["Building the Future of",d.jsx("span",{className:"gradient-accent bg-clip-text text-transparent",children:" Healthcare"})]}),d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"We're working closely with healthcare professionals to create a platform that truly serves their needs. Here's our progress so far."})]}),d.jsx(ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((o,l)=>d.jsxs(ee.div,{className:"group text-center bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-2xl p-8 border border-white/50 dark:border-gray-700/50 shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300",custom:l,variants:s,children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:d.jsx(o.icon,{className:"h-8 w-8 text-emerald-600 dark:text-emerald-400"})})}),d.jsx("div",{className:"text-4xl font-black text-gray-900 dark:text-gray-100 mb-2",children:e&&d.jsx(pN,{start:0,end:o.value,duration:2.5,separator:",",decimals:o.value%1!==0?1:0,suffix:o.suffix})}),d.jsx("div",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-3",children:o.label}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:o.description})]},l))}),d.jsx(ee.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},className:"mt-16 text-center",children:d.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl border border-blue-200 dark:border-blue-800 p-8",children:[d.jsx("div",{className:"flex items-center justify-center mb-4",children:d.jsxs("div",{className:"flex space-x-1",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3",children:"Join Our Beta Program"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 max-w-2xl mx-auto",children:"Be among the first healthcare professionals to experience CareSync. Get early access, provide feedback, and help shape the future of healthcare technology."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx("button",{className:"gradient-accent text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-300",children:"Request Beta Access"}),d.jsx("button",{className:"border-2 border-blue-500 text-blue-600 dark:text-blue-400 px-8 py-3 rounded-xl font-semibold hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-300",children:"View Roadmap"})]})]})}),d.jsxs(ee.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"mt-16",children:[d.jsx("h3",{className:"text-2xl font-bold text-center text-gray-900 dark:text-gray-100 mb-8",children:"Development Milestones"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{phase:"Phase 1",title:"Core Platform",status:"Completed",description:"Basic user management and dashboard",color:"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300"},{phase:"Phase 2",title:"Healthcare Features",status:"In Progress",description:"Patient records, prescriptions, appointments",color:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300"},{phase:"Phase 3",title:"AI Integration",status:"Planned",description:"Smart recommendations and analytics",color:"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}].map((o,l)=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:o.phase}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${o.color}`,children:o.status})]}),d.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:o.title}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.description})]},l))})]})]})})}function EB({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const kB=k.forwardRef(EB);function AB({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M11.47 10.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 12.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}),k.createElement("path",{fillRule:"evenodd",d:"M11.47 4.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 6.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const NB=k.forwardRef(AB);function CB({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const jB=k.forwardRef(CB);function RB({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const DB=k.forwardRef(RB);function MB({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const IB=k.forwardRef(MB);function OB({title:t,titleId:e,...n},i){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?k.createElement("title",{id:e},t):null,k.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const PB=k.forwardRef(OB);function VB(){const t=[{name:"Starter",price:29,period:"/month",description:"Perfect for small clinics",features:["Up to 100 patients","Basic dashboard","Prescription management","Email support","Mobile app access"],cta:"Start Free Trial",popular:!1},{name:"Professional",price:99,period:"/month",description:"Best for growing practices",features:["Up to 1,000 patients","Advanced analytics","AI-powered insights","Priority support","API integrations","Custom branding"],cta:"Start Free Trial",popular:!0},{name:"Enterprise",price:0,period:"",description:"For large healthcare systems",features:["Unlimited patients","Custom integrations","Dedicated support","Advanced security","Custom workflows","SLA guarantee"],cta:"Contact Sales",popular:!1}],[e,n]=k.useState(t.map(()=>0));return k.useEffect(()=>{t.forEach((i,s)=>{if(i.price>0){let o=0;const l=i.price/25,u=setInterval(()=>{o+=l,n(f=>{const m=[...f];return m[s]=Math.floor(o),m}),o>=i.price&&clearInterval(u)},30)}else setTimeout(()=>{n(o=>{const l=[...o];return l[s]="Custom",l})},500)})},[]),d.jsxs("section",{id:"pricing",className:"py-20 bg-gray-50 dark:bg-gray-900",children:[d.jsx("style",{children:`
          @keyframes badgeBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
          }
          .badge-bounce { animation: badgeBounce 0.6s ease forwards; }

          @keyframes pulseOnce {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
          }
          .pulse-once { animation: pulseOnce 0.8s ease forwards; }

          @keyframes tickPop {
            0% { transform: scale(0); opacity: 0; }
            60% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); }
          }
          .tick-animate { animation: tickPop 0.4s ease forwards; }

          @keyframes fadeInCustom {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
          }
          .fade-in-custom { animation: fadeInCustom 0.5s ease forwards; }
        `}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{"data-aos":"fade-up",className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Simple, Transparent Pricing"}),d.jsx("p",{"data-aos":"fade-up","data-aos-duration":"900",className:"text-xl text-gray-600 dark:text-gray-300",children:"Choose the plan that's right for your healthcare needs"})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:t.map((i,s)=>d.jsxs("div",{"data-aos":"zoom-in","data-aos-delay":s*150,className:`bg-white dark:bg-gray-800 rounded-2xl p-8 relative transform transition-transform duration-300 hover:rotate-x-2 hover:rotate-y-2 hover:scale-105 hover:shadow-xl dark:hover:shadow-gray-900/50 ${i.popular?"ring-2 ring-primary-600 scale-105":""}`,style:{transformStyle:"preserve-3d"},children:[i.popular&&d.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 badge-bounce",children:d.jsx("span",{className:"bg-primary-600 text-white px-4 py-1 rounded-full text-sm font-medium shadow-md",children:"Most Popular"})}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:i.name}),d.jsxs("div",{className:"mb-2",children:[e[s]==="Custom"?d.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100 fade-in-custom",children:"Custom"}):d.jsxs("span",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:["$",e[s]]}),d.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i.period})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:i.description})]}),d.jsx("ul",{className:"space-y-3 mb-8",children:i.features.map((o,l)=>d.jsxs("li",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[d.jsx(kB,{className:"h-4 w-4 text-green-500 mr-3 tick-animate"}),o]},l))}),d.jsx("button",{className:`w-full py-3 px-4 rounded-lg font-semibold transition-colors ${i.popular?"bg-primary-600 text-white hover:bg-primary-700 pulse-once":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:i.cta})]},s))})]})]})}function LB(){const t=[{name:"Dr. Sarah Johnson",role:"Cardiologist",hospital:"Metro General Hospital",content:"CareSync has revolutionized how I manage my patients. The AI-powered insights help me make better diagnoses, and the seamless communication with pharmacists ensures my patients get the right medications quickly.",rating:5},{name:"Michael Chen",role:"Pharmacist",hospital:"HealthPlus Pharmacy",content:"The prescription management system is incredibly efficient. We've reduced processing time by 60% and eliminated prescription errors. The integration with doctors' systems is flawless.",rating:5},{name:"Emma Rodriguez",role:"Patient",hospital:"User since 2024",content:"As someone with chronic conditions, CareSync has been a lifesaver. I never miss medications thanks to smart reminders, and I can easily track my health progress and communicate with my care team.",rating:5},{name:"John Williams",role:"Surgeon",hospital:"City Hospital",content:"The scheduling and patient management tools have significantly improved our workflow. Highly recommended for busy hospital environments.",rating:5},{name:"Sophia Patel",role:"Nurse",hospital:"Green Valley Clinic",content:"Real-time updates and patient monitoring make my job much easier. The interface is intuitive and easy to use.",rating:4},{name:"David Lee",role:"Orthopedic Specialist",hospital:"Sunrise Medical Center",content:"CareSync integrates seamlessly with our existing systems. The analytics help in identifying patient trends effectively.",rating:5},{name:"Olivia Brown",role:"General Practitioner",hospital:"Community Health Hub",content:"The mobile app is a game-changer. I can check patient records and respond to messages even when I'm out of the clinic.",rating:4},{name:"James Anderson",role:"Physician",hospital:"Central Health",content:"Customer support is responsive and helpful. The software is reliable and easy to adopt.",rating:5}],[e,n]=k.useState(0),[i,s]=k.useState(0),o=4,l=Math.ceil(t.length/o),u=()=>{s(-1),n(v=>v>0?v-1:l-1)},f=()=>{s(1),n(v=>v<l-1?v+1:0)},m=t.slice(e*o,e*o+o),p={enter:v=>({x:v>0?50:-50,opacity:0}),center:{x:0,opacity:1},exit:v=>({x:v>0?-50:50,opacity:0})};return d.jsx("section",{id:"testimonials",className:"py-20 bg-white dark:bg-gray-950",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"What Our Users Say"}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Join thousands of healthcare professionals who trust CareSync to deliver exceptional patient care"})]}),d.jsx(or,{mode:"wait",custom:i,children:d.jsx(ee.div,{custom:i,variants:p,initial:"enter",animate:"center",exit:"exit",transition:{duration:.4,ease:"easeInOut"},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:m.map((v,b)=>d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-2xl p-6 shadow-md hover:shadow-xl dark:hover:shadow-gray-900/50 transition transform hover:-translate-y-2",children:[d.jsx("div",{className:"flex items-center mb-4",children:[...Array(v.rating)].map((_,A)=>d.jsx(PB,{className:"h-5 w-5 text-yellow-400 fill-current"},A))}),d.jsxs("p",{className:"text-gray-700 dark:text-gray-200 mb-6 italic",children:['"',v.content,'"']}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mr-4 font-semibold text-emerald-600 dark:text-emerald-400",children:v.name.split(" ").map(_=>_[0]).join("")}),d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:v.name}),d.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:v.role}),d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.hospital})]})]})]},b))},e)}),d.jsxs("div",{className:"flex justify-center items-center gap-4 mt-10",children:[d.jsx("button",{onClick:u,className:"bg-white dark:bg-gray-800 shadow-lg dark:shadow-gray-900/50 rounded-full p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition","aria-label":"Previous testimonials",children:d.jsx(jB,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})}),d.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Page ",e+1," of ",l]}),d.jsx("button",{onClick:f,className:"bg-white dark:bg-gray-800 shadow-lg dark:shadow-gray-900/50 rounded-full p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition","aria-label":"Next testimonials",children:d.jsx(DB,{className:"h-6 w-6 text-gray-700 dark:text-gray-300"})})]})]})})}function XC(){const{isDark:t}=kc(),e=[{title:"Product",links:["Features","Pricing","API Documentation","Integrations","Security"]},{title:"Company",links:["About Us","Careers","Press","Partners","Contact"]},{title:"Resources",links:["Blog","Help Center","Community","Webinars","Status"]}],[n,i]=Co.useState(!1);return Co.useEffect(()=>{const s=()=>{window.scrollY>300?i(!0):i(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),d.jsxs("footer",{id:"contact",className:"bg-primary-100 dark:bg-primary-900 text-primary-900 dark:text-primary-50 w-full z-50",children:[n&&d.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed h-10 w-10 text-xl z-1000 bottom-8 right-8 bg-gradient-to-r from-medical-500 to-primary-600 text-white p-2 rounded-lg font-bold cursor-pointer hover:bg-gradient-to-r hover:from-primary-500 hover:to-medical-600 hover:scale-110 transition-colors",children:[d.jsx(NB,{})," "]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-10",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:d.jsx(IB,{className:"h-6 w-6 text-white"})}),d.jsx("span",{className:"ml-2 text-xl font-bold",children:"CareSync"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:"Revolutionizing healthcare through seamless collaboration between patients, doctors, and pharmacists."}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("a",{href:"#","aria-label":"Social 1",className:"w-10 h-10 bg-gray-300 dark:bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-400 dark:hover:bg-primary-600 transition-colors",children:d.jsx(c9,{className:"h-5 w-5 text-gray-700 dark:text-white"})}),d.jsx("a",{href:"#","aria-label":"Social 2",className:"w-10 h-10 bg-gray-300 dark:bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-400 dark:hover:bg-primary-600 transition-colors",children:d.jsx(AV,{className:"h-5 w-5 text-gray-700 dark:text-white"})}),d.jsx("a",{href:"#","aria-label":"Social 3",className:"w-10 h-10 bg-gray-300 dark:bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-400 dark:hover:bg-primary-600 transition-colors",children:d.jsx(CV,{className:"h-5 w-5 text-gray-700 dark:text-white"})})]})]}),e.map(s=>d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4 text-gray-900 dark:text-white",children:s.title}),d.jsx("ul",{className:"space-y-2 text-sm",children:s.links.map(o=>d.jsx("li",{children:o==="Pricing"?d.jsx("a",{href:"#pricing",className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:o}):d.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:o})},o))})]},s.title))]}),d.jsxs("div",{className:"mt-10 border-t border-gray-400 dark:border-gray-800 pt-6 text-xs text-gray-600 dark:text-gray-500 flex flex-col sm:flex-row items-center justify-between gap-3",children:[d.jsxs("span",{children:[" ",new Date().getFullYear()," CareSync. All rights reserved."]}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("a",{href:"#",className:"hover:text-gray-900 dark:hover:text-white",children:"Privacy"}),d.jsx("a",{href:"#",className:"hover:text-gray-900 dark:hover:text-white",children:"Terms"}),d.jsx("a",{href:"#",className:"hover:text-gray-900 dark:hover:text-white",children:"Cookies"})]})]})]})]})}const UB=()=>{const[t,e]=k.useState({stars:0,forks:0,contributors:0});return k.useEffect(()=>{(async()=>{try{const i="akathedeveloper",s="CareSync",l=await(await fetch(`https://api.github.com/repos/${i}/${s}`)).json(),f=await(await fetch(`https://api.github.com/repos/${i}/${s}/contributors?per_page=100`)).json();e({stars:l.stargazers_count,forks:l.forks_count,contributors:f.length})}catch(i){console.error("Error fetching GitHub data:",i)}})()},[]),d.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsxs("h2",{className:"text-5xl font-bold text-gray-800 dark:text-gray-100 mb-6",children:["Join Our Healthcare"," ",d.jsx("span",{className:"gradient-accent-alt bg-clip-text text-transparent",children:"Community"})]}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Built by healthcare professionals and developers, for the healthcare community"})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[d.jsxs("div",{className:"group bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-8 border border-green-200 dark:border-green-700 hover:border-green-300 dark:hover:border-green-600 transition-all duration-300 hover:shadow-xl hover:shadow-green-100 dark:hover:shadow-green-900/20 hover:-translate-y-1",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"100% Free"}),d.jsx("h4",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-4",children:"Open Source"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"MIT Licensed, free forever for healthcare providers"})]}),d.jsxs("div",{className:"group bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-8 border border-green-200 dark:border-green-700 hover:border-green-300 dark:hover:border-green-600 transition-all duration-300 hover:shadow-xl hover:shadow-green-100 dark:hover:shadow-green-900/20 hover:-translate-y-1",children:[d.jsxs("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:[t.contributors,"+ Active"]}),d.jsx("h4",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-4",children:"Contributors"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Healthcare professionals and developers worldwide"})]}),d.jsxs("div",{className:"group bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-8 border border-green-200 dark:border-green-700 hover:border-green-300 dark:hover:border-green-600 transition-all duration-300 hover:shadow-xl hover:shadow-green-100 dark:hover:shadow-green-900/20 hover:-translate-y-1",children:[d.jsxs("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:[t.stars," ",d.jsx("span",{className:"text-yellow-500",children:""})," ",t.forks," Forks"]}),d.jsx("h4",{className:"text-lg font-semibold text-green-600 dark:text-green-400 mb-4",children:"GitHub Activity"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Active development and community support"})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[d.jsx("button",{className:"group gradient-accent-alt text-white px-8 py-4 rounded-xl transition-all duration-200 shadow-lg shadow-green-200 dark:shadow-green-900/30 hover:shadow-xl hover:shadow-green-300 dark:hover:shadow-green-900/50 flex items-center gap-3 font-medium",children:"Contribute on GitHub"}),d.jsx("button",{className:"group bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm text-green-600 dark:text-green-400 px-8 py-4 rounded-xl border border-green-200 dark:border-green-700 hover:border-green-300 dark:hover:border-green-600 hover:bg-white dark:hover:bg-gray-700 transition-all duration-200 shadow-lg shadow-green-100 dark:shadow-green-900/20 hover:shadow-xl hover:shadow-green-200 dark:hover:shadow-green-900/40 flex items-center gap-3 font-medium",children:"Report Issues"})]})]})},BB=()=>d.jsx("div",{id:"contact-form",className:"pt-24 pb-16 flex justify-center items-start px-4 min-h-[70vh] md:min-h-[90vh]",children:d.jsxs("div",{className:"w-full md:max-w-4xl bg-gray-300/70 dark:bg-gray-800/70 rounded-2xl p-6 md:p-12 shadow-xl border border-gray-400 dark:border-gray-700",children:[d.jsx("h3",{className:"text-2xl md:text-3xl font-semibold mb-4 text-center",children:"Have any questions? "}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm md:text-base mb-6 text-center",children:"Subscribe to our newsletter or drop your query below. Well get back to you soon!"}),d.jsxs("form",{className:"flex flex-col sm:flex-row gap-3 mb-6",onSubmit:t=>t.preventDefault(),children:[d.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-5 py-2.5 rounded-lg bg-gray-200 dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm md:text-base"}),d.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg font-semibold transition-all duration-200 shadow-md text-sm md:text-base",children:"Subscribe"})]}),d.jsxs("div",{children:[d.jsx("textarea",{placeholder:"Write your message...",rows:3,className:"w-full px-5 py-2.5 rounded-lg bg-gray-200 dark:bg-gray-900 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm md:text-base"}),d.jsx("button",{type:"button",className:"mt-3 w-full py-2.5 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-lg font-semibold transition-all duration-200 shadow-md text-sm md:text-base",children:"Send Message"})]})]})});function QC(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=QC(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Cg(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=QC(t))&&(i&&(i+=" "),i+=e);return i}const FB=(t,e,n,i)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const s=Object.getOwnPropertyDescriptor(t,n),o=Object.getOwnPropertyDescriptor(e,n);!zB(s,o)&&i||Object.defineProperty(t,n,o)},zB=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},HB=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},qB=(t,e)=>`/* Wrapped ${t}*/
${e}`,$B=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),GB=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),WB=(t,e,n)=>{const i=n===""?"":`with ${n.trim()}() `,s=qB.bind(null,i,e.toString());Object.defineProperty(s,"name",GB);const{writable:o,enumerable:l,configurable:u}=$B;Object.defineProperty(t,"toString",{value:s,writable:o,enumerable:l,configurable:u})};function YB(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:i}=t;for(const s of Reflect.ownKeys(e))FB(t,e,s,n);return HB(t,e),WB(t,e,i),t}const KB=new WeakMap,lE=new WeakMap;function ZC(t,{cacheKey:e,cache:n=new Map,maxAge:i}={}){if(i===0)return t;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const s=function(...o){const l=e?e(o):o[0],u=n.get(l);if(u)return u.data;const f=t.apply(this,o),m=typeof i=="function"?i(...o):i;if(n.set(l,{data:f,maxAge:m?Date.now()+m:Number.POSITIVE_INFINITY}),m&&m>0&&m!==Number.POSITIVE_INFINITY){const p=setTimeout(()=>{n.delete(l)},m);p.unref?.();const v=lE.get(t)??new Set;v.add(p),lE.set(t,v)}return f};return YB(s,t,{ignoreNonConfigurable:!0}),KB.set(s,n),s}function XB(t){return typeof t=="string"}function QB(t,e,n){return n.indexOf(t)===e}function ZB(t){return t.toLowerCase()===t}function cE(t){return t.indexOf(",")===-1?t:t.split(",")}function Ix(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return Ix(n)}if(t.indexOf("@")!==-1){var i=t.split("@")[0],n=i===void 0?"":i;return Ix(n)}if(t.indexOf("-")===-1||!ZB(t))return t;var s=t.split("-"),o=s[0],l=s[1],u=l===void 0?"":l;return"".concat(o,"-").concat(u.toUpperCase())}function JB(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,i=n===void 0?!0:n,s=e.fallbackLocale,o=s===void 0?"en-US":s,l=[];if(typeof navigator<"u"){for(var u=navigator.languages||[],f=[],m=0,p=u;m<p.length;m++){var v=p[m];f=f.concat(cE(v))}var b=navigator.language,_=b&&cE(b);l=l.concat(f,_)}return i&&l.push(o),l.filter(XB).map(Ix).filter(QB)}var eF=ZC(JB,{cacheKey:JSON.stringify});function tF(t){return eF(t)[0]||null}var JC=ZC(tF,{cacheKey:JSON.stringify});function wr(t,e,n){return function(s,o=n){const l=t(s)+o;return e(l)}}function sh(t){return function(n){return new Date(t(n).getTime()-1)}}function rh(t,e){return function(i){return[t(i),e(i)]}}function wt(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Sa(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function jg(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Ac(t){const e=wt(t),n=e+(-e+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const nF=wr(wt,Ac,-100),e4=wr(wt,Ac,100),jb=sh(e4),iF=wr(wt,jb,-100),t4=rh(Ac,jb);function Ea(t){const e=wt(t),n=e+(-e+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const n4=wr(wt,Ea,-10),Rb=wr(wt,Ea,10),Rg=sh(Rb),i4=wr(wt,Rg,-10),s4=rh(Ea,Rg);function Nc(t){const e=wt(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const r4=wr(wt,Nc,-1),Db=wr(wt,Nc,1),Dg=sh(Db),a4=wr(wt,Dg,-1),sF=rh(Nc,Dg);function Mb(t,e){return function(i,s=e){const o=wt(i),l=Sa(i)+s,u=new Date;return u.setFullYear(o,l,1),u.setHours(0,0,0,0),t(u)}}function Bo(t){const e=wt(t),n=Sa(t),i=new Date;return i.setFullYear(e,n,1),i.setHours(0,0,0,0),i}const o4=Mb(Bo,-1),Ib=Mb(Bo,1),ah=sh(Ib),l4=Mb(ah,-1),rF=rh(Bo,ah);function aF(t,e){return function(i,s=e){const o=wt(i),l=Sa(i),u=jg(i)+s,f=new Date;return f.setFullYear(o,l,u),f.setHours(0,0,0,0),t(f)}}function oh(t){const e=wt(t),n=Sa(t),i=jg(t),s=new Date;return s.setFullYear(e,n,i),s.setHours(0,0,0,0),s}const oF=aF(oh,1),Ob=sh(oF),lF=rh(oh,Ob);function c4(t){return jg(ah(t))}var Sn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},cF={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Pb=[0,1,2,3,4,5,6],py=new Map;function uF(t){return function(n,i){var s=n||JC();py.has(s)||py.set(s,new Map);var o=py.get(s);return o.has(t)||o.set(t,new Intl.DateTimeFormat(s||void 0,t).format),o.get(t)(i)}}function dF(t){var e=new Date(t);return new Date(e.setHours(12))}function Fo(t){return function(e,n){return uF(t)(e,dF(n))}}var hF={day:"numeric"},fF={day:"numeric",month:"long",year:"numeric"},mF={month:"long"},gF={month:"long",year:"numeric"},pF={weekday:"short"},yF={weekday:"long"},xF={year:"numeric"},vF=Fo(hF),bF=Fo(fF),wF=Fo(mF),u4=Fo(gF),_F=Fo(pF),TF=Fo(yF),Mg=Fo(xF),SF=Pb[0],EF=Pb[5],uE=Pb[6];function Pd(t,e){e===void 0&&(e=Sn.ISO_8601);var n=t.getDay();switch(e){case Sn.ISO_8601:return(n+6)%7;case Sn.ISLAMIC:return(n+1)%7;case Sn.HEBREW:case Sn.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function kF(t){var e=Ac(t);return wt(e)}function AF(t){var e=Ea(t);return wt(e)}function Ox(t,e){e===void 0&&(e=Sn.ISO_8601);var n=wt(t),i=Sa(t),s=t.getDate()-Pd(t,e);return new Date(n,i,s)}function NF(t,e){e===void 0&&(e=Sn.ISO_8601);var n=e===Sn.GREGORY?Sn.GREGORY:Sn.ISO_8601,i=Ox(t,e),s=wt(t)+1,o,l;do o=new Date(s,0,n===Sn.ISO_8601?4:1),l=Ox(o,e),s-=1;while(t<l);return Math.round((i.getTime()-l.getTime())/(864e5*7))+1}function Ao(t,e){switch(t){case"century":return Ac(e);case"decade":return Ea(e);case"year":return Nc(e);case"month":return Bo(e);case"day":return oh(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function CF(t,e){switch(t){case"century":return nF(e);case"decade":return n4(e);case"year":return r4(e);case"month":return o4(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function d4(t,e){switch(t){case"century":return e4(e);case"decade":return Rb(e);case"year":return Db(e);case"month":return Ib(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function jF(t,e){switch(t){case"decade":return n4(e,-100);case"year":return r4(e,-10);case"month":return o4(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function RF(t,e){switch(t){case"decade":return Rb(e,100);case"year":return Db(e,10);case"month":return Ib(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function h4(t,e){switch(t){case"century":return jb(e);case"decade":return Rg(e);case"year":return Dg(e);case"month":return ah(e);case"day":return Ob(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function DF(t,e){switch(t){case"century":return iF(e);case"decade":return i4(e);case"year":return a4(e);case"month":return l4(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function MF(t,e){switch(t){case"decade":return i4(e,-100);case"year":return a4(e,-10);case"month":return l4(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function dE(t,e){switch(t){case"century":return t4(e);case"decade":return s4(e);case"year":return sF(e);case"month":return rF(e);case"day":return lF(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function IF(t,e,n){var i=[e,n].sort(function(s,o){return s.getTime()-o.getTime()});return[Ao(t,i[0]),h4(t,i[1])]}function f4(t,e,n){return n.map(function(i){return(e||Mg)(t,i)}).join("  ")}function OF(t,e,n){return f4(t,e,t4(n))}function m4(t,e,n){return f4(t,e,s4(n))}function PF(t){return t.getDay()===new Date().getDay()}function g4(t,e){e===void 0&&(e=Sn.ISO_8601);var n=t.getDay();switch(e){case Sn.ISLAMIC:case Sn.HEBREW:return n===EF||n===uE;case Sn.ISO_8601:case Sn.GREGORY:return n===uE||n===SF;default:throw new Error("Unsupported calendar type.")}}var ds="react-calendar__navigation";function VF(t){var e=t.activeStartDate,n=t.drillUp,i=t.formatMonthYear,s=i===void 0?u4:i,o=t.formatYear,l=o===void 0?Mg:o,u=t.locale,f=t.maxDate,m=t.minDate,p=t.navigationAriaLabel,v=p===void 0?"":p,b=t.navigationAriaLive,_=t.navigationLabel,A=t.next2AriaLabel,C=A===void 0?"":A,j=t.next2Label,P=j===void 0?"":j,U=t.nextAriaLabel,z=U===void 0?"":U,K=t.nextLabel,Q=K===void 0?"":K,te=t.prev2AriaLabel,L=te===void 0?"":te,E=t.prev2Label,N=E===void 0?"":E,D=t.prevAriaLabel,I=D===void 0?"":D,O=t.prevLabel,V=O===void 0?"":O,X=t.setActiveStartDate,se=t.showDoubleView,F=t.view,$=t.views,le=$.indexOf(F)>0,fe=F!=="century",ue=CF(F,e),ve=fe?jF(F,e):void 0,xe=d4(F,e),he=fe?RF(F,e):void 0,ke=(function(){if(ue.getFullYear()<0)return!0;var Ge=DF(F,e);return m&&m>=Ge})(),$e=fe&&(function(){if(ve.getFullYear()<0)return!0;var Ge=MF(F,e);return m&&m>=Ge})(),Be=f&&f<xe,At=fe&&f&&f<he;function Nt(){X(ue,"prev")}function ct(){X(ve,"prev2")}function tn(){X(xe,"next")}function Wt(){X(he,"next2")}function kn(Ge){var An=(function(){switch(F){case"century":return OF(u,l,Ge);case"decade":return m4(u,l,Ge);case"year":return l(u,Ge);case"month":return s(u,Ge);default:throw new Error("Invalid view: ".concat(F,"."))}})();return _?_({date:Ge,label:An,locale:u||JC()||void 0,view:F}):An}function Ct(){var Ge="".concat(ds,"__label");return d.jsxs("button",{"aria-label":v,"aria-live":b,className:Ge,disabled:!le,onClick:n,style:{flexGrow:1},type:"button",children:[d.jsx("span",{className:"".concat(Ge,"__labelText ").concat(Ge,"__labelText--from"),children:kn(e)}),se?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"".concat(Ge,"__divider"),children:"  "}),d.jsx("span",{className:"".concat(Ge,"__labelText ").concat(Ge,"__labelText--to"),children:kn(xe)})]}):null]})}return d.jsxs("div",{className:ds,children:[N!==null&&fe?d.jsx("button",{"aria-label":L,className:"".concat(ds,"__arrow ").concat(ds,"__prev2-button"),disabled:$e,onClick:ct,type:"button",children:N}):null,V!==null&&d.jsx("button",{"aria-label":I,className:"".concat(ds,"__arrow ").concat(ds,"__prev-button"),disabled:ke,onClick:Nt,type:"button",children:V}),Ct(),Q!==null&&d.jsx("button",{"aria-label":z,className:"".concat(ds,"__arrow ").concat(ds,"__next-button"),disabled:Be,onClick:tn,type:"button",children:Q}),P!==null&&fe?d.jsx("button",{"aria-label":C,className:"".concat(ds,"__arrow ").concat(ds,"__next2-button"),disabled:At,onClick:Wt,type:"button",children:P}):null]})}var Gl=function(){return Gl=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Gl.apply(this,arguments)},LF=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function hE(t){return"".concat(t,"%")}function Vb(t){var e=t.children,n=t.className,i=t.count,s=t.direction,o=t.offset,l=t.style,u=t.wrap,f=LF(t,["children","className","count","direction","offset","style","wrap"]);return d.jsx("div",Gl({className:n,style:Gl({display:"flex",flexDirection:s,flexWrap:u?"wrap":"nowrap"},l)},f,{children:k.Children.map(e,function(m,p){var v=o&&p===0?hE(100*o/i):null;return k.cloneElement(m,Gl(Gl({},m.props),{style:{flexBasis:hE(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:v,marginInlineStart:v,marginInlineEnd:0}}))})}))}function UF(t,e,n){return e&&e>t?e:n&&n<t?n:t}function Vd(t,e){return e[0]<=t&&e[1]>=t}function BF(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function p4(t,e){return Vd(t[0],e)||Vd(t[1],e)}function fE(t,e,n){var i=p4(e,t),s=[];if(i){s.push(n);var o=Vd(t[0],e),l=Vd(t[1],e);o&&s.push("".concat(n,"Start")),l&&s.push("".concat(n,"End")),o&&l&&s.push("".concat(n,"BothEnds"))}return s}function FF(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function zF(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,i=t.hover,s="react-calendar__tile",o=[s];if(!n)return o;var l=new Date,u=(function(){if(Array.isArray(n))return n;var _=t.dateType;if(!_)throw new Error("dateType is required when date is not an array of two dates");return dE(_,n)})();if(Vd(l,u)&&o.push("".concat(s,"--now")),!e||!FF(e))return o;var f=(function(){if(Array.isArray(e))return e;var _=t.valueType;if(!_)throw new Error("valueType is required when value is not an array of two dates");return dE(_,e)})();BF(f,u)?o.push("".concat(s,"--active")):p4(f,u)&&o.push("".concat(s,"--hasActive"));var m=fE(f,u,"".concat(s,"--range"));o.push.apply(o,m);var p=Array.isArray(e)?e:[e];if(i&&p.length===1){var v=i>f[0]?[f[0],i]:[i,f[0]],b=fE(v,u,"".concat(s,"--hover"));o.push.apply(o,b)}return o}function Ig(t){for(var e=t.className,n=t.count,i=n===void 0?3:n,s=t.dateTransform,o=t.dateType,l=t.end,u=t.hover,f=t.offset,m=t.renderTile,p=t.start,v=t.step,b=v===void 0?1:v,_=t.value,A=t.valueType,C=[],j=p;j<=l;j+=b){var P=s(j);C.push(m({classes:zF({date:P,dateType:o,hover:u,value:_,valueType:A}),date:P}))}return d.jsx(Vb,{className:e,count:i,offset:f,wrap:!0,children:C})}function Og(t){var e=t.activeStartDate,n=t.children,i=t.classes,s=t.date,o=t.formatAbbr,l=t.locale,u=t.maxDate,f=t.maxDateTransform,m=t.minDate,p=t.minDateTransform,v=t.onClick,b=t.onMouseOver,_=t.style,A=t.tileClassName,C=t.tileContent,j=t.tileDisabled,P=t.view,U=k.useMemo(function(){var K={activeStartDate:e,date:s,view:P};return typeof A=="function"?A(K):A},[e,s,A,P]),z=k.useMemo(function(){var K={activeStartDate:e,date:s,view:P};return typeof C=="function"?C(K):C},[e,s,C,P]);return d.jsxs("button",{className:Cg(i,U),disabled:m&&p(m)>s||u&&f(u)<s||j?.({activeStartDate:e,date:s,view:P}),onClick:v?function(K){return v(s,K)}:void 0,onFocus:b?function(){return b(s)}:void 0,onMouseOver:b?function(){return b(s)}:void 0,style:_,type:"button",children:[o?d.jsx("abbr",{"aria-label":o(l,s),children:n}):n,z]})}var Px=function(){return Px=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Px.apply(this,arguments)},HF=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},mE="react-calendar__century-view__decades__decade";function qF(t){var e=t.classes,n=e===void 0?[]:e,i=t.currentCentury,s=t.formatYear,o=s===void 0?Mg:s,l=HF(t,["classes","currentCentury","formatYear"]),u=l.date,f=l.locale,m=[];return n&&m.push.apply(m,n),m.push(mE),Ac(u).getFullYear()!==i&&m.push("".concat(mE,"--neighboringCentury")),d.jsx(Og,Px({},l,{classes:m,maxDateTransform:Rg,minDateTransform:Ea,view:"century",children:m4(f,o,u)}))}var Vx=function(){return Vx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Vx.apply(this,arguments)},gE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function $F(t){var e=t.activeStartDate,n=t.hover,i=t.showNeighboringCentury,s=t.value,o=t.valueType,l=gE(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),u=kF(e),f=u+(i?119:99);return d.jsx(Ig,{className:"react-calendar__century-view__decades",dateTransform:Ea,dateType:"decade",end:f,hover:n,renderTile:function(m){var p=m.date,v=gE(m,["date"]);return d.jsx(qF,Vx({},l,v,{activeStartDate:e,currentCentury:u,date:p}),p.getTime())},start:u,step:10,value:s,valueType:o})}var Lx=function(){return Lx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Lx.apply(this,arguments)};function GF(t){function e(){return d.jsx($F,Lx({},t))}return d.jsx("div",{className:"react-calendar__century-view",children:e()})}var Ux=function(){return Ux=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Ux.apply(this,arguments)},WF=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},pE="react-calendar__decade-view__years__year";function YF(t){var e=t.classes,n=e===void 0?[]:e,i=t.currentDecade,s=t.formatYear,o=s===void 0?Mg:s,l=WF(t,["classes","currentDecade","formatYear"]),u=l.date,f=l.locale,m=[];return n&&m.push.apply(m,n),m.push(pE),Ea(u).getFullYear()!==i&&m.push("".concat(pE,"--neighboringDecade")),d.jsx(Og,Ux({},l,{classes:m,maxDateTransform:Dg,minDateTransform:Nc,view:"decade",children:o(f,u)}))}var Bx=function(){return Bx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Bx.apply(this,arguments)},yE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function KF(t){var e=t.activeStartDate,n=t.hover,i=t.showNeighboringDecade,s=t.value,o=t.valueType,l=yE(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),u=AF(e),f=u+(i?11:9);return d.jsx(Ig,{className:"react-calendar__decade-view__years",dateTransform:Nc,dateType:"year",end:f,hover:n,renderTile:function(m){var p=m.date,v=yE(m,["date"]);return d.jsx(YF,Bx({},l,v,{activeStartDate:e,currentDecade:u,date:p}),p.getTime())},start:u,value:s,valueType:o})}var Fx=function(){return Fx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Fx.apply(this,arguments)};function XF(t){function e(){return d.jsx(KF,Fx({},t))}return d.jsx("div",{className:"react-calendar__decade-view",children:e()})}var zx=function(){return zx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},zx.apply(this,arguments)},QF=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},xE=function(t,e,n){if(n||arguments.length===2)for(var i=0,s=e.length,o;i<s;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},ZF="react-calendar__year-view__months__month";function JF(t){var e=t.classes,n=e===void 0?[]:e,i=t.formatMonth,s=i===void 0?wF:i,o=t.formatMonthYear,l=o===void 0?u4:o,u=QF(t,["classes","formatMonth","formatMonthYear"]),f=u.date,m=u.locale;return d.jsx(Og,zx({},u,{classes:xE(xE([],n,!0),[ZF],!1),formatAbbr:l,maxDateTransform:ah,minDateTransform:Bo,view:"year",children:s(m,f)}))}var Hx=function(){return Hx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Hx.apply(this,arguments)},vE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function ez(t){var e=t.activeStartDate,n=t.hover,i=t.value,s=t.valueType,o=vE(t,["activeStartDate","hover","value","valueType"]),l=0,u=11,f=wt(e);return d.jsx(Ig,{className:"react-calendar__year-view__months",dateTransform:function(m){var p=new Date;return p.setFullYear(f,m,1),Bo(p)},dateType:"month",end:u,hover:n,renderTile:function(m){var p=m.date,v=vE(m,["date"]);return d.jsx(JF,Hx({},o,v,{activeStartDate:e,date:p}),p.getTime())},start:l,value:i,valueType:s})}var qx=function(){return qx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},qx.apply(this,arguments)};function tz(t){function e(){return d.jsx(ez,qx({},t))}return d.jsx("div",{className:"react-calendar__year-view",children:e()})}var $x=function(){return $x=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},$x.apply(this,arguments)},nz=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},yy="react-calendar__month-view__days__day";function iz(t){var e=t.calendarType,n=t.classes,i=n===void 0?[]:n,s=t.currentMonthIndex,o=t.formatDay,l=o===void 0?vF:o,u=t.formatLongDate,f=u===void 0?bF:u,m=nz(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),p=m.date,v=m.locale,b=[];return i&&b.push.apply(b,i),b.push(yy),g4(p,e)&&b.push("".concat(yy,"--weekend")),p.getMonth()!==s&&b.push("".concat(yy,"--neighboringMonth")),d.jsx(Og,$x({},m,{classes:b,formatAbbr:f,maxDateTransform:Ob,minDateTransform:oh,view:"month",children:l(v,p)}))}var Gx=function(){return Gx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Gx.apply(this,arguments)},bE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function sz(t){var e=t.activeStartDate,n=t.calendarType,i=t.hover,s=t.showFixedNumberOfWeeks,o=t.showNeighboringMonth,l=t.value,u=t.valueType,f=bE(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),m=wt(e),p=Sa(e),v=s||o,b=Pd(e,n),_=v?0:b,A=(v?-b:0)+1,C=(function(){if(s)return A+42-1;var j=c4(e);if(o){var P=new Date;P.setFullYear(m,p,j),P.setHours(0,0,0,0);var U=7-Pd(P,n)-1;return j+U}return j})();return d.jsx(Ig,{className:"react-calendar__month-view__days",count:7,dateTransform:function(j){var P=new Date;return P.setFullYear(m,p,j),oh(P)},dateType:"day",hover:i,end:C,renderTile:function(j){var P=j.date,U=bE(j,["date"]);return d.jsx(iz,Gx({},f,U,{activeStartDate:e,calendarType:n,currentMonthIndex:p,date:P}),P.getTime())},offset:_,start:A,value:l,valueType:u})}var y4="react-calendar__month-view__weekdays",xy="".concat(y4,"__weekday");function rz(t){for(var e=t.calendarType,n=t.formatShortWeekday,i=n===void 0?_F:n,s=t.formatWeekday,o=s===void 0?TF:s,l=t.locale,u=t.onMouseLeave,f=new Date,m=Bo(f),p=wt(m),v=Sa(m),b=[],_=1;_<=7;_+=1){var A=new Date(p,v,_-Pd(m,e)),C=o(l,A);b.push(d.jsx("div",{className:Cg(xy,PF(A)&&"".concat(xy,"--current"),g4(A,e)&&"".concat(xy,"--weekend")),children:d.jsx("abbr",{"aria-label":C,title:C,children:i(l,A).replace(".","")})},_))}return d.jsx(Vb,{className:y4,count:7,onFocus:u,onMouseOver:u,children:b})}var Qm=function(){return Qm=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Qm.apply(this,arguments)},wE=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n},_E="react-calendar__tile";function az(t){var e=t.onClickWeekNumber,n=t.weekNumber,i=d.jsx("span",{children:n});if(e){var s=t.date,o=t.onClickWeekNumber,l=t.weekNumber,u=wE(t,["date","onClickWeekNumber","weekNumber"]);return d.jsx("button",Qm({},u,{className:_E,onClick:function(f){return o(l,s,f)},type:"button",children:i}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var u=wE(t,["date","onClickWeekNumber","weekNumber"]);return d.jsx("div",Qm({},u,{className:_E,children:i}))}}function oz(t){var e=t.activeStartDate,n=t.calendarType,i=t.onClickWeekNumber,s=t.onMouseLeave,o=t.showFixedNumberOfWeeks,l=(function(){if(o)return 6;var m=c4(e),p=Pd(e,n),v=m-(7-p);return 1+Math.ceil(v/7)})(),u=(function(){for(var m=wt(e),p=Sa(e),v=jg(e),b=[],_=0;_<l;_+=1)b.push(Ox(new Date(m,p,v+_*7),n));return b})(),f=u.map(function(m){return NF(m,n)});return d.jsx(Vb,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:f.map(function(m,p){var v=u[p];if(!v)throw new Error("date is not defined");return d.jsx(az,{date:v,onClickWeekNumber:i,weekNumber:m},m)})})}var Wx=function(){return Wx=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Wx.apply(this,arguments)},lz=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function cz(t){if(t)for(var e=0,n=Object.entries(cF);e<n.length;e++){var i=n[e],s=i[0],o=i[1];if(o.includes(t))return s}return Sn.ISO_8601}function uz(t){var e=t.activeStartDate,n=t.locale,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,o=t.calendarType,l=o===void 0?cz(n):o,u=t.formatShortWeekday,f=t.formatWeekday,m=t.onClickWeekNumber,p=t.showWeekNumbers,v=lz(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function b(){return d.jsx(rz,{calendarType:l,formatShortWeekday:u,formatWeekday:f,locale:n,onMouseLeave:i})}function _(){return p?d.jsx(oz,{activeStartDate:e,calendarType:l,onClickWeekNumber:m,onMouseLeave:i,showFixedNumberOfWeeks:s}):null}function A(){return d.jsx(sz,Wx({calendarType:l},v))}var C="react-calendar__month-view";return d.jsx("div",{className:Cg(C,p?"".concat(C,"--weekNumbers"):""),children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[_(),d.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[b(),A()]})]})})}var Wl=function(){return Wl=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Wl.apply(this,arguments)},zf="react-calendar",vm=["century","decade","year","month"],dz=["decade","year","month","day"],Lb=new Date;Lb.setFullYear(1,0,1);Lb.setHours(0,0,0,0);var hz=new Date(864e13);function Wu(t){return t instanceof Date?t:new Date(t)}function x4(t,e){return vm.slice(vm.indexOf(t),vm.indexOf(e)+1)}function fz(t,e,n){var i=x4(e,n);return i.indexOf(t)!==-1}function Ub(t,e,n){return t&&fz(t,e,n)?t:n}function v4(t){var e=vm.indexOf(t);return dz[e]}function mz(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var i=Wu(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(t));return i}function b4(t,e){var n=t.value,i=t.minDate,s=t.maxDate,o=t.maxDetail,l=mz(n,e);if(!l)return null;var u=v4(o),f=(function(){switch(e){case 0:return Ao(u,l);case 1:return h4(u,l);default:throw new Error("Invalid index value: ".concat(e))}})();return UF(f,i,s)}var Bb=function(t){return b4(t,0)},w4=function(t){return b4(t,1)},gz=function(t){return[Bb,w4].map(function(e){return e(t)})};function _4(t){var e=t.maxDate,n=t.maxDetail,i=t.minDate,s=t.minDetail,o=t.value,l=t.view,u=Ub(l,s,n),f=Bb({value:o,minDate:i,maxDate:e,maxDetail:n})||new Date;return Ao(u,f)}function pz(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,i=t.defaultValue,s=t.defaultView,o=t.maxDate,l=t.maxDetail,u=t.minDate,f=t.minDetail,m=t.value,p=t.view,v=Ub(p,f,l),b=e||n;return b?Ao(v,b):_4({maxDate:o,maxDetail:l,minDate:u,minDetail:f,value:m||i,view:p||s})}function vy(t){return t&&(!Array.isArray(t)||t.length===1)}function Hf(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var yz=k.forwardRef(function(e,n){var i=e.activeStartDate,s=e.allowPartialRange,o=e.calendarType,l=e.className,u=e.defaultActiveStartDate,f=e.defaultValue,m=e.defaultView,p=e.formatDay,v=e.formatLongDate,b=e.formatMonth,_=e.formatMonthYear,A=e.formatShortWeekday,C=e.formatWeekday,j=e.formatYear,P=e.goToRangeStartOnSelect,U=P===void 0?!0:P,z=e.inputRef,K=e.locale,Q=e.maxDate,te=Q===void 0?hz:Q,L=e.maxDetail,E=L===void 0?"month":L,N=e.minDate,D=N===void 0?Lb:N,I=e.minDetail,O=I===void 0?"century":I,V=e.navigationAriaLabel,X=e.navigationAriaLive,se=e.navigationLabel,F=e.next2AriaLabel,$=e.next2Label,le=e.nextAriaLabel,fe=e.nextLabel,ue=e.onActiveStartDateChange,ve=e.onChange,xe=e.onClickDay,he=e.onClickDecade,ke=e.onClickMonth,$e=e.onClickWeekNumber,Be=e.onClickYear,At=e.onDrillDown,Nt=e.onDrillUp,ct=e.onViewChange,tn=e.prev2AriaLabel,Wt=e.prev2Label,kn=e.prevAriaLabel,Ct=e.prevLabel,Ge=e.returnValue,An=Ge===void 0?"start":Ge,dn=e.selectRange,hn=e.showDoubleView,Ho=e.showFixedNumberOfWeeks,_r=e.showNavigation,Tr=_r===void 0?!0:_r,Ns=e.showNeighboringCentury,Mc=e.showNeighboringDecade,Cs=e.showNeighboringMonth,Na=Cs===void 0?!0:Cs,qo=e.showWeekNumbers,yt=e.tileClassName,Xe=e.tileContent,Vn=e.tileDisabled,Ut=e.value,Ca=e.view,$o=k.useState(u),js=$o[0],oi=$o[1],Yi=k.useState(null),Zn=Yi[0],Rs=Yi[1],Ki=k.useState(Array.isArray(f)?f.map(function(Ae){return Ae!==null?Wu(Ae):null}):f!=null?Wu(f):null),Ds=Ki[0],ja=Ki[1],Sr=k.useState(m),Di=Sr[0],li=Sr[1],Bt=i||js||pz({activeStartDate:i,defaultActiveStartDate:u,defaultValue:f,defaultView:m,maxDate:te,maxDetail:E,minDate:D,minDetail:O,value:Ut,view:Ca}),mt=(function(){var Ae=(function(){return dn&&vy(Ds)?Ds:Ut!==void 0?Ut:Ds})();return Ae?Array.isArray(Ae)?Ae.map(function(Me){return Me!==null?Wu(Me):null}):Ae!==null?Wu(Ae):null:null})(),Xi=v4(E),We=Ub(Ca||Di,O,E),fn=x4(O,E),Qi=dn?Zn:null,Er=fn.indexOf(We)<fn.length-1,ut=fn.indexOf(We)>0,jt=k.useCallback(function(Ae){var Me=(function(){switch(An){case"start":return Bb;case"end":return w4;case"range":return gz;default:throw new Error("Invalid returnValue.")}})();return Me({maxDate:te,maxDetail:E,minDate:D,value:Ae})},[te,E,D,An]),xt=k.useCallback(function(Ae,Me){oi(Ae);var Re={action:Me,activeStartDate:Ae,value:mt,view:We};ue&&!Hf(Bt,Ae)&&ue(Re)},[Bt,ue,mt,We]),mn=k.useCallback(function(Ae,Me){var Re=(function(){switch(We){case"century":return he;case"decade":return Be;case"year":return ke;case"month":return xe;default:throw new Error("Invalid view: ".concat(We,"."))}})();Re&&Re(Ae,Me)},[xe,he,ke,Be,We]),Ms=k.useCallback(function(Ae,Me){if(Er){mn(Ae,Me);var Re=fn[fn.indexOf(We)+1];if(!Re)throw new Error("Attempted to drill down from the lowest view.");oi(Ae),li(Re);var gn={action:"drillDown",activeStartDate:Ae,value:mt,view:Re};ue&&!Hf(Bt,Ae)&&ue(gn),ct&&We!==Re&&ct(gn),At&&At(gn)}},[Bt,Er,ue,mn,At,ct,mt,We,fn]),Ra=k.useCallback(function(){if(ut){var Ae=fn[fn.indexOf(We)-1];if(!Ae)throw new Error("Attempted to drill up from the highest view.");var Me=Ao(Ae,Bt);oi(Me),li(Ae);var Re={action:"drillUp",activeStartDate:Me,value:mt,view:Ae};ue&&!Hf(Bt,Me)&&ue(Re),ct&&We!==Ae&&ct(Re),Nt&&Nt(Re)}},[Bt,ut,ue,Nt,ct,mt,We,fn]),ci=k.useCallback(function(Ae,Me){var Re=mt;mn(Ae,Me);var gn=dn&&!vy(Re),nn;if(dn)if(gn)nn=Ao(Xi,Ae);else{if(!Re)throw new Error("previousValue is required");if(Array.isArray(Re))throw new Error("previousValue must not be an array");nn=IF(Xi,Re,Ae)}else nn=jt(Ae);var Ln=!dn||gn||U?_4({maxDate:te,maxDetail:E,minDate:D,minDetail:O,value:nn,view:We}):null;Me.persist(),oi(Ln),ja(nn);var Pi={action:"onChange",activeStartDate:Ln,value:nn,view:We};if(ue&&!Hf(Bt,Ln)&&ue(Pi),ve)if(dn){var Wo=vy(nn);if(!Wo)ve(nn||null,Me);else if(s){if(Array.isArray(nn))throw new Error("value must not be an array");ve([nn||null,null],Me)}}else ve(nn||null,Me)},[Bt,s,jt,U,te,E,D,O,ue,ve,mn,dn,mt,Xi,We]);function Go(Ae){Rs(Ae)}function Mi(){Rs(null)}k.useImperativeHandle(n,function(){return{activeStartDate:Bt,drillDown:Ms,drillUp:Ra,onChange:ci,setActiveStartDate:xt,value:mt,view:We}},[Bt,Ms,Ra,ci,xt,mt,We]);function Ii(Ae){var Me=Ae?d4(We,Bt):Ao(We,Bt),Re=Er?Ms:ci,gn={activeStartDate:Me,hover:Qi,locale:K,maxDate:te,minDate:D,onClick:Re,onMouseOver:dn?Go:void 0,tileClassName:yt,tileContent:Xe,tileDisabled:Vn,value:mt,valueType:Xi};switch(We){case"century":return d.jsx(GF,Wl({formatYear:j,showNeighboringCentury:Ns},gn));case"decade":return d.jsx(XF,Wl({formatYear:j,showNeighboringDecade:Mc},gn));case"year":return d.jsx(tz,Wl({formatMonth:b,formatMonthYear:_},gn));case"month":return d.jsx(uz,Wl({calendarType:o,formatDay:p,formatLongDate:v,formatShortWeekday:A,formatWeekday:C,onClickWeekNumber:$e,onMouseLeave:dn?Mi:void 0,showFixedNumberOfWeeks:typeof Ho<"u"?Ho:hn,showNeighboringMonth:Na,showWeekNumbers:qo},gn));default:throw new Error("Invalid view: ".concat(We,"."))}}function Oi(){return Tr?d.jsx(VF,{activeStartDate:Bt,drillUp:Ra,formatMonthYear:_,formatYear:j,locale:K,maxDate:te,minDate:D,navigationAriaLabel:V,navigationAriaLive:X,navigationLabel:se,next2AriaLabel:F,next2Label:$,nextAriaLabel:le,nextLabel:fe,prev2AriaLabel:tn,prev2Label:Wt,prevAriaLabel:kn,prevLabel:Ct,setActiveStartDate:xt,showDoubleView:hn,view:We,views:fn}):null}var ui=Array.isArray(mt)?mt:[mt];return d.jsxs("div",{className:Cg(zf,dn&&ui.length===1&&"".concat(zf,"--selectRange"),hn&&"".concat(zf,"--doubleView"),l),ref:z,children:[Oi(),d.jsxs("div",{className:"".concat(zf,"__viewContainer"),onBlur:dn?Mi:void 0,onMouseLeave:dn?Mi:void 0,children:[Ii(),hn?Ii(!0):null]})]})});const xz=({onClose:t,onSelectDate:e})=>{const[n,i]=k.useState(new Date),{isDark:s}=kc(),o=u=>{e(u),t()},l=({date:u,view:f})=>f==="month"&&u.toDateString()===new Date().toDateString()?"react-calendar__tile--today-custom":null;return d.jsx("div",{className:"calendar-modal-overlay",children:d.jsxs("div",{className:`calendar-modal-content ${s?"dark":"light"}`,children:[d.jsxs("div",{className:"calendar-modal-header",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Schedule a Demo"}),d.jsx("button",{onClick:t,className:"calendar-modal-close-button",children:d.jsx(Sg,{className:"h-6 w-6"})})]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Select an available date to book your demo."}),d.jsx(yz,{onChange:i,value:n,onClickDay:o,className:"react-calendar-custom",tileClassName:l}),d.jsx("div",{className:"mt-4 flex justify-end",children:d.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})})]})})},vz=[{icon:d.jsx(So,{className:"w-8 h-8"}),title:"Enterprise Security",description:"SOC 2 Type II & HIPAA compliant with end-to-end encryption, audit trails, and advanced access controls.",highlights:["256-bit encryption","Multi-factor authentication","Compliance reporting"],category:"Security"},{icon:d.jsx(hN,{className:"w-8 h-8"}),title:"Advanced Analytics",description:"Real-time health insights, predictive analytics, and comprehensive reporting for data-driven decisions.",highlights:["Predictive modeling","Custom dashboards","Performance metrics"],category:"Analytics"},{icon:d.jsx(va,{className:"w-8 h-8"}),title:"Care Team Collaboration",description:"Seamless communication between doctors, nurses, pharmacists, and patients with role-based permissions.",highlights:["Team messaging","Task management","Role-based access"],category:"Collaboration"},{icon:d.jsx(GV,{className:"w-8 h-8"}),title:"Cloud Infrastructure",description:"99.9% uptime guarantee with automatic backups, disaster recovery, and global CDN for optimal performance.",highlights:["99.9% uptime SLA","Auto-scaling","Global availability"],category:"Infrastructure"},{icon:d.jsx(Ad,{className:"w-8 h-8"}),title:"Smart Documentation",description:"AI-powered clinical documentation with voice-to-text, templates, and automated coding assistance.",highlights:["Voice recognition","Auto-coding","Template library"],category:"Documentation"},{icon:d.jsx(JV,{className:"w-8 h-8"}),title:"Omnichannel Access",description:"Native mobile apps, responsive web portal, and API integrations for seamless workflow continuity.",highlights:["Native mobile apps","REST API","Third-party integrations"],category:"Accessibility"},{icon:d.jsx(pr,{className:"w-8 h-8"}),title:"Real-time Monitoring",description:"24/7 system monitoring, automated alerts, and proactive issue resolution with dedicated support.",highlights:["24/7 monitoring","Automated alerts","Proactive support"],category:"Monitoring"},{icon:d.jsx(QV,{className:"w-8 h-8"}),title:"AI-Powered Insights",description:"Machine learning algorithms for clinical decision support, risk assessment, and treatment recommendations.",highlights:["Clinical AI","Risk scoring","Treatment insights"],category:"AI/ML"}],T4=()=>d.jsx("section",{id:"features",className:"py-24 bg-white dark:bg-gray-950",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(ee.div,{className:"text-center mb-20",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[d.jsx("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-full text-sm font-semibold shadow-sm border border-emerald-200 dark:border-emerald-800 mb-6",children:"Enterprise-Grade Features"}),d.jsxs("h2",{className:"text-4xl lg:text-5xl font-black text-gray-900 dark:text-gray-100 mb-6",children:["Built for",d.jsx("span",{className:"gradient-accent bg-clip-text text-transparent",children:" Healthcare"}),d.jsx("br",{}),"Professionals"]}),d.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Comprehensive healthcare management platform designed to meet the demanding requirements of modern healthcare organizations with enterprise-grade security and scalability."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:vz.map((t,e)=>d.jsxs(ee.div,{className:"group relative bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-8 hover:shadow-xl hover:border-emerald-300 dark:hover:border-emerald-700 transition-all duration-300",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:e*.1},viewport:{once:!0},children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-full",children:t.category})}),d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/30 dark:to-teal-900/30 text-emerald-600 dark:text-emerald-400 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 border border-emerald-100 dark:border-emerald-800",children:t.icon}),d.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-3 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:t.title}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-6",children:t.description}),d.jsx("div",{className:"space-y-2",children:t.highlights.map((n,i)=>d.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mr-2"}),n]},i))}),d.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-emerald-500/0 via-emerald-500/0 to-teal-500/0 group-hover:from-emerald-500/10 group-hover:via-emerald-500/5 group-hover:to-teal-500/10 transition-all duration-300 pointer-events-none"})]},e))}),d.jsx(ee.div,{className:"text-center mt-20",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},children:d.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 rounded-3xl border border-emerald-200 dark:border-emerald-800 p-12",children:[d.jsx("h3",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Ready to Experience Enterprise Healthcare?"}),d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join leading healthcare organizations that trust CareSync for their critical operations."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx("button",{className:"gradient-accent text-white px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all duration-300",children:"Request Enterprise Demo"}),d.jsx("button",{className:"border-2 border-emerald-500 text-emerald-600 dark:text-emerald-400 px-8 py-4 rounded-xl font-semibold hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all duration-300",children:"View Technical Specs"})]})]})}),d.jsx(ee.div,{className:"mt-16 grid grid-cols-2 md:grid-cols-4 gap-8 text-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:[{value:"99.9%",label:"Uptime SLA"},{value:"SOC 2",label:"Type II Certified"},{value:"HIPAA",label:"Compliant"},{value:"24/7",label:"Enterprise Support"}].map((t,e)=>d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-400 mb-2",children:t.value}),d.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:t.label})]},e))})]})}),bz=()=>{const[t,e]=k.useState(!1),[n,i]=k.useState(!1),[s,o]=k.useState(!1),{user:l,loading:u}=Qn(),{isDark:f,toggleTheme:m}=kc(),p=()=>{o(!0)},v=()=>{o(!1)},b=_=>{console.log("Selected demo date:",_),o(!1)};return k.useEffect(()=>{n?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")},[n]),u?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-emerald-500"})}):d.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950",children:[d.jsxs("nav",{className:"fixed top-0 w-full bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-800/50 z-50 shadow-sm",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10",children:d.jsx("img",{src:"/CareSync-Logo.png",alt:"CareSync Logo",className:"w-full h-full"})}),d.jsx("span",{className:"ml-3 font-bold text-emerald-600 dark:text-emerald-400",style:{fontSize:"1.375rem"},children:"CareSync"})]}),d.jsx("div",{className:"hidden md:flex items-center space-x-8",children:["Home","Features","Pricing","Testimonials","Contact"].map(_=>d.jsxs("a",{href:_==="Contact"?"#contact-form":`#${_.toLowerCase()}`,className:"relative text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium group",children:[_,d.jsx("span",{className:"absolute left-0 -bottom-1 h-[2px] w-0 bg-emerald-600 transition-all duration-300 group-hover:w-full"})]},_))}),d.jsx("div",{className:"md:hidden",children:d.jsx("button",{onClick:()=>i(!n),className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:d.jsx(Yv,{className:"h-6 w-6"})})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx("button",{onClick:m,className:"p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:f?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",children:f?d.jsx(Cd,{className:"h-5 w-5"}):d.jsx(Nd,{className:"h-5 w-5"})}),d.jsx(Tt,{to:"/login",className:"text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium",children:"Sign In"}),d.jsx(Tt,{to:"/register",className:"gradient-accent text-white px-6 py-2.5 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold",children:"Get Started"})]})]})}),n&&d.jsx("div",{className:"relative md:hidden",children:d.jsxs("div",{className:"absolute right-0 w-52 h-dvh pt-10 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800",children:[["Home","Features","Pricing","Testimonials","Contact"].map(_=>d.jsx("a",{href:`#${_.toLowerCase()}`,className:`block text-center py-3 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium relative group
              after:content-[''] after:absolute after:left-0 after:bottom-1 after:h-[2px] after:w-full after:bg-emerald-600 after:scale-x-0 after:origin-center after:transition-transform after:duration-300
              hover:after:scale-x-100`,onClick:()=>i(!1),children:_},_)),d.jsxs("div",{className:"flex flex-col space-y-2 mt-20 px-3",children:[d.jsxs("button",{onClick:m,className:"text-center py-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors flex items-center justify-center gap-2",children:[f?d.jsx(Cd,{className:"h-5 w-5"}):d.jsx(Nd,{className:"h-5 w-5"}),f?"Light Mode":"Dark Mode"]}),d.jsx(Tt,{to:"/login",className:"text-center py-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Sign In"}),d.jsx(Tt,{to:"/register",className:"gradient-accent text-white px-4 py-2 rounded-lg text-center font-semibold",children:"Get Started"})]})]})})]}),d.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 overflow-hidden pt-16",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-emerald-400/10 to-teal-400/10 dark:from-emerald-400/5 dark:to-teal-400/5 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-teal-400/10 to-blue-400/10 dark:from-teal-400/5 dark:to-blue-400/5 rounded-full blur-3xl"})]}),d.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-full text-sm font-semibold shadow-sm border border-emerald-200 dark:border-emerald-800",children:[d.jsx(So,{className:"w-4 h-4 mr-2"}),"Trusted by 500+ Healthcare Providers"]}),d.jsxs("h1",{className:"text-5xl lg:text-7xl font-black text-gray-900 dark:text-gray-100 leading-tight",children:["Healthcare",d.jsxs("span",{className:"gradient-accent bg-clip-text text-transparent",children:[" ","Management"]}),d.jsx("br",{}),"Made Simple"]}),d.jsx("p",{className:"text-xl lg:text-2xl text-gray-600 dark:text-gray-300 leading-relaxed font-medium max-w-2xl",children:"Streamline patient care with our comprehensive healthcare platform. Connect doctors, patients, and pharmacies in one secure ecosystem."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs(Tt,{to:"/register",className:`gradient-accent text-white px-8 py-4 rounded-xl
                  flex items-center justify-center space-x-2 font-bold text-lg shadow-xl
                  transition-all duration-300`,children:[d.jsx("span",{children:"Start Free Trial"}),d.jsx(sd,{className:"h-5 w-5"})]}),d.jsxs("button",{onClick:()=>e(!0),className:`border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 px-8 py-4 rounded-xl
                  hover:border-emerald-500 dark:hover:border-emerald-400 hover:text-emerald-600 dark:hover:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20
                  flex items-center justify-center space-x-2 font-bold text-lg
                  transition-all duration-300`,children:[d.jsx($T,{className:"h-5 w-5"}),d.jsx("span",{children:"Watch Demo"})]})]}),d.jsx("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-8 space-y-3 sm:space-y-0 text-base text-gray-600 dark:text-gray-400",children:[{icon:So,text:"HIPAA Compliant & Secure"},{icon:pr,text:"24/7 Support Available"}].map((_,A)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"h-6 w-6 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center",children:d.jsx(_.icon,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})}),d.jsx("span",{className:"font-medium",children:_.text})]},A))})]}),d.jsxs("div",{className:"relative",children:[l?d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-6 border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 gradient-accent rounded-lg flex items-center justify-center",children:d.jsx(dr,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["Welcome, ",l.name||l.email]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l.role==="doctor"?"Doctor Dashboard":l.role==="patient"?"Patient Portal":"Pharmacy Dashboard"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(ux,{className:"h-6 w-6 text-gray-400 dark:text-gray-500"}),d.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Active Patients"}),d.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:"1,247"})]}),d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Today's Tasks"}),d.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:"12"})]}),d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[d.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Response Time"}),d.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:"2min"})]})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100 dark:border-gray-700",children:d.jsxs(Tt,{to:`/${l.role}`,className:"w-full gradient-accent text-white py-3 px-4 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors duration-300",children:[d.jsx("span",{children:"Go to Dashboard"}),d.jsx(sd,{className:"h-5 w-5"})]})})]}):d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-6 border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-10 h-10 gradient-accent rounded-lg flex items-center justify-center",children:d.jsx(dr,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"CareSync Dashboard"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Dr. Sarah Johnson"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx(ux,{className:"h-6 w-6 text-gray-400 dark:text-gray-500"}),d.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]})]}),d.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[{label:"Today's Appointments",value:"12",icon:MV,color:"text-blue-600",bg:"bg-blue-50",darkBg:"dark:bg-blue-900/20"},{label:"Pending Reports",value:"5",icon:Ad,color:"text-orange-600",bg:"bg-orange-50",darkBg:"dark:bg-orange-900/20"},{label:"Active Patients",value:"1,247",icon:va,color:"text-emerald-600",bg:"bg-emerald-50",darkBg:"dark:bg-emerald-900/20"},{label:"Urgent Cases",value:"3",icon:r9,color:"text-red-600",bg:"bg-red-50",darkBg:"dark:bg-red-900/20"}].map((_,A)=>d.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4 border border-gray-100 dark:border-gray-600",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-10 h-10 ${_.bg} ${_.darkBg} rounded-lg flex items-center justify-center`,children:d.jsx(_.icon,{className:`h-5 w-5 ${_.color}`})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:_.value}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 leading-tight",children:_.label})]})]})},A))}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Recent Activity"}),[{patient:"John Smith",action:"Prescription updated",time:"10 min ago",status:"completed"},{patient:"Maria Garcia",action:"Lab results available",time:"25 min ago",status:"new"},{patient:"Robert Chen",action:"Appointment scheduled",time:"1 hour ago",status:"scheduled"}].map((_,A)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-100 dark:border-gray-600",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 gradient-accent rounded-full flex items-center justify-center text-white text-sm font-bold",children:_.patient.split(" ").map(C=>C[0]).join("")}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:_.patient}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:_.action})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-2 ${_.status==="completed"?"bg-green-500":_.status==="new"?"bg-blue-500":"bg-yellow-500"}`}),d.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:_.time})]})]},A))]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100 dark:border-gray-700",children:d.jsxs("button",{className:"w-full gradient-accent text-white py-3 px-4 rounded-lg font-semibold flex items-center justify-center space-x-2 transition-colors duration-300",children:[d.jsx(T9,{className:"h-5 w-5"}),d.jsx("span",{children:"New Patient"})]})})]}),d.jsx("div",{className:"absolute -top-6 -left-6 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 p-4 rounded-2xl shadow-lg",children:d.jsx(dr,{className:"h-8 w-8"})}),d.jsx("div",{className:"absolute -bottom-6 -right-6 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 p-4 rounded-2xl shadow-lg",children:d.jsx(So,{className:"h-8 w-8"})}),d.jsx("div",{className:"absolute top-1/2 -right-8 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 p-3 rounded-xl shadow-lg",children:d.jsx(hN,{className:"h-6 w-6"})})]})]})})]}),d.jsx(SB,{}),d.jsx(T4,{}),d.jsx(VB,{}),d.jsx(LB,{}),d.jsxs("section",{className:"py-24 bg-gradient-to-br from-emerald-500 via-teal-600 to-blue-600 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black/10"}),d.jsx("div",{className:"absolute inset-0 opacity-20",children:d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-y-12"})}),d.jsxs("div",{className:"relative max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[d.jsxs("h2",{className:"text-4xl lg:text-5xl font-black text-white mb-8",children:["Ready to Transform",d.jsx("br",{className:"hidden sm:block"}),"Your Healthcare Practice?"]}),d.jsx("p",{className:"text-xl lg:text-2xl text-white/90 mb-12 font-medium leading-relaxed max-w-3xl mx-auto",children:"Join over 500 healthcare providers who have transformed their patient care with CareSync's comprehensive platform"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-8",children:[d.jsx(Tt,{to:"/register",className:"bg-white text-emerald-600 px-10 py-4 rounded-xl hover:bg-gray-50 transition-all duration-300 font-bold text-lg shadow-xl",children:"Start Free Trial Today"}),d.jsx("button",{onClick:p,className:"border-2 border-white text-white px-10 py-4 rounded-xl hover:bg-white hover:text-emerald-600 transition-all duration-300 font-bold text-lg backdrop-blur-sm",children:"Schedule Demo"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-8 text-white/80 font-medium",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx(ey,{className:"h-5 w-5 mr-2"}),"HIPAA Compliant"]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(ey,{className:"h-5 w-5 mr-2"}),"30-day free trial"]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx(ey,{className:"h-5 w-5 mr-2"}),"24/7 support"]})]})]})]}),d.jsx(UB,{}),d.jsx(BB,{}),d.jsx(XC,{}),t&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>e(!1),children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-4xl w-full transform transition-all duration-300",onClick:_=>_.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"CareSync Platform Demo"}),d.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-100 transition-colors",children:d.jsx(Sg,{className:"h-8 w-8"})})]}),d.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-700 rounded-xl flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx($T,{className:"h-16 w-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Healthcare platform demo video"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"See how CareSync transforms patient care"})]})})]})}),s&&d.jsx(xz,{onClose:v,onSelectDate:b})]})},wz=()=>{const[t,e]=k.useState({name:"",email:"",subject:"",message:"",userType:"patient"}),[n,i]=k.useState("idle"),[s,o]=k.useState(!1),l=m=>{const{name:p,value:v}=m.target;e(b=>({...b,[p]:v}))},u=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m),f=async m=>{if(m.preventDefault(),i("loading"),!t.name||!t.email||!t.subject||!t.message){i("error");return}if(!u(t.email)){i("error");return}try{await new Promise(p=>setTimeout(p,2e3)),i("success"),e({name:"",email:"",subject:"",message:"",userType:"patient"})}catch{i("error")}};return d.jsxs("div",{className:"min-h-screen bg-white",children:[d.jsxs("nav",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-lg border-b border-gray-200/50 z-50 shadow-sm",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs(Tt,{to:"/",className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10 gradient-accent rounded-xl flex items-center justify-center shadow-lg",children:d.jsx(dr,{className:"h-6 w-6 text-white"})}),d.jsx("span",{className:"ml-3 text-2xl font-bold text-gray-900",children:"CareSync"})]}),d.jsx("div",{className:"hidden md:block",children:d.jsx("div",{className:"ml-10 flex items-center space-x-8",children:["Features","Pricing","Testimonials","Contact"].map(m=>m==="Contact"?d.jsxs("a",{href:"#contact-form",className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium relative group",children:[m,d.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 gradient-accent group-hover:w-full transition-all duration-300"})]},m):d.jsxs("a",{href:`/#${m.toLowerCase()}`,className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium relative group",children:[m,d.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 gradient-accent group-hover:w-full transition-all duration-300"})]},m))})}),d.jsx("div",{className:"md:hidden",children:d.jsx("button",{onClick:()=>o(!s),className:"text-gray-600 hover:text-gray-900 transition-colors",children:s?d.jsx(Sg,{className:"h-6 w-6"}):d.jsx(Yv,{className:"h-6 w-6"})})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx(Tt,{to:"/login",className:"text-gray-600 hover:text-emerald-600 transition-colors font-medium",children:"Sign In"}),d.jsx(Tt,{to:"/register",className:"gradient-accent text-white px-6 py-2.5 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold transform hover:scale-105",children:"Get Started"})]})]})}),s&&d.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:d.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[["Features","Pricing","Testimonials","Contact"].map(m=>m==="Contact"?d.jsx("a",{href:"#contact-form",className:"block px-3 py-2 text-gray-600 hover:text-emerald-600 transition-colors",onClick:()=>o(!1),children:m},m):d.jsx("a",{href:`/#${m.toLowerCase()}`,className:"block px-3 py-2 text-gray-600 hover:text-emerald-600 transition-colors",onClick:()=>o(!1),children:m},m)),d.jsxs("div",{className:"flex flex-col space-y-2 mt-4 px-3",children:[d.jsx(Tt,{to:"/login",className:"text-center py-2 text-gray-600 hover:text-emerald-600 transition-colors",children:"Sign In"}),d.jsx(Tt,{to:"/register",className:"gradient-accent text-white px-4 py-2 rounded-lg text-center font-semibold",children:"Get Started"})]})]})})]}),d.jsxs("section",{className:"relative pt-24 pb-16 bg-gradient-to-br from-emerald-50 via-white to-teal-50 overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-emerald-400/20 to-teal-400/20 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-teal-400/20 to-blue-400/20 rounded-full blur-3xl animate-pulse"})]}),d.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[d.jsx("div",{className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-700 px-4 py-2 rounded-full text-sm font-semibold shadow-sm mb-8",children:" We're Here to Help"}),d.jsxs("h1",{className:"text-4xl lg:text-6xl font-black text-gray-900 leading-tight mb-6",children:["Get in Touch with",d.jsx("span",{className:"gradient-accent bg-clip-text text-transparent",children:" CareSync"})]}),d.jsx("p",{className:"text-xl lg:text-2xl text-gray-600 leading-relaxed font-medium max-w-3xl mx-auto mb-12",children:"Have questions about our healthcare platform? Need support or want to partner with us? We're here to help you transform healthcare delivery."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[{icon:_g,title:"General Inquiries",description:"Questions about our platform",action:"Send Message",href:"#contact-form"},{icon:va,title:"Sales & Partnerships",description:"Interested in working together",action:"Contact Sales",href:"#contact-form"},{icon:So,title:"Technical Support",description:"Need help with the platform",action:"Get Support",href:"#contact-form"}].map((m,p)=>d.jsxs("a",{href:m.href,className:"bg-white/80 backdrop-blur-sm border border-gray-200 rounded-2xl p-6 hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[d.jsx("div",{className:"w-12 h-12 gradient-accent rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:d.jsx(m.icon,{className:"h-6 w-6 text-white"})}),d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:m.title}),d.jsx("p",{className:"text-gray-600 mb-4",children:m.description}),d.jsxs("span",{className:"inline-flex items-center text-emerald-600 font-semibold group-hover:text-emerald-700",children:[m.action,d.jsx(sd,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform duration-300"})]})]},p))})]})]}),d.jsx("section",{id:"contact",className:"py-24 bg-white",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[d.jsxs("div",{className:"space-y-8",id:"contact-form",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-black text-gray-900 mb-4",children:"Send us a Message"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below and we'll get back to you within 24 hours."})]}),n==="success"&&d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 flex items-center space-x-3",children:[d.jsx(Tg,{className:"h-6 w-6 text-green-600 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-green-800 font-semibold",children:"Message sent successfully!"}),d.jsx("p",{className:"text-green-700 text-sm",children:"We'll get back to you within 24 hours."})]})]}),n==="error"&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 flex items-center space-x-3",children:[d.jsx(i9,{className:"h-6 w-6 text-red-600 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-red-800 font-semibold",children:"Please check your information"}),d.jsx("p",{className:"text-red-700 text-sm",children:"Make sure all fields are filled out correctly."})]})]}),d.jsxs("form",{onSubmit:f,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),d.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:l,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter your full name"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),d.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:l,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter your email address"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"userType",className:"block text-sm font-semibold text-gray-700 mb-2",children:"I am a..."}),d.jsxs("select",{id:"userType",name:"userType",value:t.userType,onChange:l,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",children:[d.jsx("option",{value:"patient",children:"Patient"}),d.jsx("option",{value:"doctor",children:"Healthcare Provider"}),d.jsx("option",{value:"pharmacist",children:"Pharmacist"}),d.jsx("option",{value:"administrator",children:"Healthcare Administrator"}),d.jsx("option",{value:"partner",children:"Potential Partner"}),d.jsx("option",{value:"other",children:"Other"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"subject",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),d.jsx("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:l,required:!0,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"What can we help you with?"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),d.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:l,required:!0,rows:6,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none",placeholder:"Tell us more about your inquiry..."})]}),d.jsx("button",{type:"submit",disabled:n==="loading",className:`w-full gradient-accent text-white px-8 py-4 rounded-xl 
                  hover:shadow-lg transition-all duration-300 font-bold text-lg transform hover:scale-105 
                  disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
                  flex items-center justify-center space-x-2`,children:n==="loading"?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"spinner"}),d.jsx("span",{children:"Sending..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Send Message"}),d.jsx(sd,{className:"h-5 w-5"})]})})]})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl lg:text-4xl font-black text-gray-900 mb-4",children:"Contact Information"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Reach out to us through any of these channels. We're always ready to help."})]}),d.jsx("div",{className:"space-y-6",children:[{icon:fN,title:"Email Us",content:"support@caresync.com",subContent:"We typically respond within 2-4 hours",action:"mailto:support@caresync.com"},{icon:gN,title:"Call Us",content:"+1 (555) 123-4567",subContent:"Mon-Fri 8:00 AM - 8:00 PM PST",action:"tel:+15551234567"},{icon:mN,title:"Visit Us",content:"123 Healthcare Blvd, Suite 500",subContent:"San Francisco, CA 94105",action:"https://maps.google.com"},{icon:pr,title:"Business Hours",content:"Monday - Friday: 8:00 AM - 8:00 PM",subContent:"Saturday: 9:00 AM - 5:00 PM PST",action:null}].map((m,p)=>d.jsx("div",{className:"bg-gray-50 rounded-2xl p-6 hover:bg-gray-100 transition-colors",children:d.jsxs("div",{className:"flex items-start space-x-4",children:[d.jsx("div",{className:"w-12 h-12 gradient-accent rounded-xl flex items-center justify-center flex-shrink-0",children:d.jsx(m.icon,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:m.title}),m.action?d.jsx("a",{href:m.action,className:"text-emerald-600 font-semibold hover:text-emerald-700 transition-colors",children:m.content}):d.jsx("p",{className:"text-gray-900 font-semibold",children:m.content}),d.jsx("p",{className:"text-gray-600 text-sm mt-1",children:m.subContent})]})]})},p))}),d.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-2xl p-6 border border-emerald-100",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Additional Resources"}),d.jsx("div",{className:"space-y-3",children:[{label:"Help Center & Documentation",href:"#"},{label:"API Documentation",href:"#"},{label:"System Status",href:"#"},{label:"Privacy Policy",href:"#"},{label:"Terms of Service",href:"#"}].map((m,p)=>d.jsxs("a",{href:m.href,className:"flex items-center text-emerald-700 hover:text-emerald-800 transition-colors",children:[d.jsx(sd,{className:"h-4 w-4 mr-2"}),m.label]},p))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Connect With Us"}),d.jsx("div",{className:"flex space-x-4",children:[{platform:"LinkedIn",href:"https://www.linkedin.com/in/akathedeveloper/"},{platform:"GitHub",href:"https://github.com/akathedeveloper/CareSync/"}].map((m,p)=>d.jsx("a",{href:m.href,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 hover:bg-emerald-100 text-gray-600 hover:text-emerald-600 p-3 rounded-xl transition-all duration-300 font-semibold",children:m.platform},p))})]})]})]})})}),d.jsxs("section",{className:"py-24 bg-gradient-to-br from-emerald-500 via-teal-600 to-blue-600 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black/10"}),d.jsxs("div",{className:"relative max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[d.jsx("h2",{className:"text-4xl lg:text-5xl font-black text-white mb-8",children:"Ready to Get Started?"}),d.jsx("p",{className:"text-xl lg:text-2xl text-white/90 mb-12 font-medium leading-relaxed max-w-3xl mx-auto",children:"Join thousands of healthcare providers who trust CareSync to transform their patient care"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[d.jsx(Tt,{to:"/register",className:"bg-white text-emerald-600 px-10 py-4 rounded-xl hover:bg-gray-50 transition-all duration-300 font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105",children:"Start Free Trial"}),d.jsx("a",{href:"#contact-form",className:"border-2 border-white text-white px-10 py-4 rounded-xl hover:bg-white hover:text-emerald-600 transition-all duration-300 font-bold text-lg backdrop-blur-sm transform hover:scale-105",children:"Contact Sales"})]})]})]})]})},TE=()=>{const[t,e]=k.useState(0),[n,i]=k.useState(!1),{isDark:s,toggleTheme:o}=kc(),[l,u]=k.useState(!1);k.useEffect(()=>{const C=()=>{const j=document.getElementById("stats-about");j&&j.getBoundingClientRect().top<window.innerHeight-100&&(i(!0),window.removeEventListener("scroll",C))};return window.addEventListener("scroll",C),()=>window.removeEventListener("scroll",C)},[]),k.useEffect(()=>{l?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll")},[l]);const f=[{label:"Years of Excellence",value:8,suffix:"+",icon:j9},{label:"Healthcare Professionals",value:1e4,suffix:"+",icon:va},{label:"Countries Served",value:25,suffix:"+",icon:f9},{label:"Patient Satisfaction",value:98.5,suffix:"%",icon:dr}],m=[{icon:dr,title:"Patient-Centered Care",description:"Every decision we make is guided by what's best for patients and their families.",color:"from-red-500 to-pink-500"},{icon:So,title:"Security & Privacy",description:"We maintain the highest standards of data security and patient privacy protection.",color:"from-emerald-500 to-teal-500"},{icon:HT,title:"Innovation",description:"Continuously pushing boundaries to create better healthcare solutions for tomorrow.",color:"from-yellow-500 to-orange-500"},{icon:va,title:"Collaboration",description:"Fostering seamless communication between all healthcare stakeholders.",color:"from-blue-500 to-indigo-500"}],p=[{name:"Dr. Sarah Johnson",role:"CEO & Founder",image:"",bio:"Former hospital administrator with 15+ years in healthcare technology",specialties:["Healthcare Leadership","Digital Transformation"]},{name:"Dr. Michael Chen",role:"Chief Medical Officer",image:"",bio:"Practicing physician and healthcare technology innovator",specialties:["Clinical Excellence","Medical Technology"]},{name:"Emily Rodriguez",role:"Head of Engineering",image:"",bio:"Expert in secure healthcare systems and HIPAA compliance",specialties:["System Architecture","Security"]},{name:"Dr. James Wilson",role:"Head of Research",image:"",bio:"Leading AI research in healthcare diagnostics and treatment",specialties:["AI/ML","Healthcare Research"]}],v=[{year:"2016",title:"Founded",description:"CareSync was born with a vision to transform healthcare"},{year:"2018",title:"First 1000 Providers",description:"Reached our first major milestone of healthcare providers"},{year:"2020",title:"Global Expansion",description:"Expanded to serve healthcare systems across 15 countries"},{year:"2022",title:"AI Integration",description:"Launched AI-powered diagnostic assistance features"},{year:"2024",title:"10K+ Providers",description:"Now serving over 10,000 healthcare professionals worldwide"}],b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,duration:.6}}},_={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},A={scale:1.05,y:-5,transition:{duration:.3,ease:"easeOut"}};return d.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100",children:[d.jsxs("nav",{className:"fixed top-0 w-full bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-800/50 z-50 shadow-sm",children:[d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10",children:d.jsx("img",{src:"/CareSync-Logo.png",alt:"CareSync Logo",className:"w-full h-full"})}),d.jsx("span",{className:"ml-3 font-bold text-emerald-600 dark:text-emerald-400",style:{fontSize:"1.375rem"},children:"CareSync"})]}),d.jsx("div",{className:"hidden md:block",children:d.jsx("div",{className:"ml-10 flex items-center space-x-8",children:["Home","Features","Pricing","Testimonials","Contact"].map(C=>d.jsx("a",{href:`#${C.toLowerCase()}`,className:`flex gap-2 items-center text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium relative group
              after:content-[''] after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-full after:bg-emerald-600 after:scale-x-0 after:origin-center after:transition-transform after:duration-300
              hover:after:scale-x-100`,children:C},C))})}),d.jsx("div",{className:"md:hidden",children:d.jsx("button",{onClick:()=>u(!l),className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:d.jsx(Yv,{className:"h-6 w-6"})})}),d.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[d.jsx("button",{onClick:o,className:"p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:s?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",children:s?d.jsx(Cd,{className:"h-5 w-5"}):d.jsx(Nd,{className:"h-5 w-5"})}),d.jsx(Tt,{to:"/login",className:"text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium",children:"Sign In"}),d.jsx(Tt,{to:"/register",className:"gradient-accent text-white px-6 py-2.5 rounded-xl hover:shadow-lg transition-all duration-300 font-semibold transform hover:scale-105",children:"Get Started"})]})]})}),l&&d.jsx("div",{className:"relative md:hidden",children:d.jsxs("div",{className:"absolute right-0 w-52 h-dvh pt-10 bg-white dark:bg-gray-900",children:[["Home","Features","Pricing","Testimonials","Contact"].map(C=>d.jsx("a",{href:`#${C.toLowerCase()}`,className:`block text-center py-3 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors font-medium relative group
              after:content-[''] after:absolute after:left-0 after:bottom-1 after:h-[2px] after:w-full after:bg-emerald-600 after:scale-x-0 after:origin-center after:transition-transform after:duration-300
              hover:after:scale-x-100`,onClick:()=>u(!1),children:C},C)),d.jsxs("div",{className:"flex flex-col space-y-2 mt-20 px-3",children:[d.jsxs("button",{onClick:o,className:"text-center py-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors flex items-center justify-center gap-2",children:[s?d.jsx(Cd,{className:"h-5 w-5"}):d.jsx(Nd,{className:"h-5 w-5"}),s?"Light Mode":"Dark Mode"]}),d.jsx(Tt,{to:"/login",className:"text-center py-2 text-gray-600 dark:text-gray-300 hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors",children:"Sign In"}),d.jsx(Tt,{to:"/register",className:"gradient-accent text-white px-4 py-2 rounded-lg text-center font-semibold",children:"Get Started"})]})]})})]}),d.jsxs("section",{className:"relative py-24 bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.jsx(ee.div,{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-emerald-400/20 to-teal-400/20 dark:from-emerald-400/10 dark:to-teal-400/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"}}),d.jsx(ee.div,{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-teal-400/20 to-blue-400/20 dark:from-teal-400/10 dark:to-blue-400/10 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"}})]}),d.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs(ee.div,{initial:"hidden",animate:"visible",variants:b,className:"text-center",children:[d.jsx(ee.div,{variants:_,className:"inline-flex items-center bg-gradient-to-r from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 text-emerald-700 dark:text-emerald-300 px-6 py-3 rounded-full text-sm font-semibold shadow-sm mb-8",children:" Transforming Healthcare Since 2016"}),d.jsxs(ee.h1,{variants:_,className:"text-5xl lg:text-7xl font-black text-gray-900 dark:text-gray-100 leading-tight mb-8",children:["About",d.jsxs("span",{className:"bg-gradient-to-r from-emerald-600 via-teal-600 to-blue-600 bg-clip-text text-transparent",children:[" ","CareSync"]})]}),d.jsx(ee.p,{variants:_,className:"text-xl lg:text-2xl text-gray-600 dark:text-gray-300 leading-relaxed max-w-4xl mx-auto mb-12 font-medium",children:"We're on a mission to revolutionize healthcare by connecting providers, patients, and pharmacies through innovative technology that puts care first."}),d.jsx(ee.div,{variants:_,className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-8 text-base text-gray-600 dark:text-gray-400",children:["Founded by Healthcare Professionals","Trusted by 10K+ Providers","Serving 25+ Countries"].map((C,j)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Tg,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),d.jsx("span",{className:"font-medium",children:C})]},j))})]})})]}),d.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[d.jsx(ee.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0},children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl flex items-center justify-center mb-6",children:d.jsx(dr,{className:"h-8 w-8 text-white"})}),d.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Mission"}),d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:"To empower healthcare providers with innovative technology that enhances patient care, streamlines operations, and creates meaningful connections across the entire healthcare ecosystem."})]})}),d.jsx(ee.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center mb-6",children:d.jsx(HT,{className:"h-8 w-8 text-white"})}),d.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Vision"}),d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:"A world where healthcare is seamlessly connected, intelligently managed, and accessible to all, where technology amplifies the human touch rather than replacing it."})]})})]})})}),d.jsx("section",{id:"stats-about",className:"py-20 bg-white dark:bg-gray-950",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:b,className:"text-center mb-16",children:[d.jsx(ee.h2,{variants:_,className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Impact in Numbers"}),d.jsx(ee.p,{variants:_,className:"text-xl text-gray-600 dark:text-gray-300",children:"Making a difference in healthcare, one connection at a time"})]}),d.jsx(ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:b,className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:f.map((C,j)=>d.jsx(ee.div,{variants:_,whileHover:A,className:"text-center group",children:d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-2xl p-8 hover:shadow-xl transition-all duration-300 group-hover:bg-gradient-to-br group-hover:from-emerald-50 group-hover:to-teal-50 dark:group-hover:from-emerald-900/20 dark:group-hover:to-teal-900/20",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:d.jsx(C.icon,{className:"h-8 w-8 text-white"})})}),d.jsx("div",{className:"text-4xl lg:text-5xl font-black text-gray-900 dark:text-gray-100 mb-3",children:n&&d.jsx(pN,{start:0,end:C.value,duration:2.5,separator:",",decimals:C.value%1!==0?1:0,suffix:C.suffix})}),d.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-medium text-lg",children:C.label})]})},j))})]})}),d.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:b,className:"text-center mb-16",children:[d.jsx(ee.h2,{variants:_,className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Core Values"}),d.jsx(ee.p,{variants:_,className:"text-xl text-gray-600 dark:text-gray-300",children:"The principles that guide everything we do"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:m.map((C,j)=>d.jsx(ee.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:j*.1},whileHover:A,viewport:{once:!0},className:"relative group cursor-pointer",onMouseEnter:()=>e(j),children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 h-full shadow-lg hover:shadow-2xl transition-all duration-300 border-2 border-transparent hover:border-emerald-200 dark:hover:border-emerald-800",children:[d.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${C.color} rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:d.jsx(C.icon,{className:"h-8 w-8 text-white"})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:C.title}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:C.description})]})},j))})]})}),d.jsx("section",{className:"py-20 bg-white dark:bg-gray-950",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:b,className:"text-center mb-16",children:[d.jsx(ee.h2,{variants:_,className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Meet Our Leadership Team"}),d.jsx(ee.p,{variants:_,className:"text-xl text-gray-600 dark:text-gray-300",children:"Experienced healthcare professionals and technology experts"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:p.map((C,j)=>d.jsx(ee.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:j*.1},whileHover:A,viewport:{once:!0},className:"group",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 text-center h-full",children:[d.jsx("div",{className:"text-6xl mb-6 group-hover:scale-110 transition-transform duration-300",children:C.image}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:C.name}),d.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 font-semibold mb-4",children:C.role}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 leading-relaxed",children:C.bio}),d.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:C.specialties.map((P,U)=>d.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-3 py-1 rounded-full text-xs font-medium",children:P},U))})]})},j))})]})}),d.jsx("section",{className:"py-20 bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs(ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:b,className:"text-center mb-16",children:[d.jsx(ee.h2,{variants:_,className:"text-4xl lg:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Our Journey"}),d.jsx(ee.p,{variants:_,className:"text-xl text-gray-600 dark:text-gray-300",children:"Key milestones in our mission to transform healthcare"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-gradient-to-b from-emerald-500 to-teal-500 rounded-full"}),d.jsx("div",{className:"space-y-12",children:v.map((C,j)=>d.jsxs(ee.div,{initial:{opacity:0,x:j%2===0?-50:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:j*.2},viewport:{once:!0},className:`relative flex items-center ${j%2===0?"justify-start":"justify-end"}`,children:[d.jsx("div",{className:`w-full lg:w-5/12 ${j%2===0?"lg:pr-16":"lg:pl-16"}`,children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center mr-4",children:d.jsx("span",{className:"text-white font-bold text-sm",children:C.year})}),d.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:C.title})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:C.description})]})}),d.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-6 h-6 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full border-4 border-white dark:border-gray-950 shadow-lg"})]},j))})]})]})}),d.jsxs("section",{className:"py-20 bg-gradient-to-br from-emerald-500 via-teal-600 to-blue-600 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black/10"}),d.jsx(ee.div,{className:"absolute inset-0 opacity-20",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},children:d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-y-12"})}),d.jsx("div",{className:"relative max-w-5xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:d.jsxs(ee.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:b,children:[d.jsx(ee.h2,{variants:_,className:"text-4xl lg:text-5xl font-black text-white mb-8",children:"Ready to Transform Healthcare Together?"}),d.jsx(ee.p,{variants:_,className:"text-xl lg:text-2xl text-white/90 mb-12 font-medium leading-relaxed max-w-3xl mx-auto",children:"Join our mission to revolutionize healthcare delivery and patient outcomes through innovative technology solutions."}),d.jsxs(ee.div,{variants:_,className:"flex flex-col sm:flex-row gap-6 justify-center mb-8",children:[d.jsx(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white text-emerald-600 px-10 py-4 rounded-xl hover:bg-gray-50 transition-all duration-300 font-bold text-lg shadow-xl hover:shadow-2xl",children:"Join Our Team"}),d.jsx(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border-2 border-white text-white px-10 py-4 rounded-xl hover:bg-white hover:text-emerald-600 transition-all duration-300 font-bold text-lg backdrop-blur-sm",children:d.jsx("a",{href:"/contact",children:" Contact Us"})})]}),d.jsxs(ee.div,{variants:_,className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-12 text-white/80 font-medium",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(mN,{className:"h-5 w-5"}),d.jsx("span",{children:"San Francisco, CA"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(fN,{className:"h-5 w-5"}),d.jsx("span",{children:"hello@caresync.com"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(gN,{className:"h-5 w-5"}),d.jsx("span",{children:"+1 (555) 123-4567"})]})]})]})})]}),d.jsx(XC,{})]})},_z=()=>{const{user:t,logout:e}=Qn(),{isDark:n,toggleTheme:i}=kc(),s=tv(),o=async()=>{try{await e(),s("/login")}catch(f){console.error("Logout failed:",f),s("/login")}},l=f=>{switch(f){case"patient":return" Patient";case"doctor":return" Doctor";case"pharmacist":return" Pharmacist";default:return f}},u=t?.name||t?.displayName||t?.email||"User";return d.jsx("header",{className:"bg-surface border-subtle border-b shadow-sm",children:d.jsx("div",{className:"px-6 py-2",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>s("/"),children:[d.jsx("h1",{className:"text-2xl font-bold text-primary",children:"CareSync"}),d.jsx("span",{className:"ml-2 px-2 py-1 bg-primary-100/80 text-primary-800 text-xs rounded-full dark:bg-primary-900/30 dark:text-primary-200",children:"Beta"})]}),d.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[d.jsx("button",{onClick:i,className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-300 dark:hover:text-white dark:hover:bg-gray-800 transition-colors",title:n?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle dark mode",children:n?d.jsx(Cd,{className:"h-6 w-6"}):d.jsx(Nd,{className:"h-6 w-6"})}),d.jsxs("button",{className:"p-2 text-gray-600 hover:text-gray-900 relative dark:text-gray-300 dark:hover:text-white",children:[d.jsx(ux,{className:"h-6 w-6"}),d.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:"3"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(Tt,{to:"/dashboard/profile",className:"flex items-center space-x-2 hover:bg-gray-100 rounded-md p-2 dark:hover:bg-gray-800",children:[d.jsx(I9,{className:"h-8 w-8 text-gray-600 dark:text-gray-300"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:u}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:l(t?.role)})]})]}),d.jsx("button",{onClick:o,className:"ml-2 p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors dark:text-gray-300 dark:hover:text-red-400 dark:hover:bg-red-950/30",title:"Logout",children:d.jsx(_V,{className:"h-5 w-5"})})]})]})]})})})},Tz=[{name:"Dashboard",href:"/patient",icon:Jd},{name:"Appointments",href:"/patient/appointments",icon:kd},{name:"Prescriptions",href:"/patient/prescriptions",icon:kd},{name:"Health Logs",href:"/patient/health-logs",icon:va},{name:"Messages",href:"/patient/messages",icon:_g},{name:"Settings",href:"/patient/settings",icon:Kv}],Sz=[{name:"Dashboard",href:"/doctor",icon:Jd},{name:"Schedule",href:"/doctor/schedule",icon:kd},{name:"Patients",href:"/doctor/patients",icon:va},{name:"Messages",href:"/doctor/messages",icon:_g},{name:"Settings",href:"/doctor/settings",icon:Kv}],Ez=[{name:"Dashboard",href:"/pharmacist",icon:Jd},{name:"Prescriptions",href:"/pharmacist/prescriptions",icon:kd},{name:"Inventory",href:"/pharmacist/inventory",icon:va},{name:"Messages",href:"/pharmacist/messages",icon:_g},{name:"Settings",href:"/pharmacist/settings",icon:Kv}];function kz(){const t=Fk(),{user:e}=Qn(),[n,i]=Co.useState(!1),s=e?.role==="doctor"?Sz:e?.role==="pharmacist"?Ez:Tz;Co.useEffect(()=>{i(!1)},[t.pathname]);const o="w-64",u=(()=>{switch(e?.role){case"patient":return{title:"Patient Panel",subtitle:"Your Health Hub"};case"doctor":return{title:"Doctor Panel",subtitle:"Your Practice Hub"};case"pharmacist":return{title:"Pharmacist Panel",subtitle:"Your Pharmacy Hub"};default:return{title:"CareSync",subtitle:"Integrated Health"}}})();return d.jsxs(d.Fragment,{children:[d.jsx("button",{"aria-label":"Open Sidebar",className:"fixed z-40 left-0 top-1/2 -translate-y-1/2 bg-primary-600 text-white rounded-r-full shadow-md p-2 focus:outline-none focus:ring-2 focus:ring-primary-400 transition hover:bg-primary-700 lg:hidden",onClick:()=>i(!0),tabIndex:n?-1:0,children:d.jsx(zV,{className:"h-6 w-6"})}),n&&d.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 lg:hidden",onClick:()=>i(!1),"aria-label":"Sidebar overlay"}),d.jsxs("aside",{className:`fixed top-0 left-0 min-h-screen ${o} bg-gradient-to-b from-primary-50/90 via-white to-medical-50/90 shadow-xl border-r border-subtle flex flex-col z-50 transition-transform duration-200 ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static lg:h-auto dark:from-gray-950 dark:via-gray-900/95 dark:to-gray-950`,children:[d.jsxs("div",{className:"flex items-center gap-3 px-6 h-20 border-b border-subtle bg-surface/90 backdrop-blur",children:[d.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-primary-100/90 shadow-inner dark:bg-primary-900/30",children:d.jsx("span",{className:"text-primary text-2xl font-bold",children:""})}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-lg font-bold text-primary-700 tracking-wide dark:text-primary-300",children:u.title}),d.jsx("span",{className:"block text-xs text-gray-400 dark:text-gray-500",children:u.subtitle})]}),d.jsx("div",{className:"ml-auto lg:hidden",children:d.jsx("button",{"aria-label":"Close Sidebar",className:"p-1",onClick:()=>i(!1),children:d.jsx(Sg,{className:"h-7 w-7 text-gray-500 dark:text-gray-300"})})})]}),d.jsx("nav",{className:"flex-1 mt-4 px-2 lg:px-4",children:d.jsx("ul",{className:"space-y-1",children:s.map(f=>{const m=t.pathname===f.href;return d.jsx("li",{children:d.jsxs(Tt,{to:f.href,className:`flex items-center px-4 py-2 text-base rounded-lg transition-colors group ${m?"bg-primary-100 text-primary-700 font-semibold shadow-inner dark:bg-primary-900/20 dark:text-primary-200":"text-gray-700 hover:bg-primary-50 hover:text-primary-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-primary-200"}`,children:[d.jsx(f.icon,{className:`mr-3 h-6 w-6 ${m?"text-primary-500 dark:text-primary-300":"text-gray-400 group-hover:text-primary-400 dark:text-gray-500 dark:group-hover:text-primary-300"}`}),d.jsx("span",{className:"truncate",children:f.name})]})},f.name)})})}),d.jsxs("div",{className:"mt-auto mb-6 mx-4 p-4 bg-medical-50 rounded-xl shadow-sm hidden md:block dark:bg-gray-900 dark:border dark:border-gray-800",children:[d.jsx("h3",{className:"text-sm font-medium text-primary-700 mb-2 tracking-wide dark:text-primary-300",children:"Quick Stats"}),d.jsxs("div",{className:"text-xs text-gray-600 space-y-1 font-mono dark:text-gray-400",children:[d.jsx("p",{children:" 3 pending reminders"}),d.jsx("p",{children:" 1 new prescription"}),d.jsx("p",{children:" Next appointment: Tomorrow"})]})]}),d.jsx("div",{className:"hidden lg:block mt-auto px-6 pb-6",children:d.jsx("div",{className:"h-2 w-full rounded-xl bg-gradient-to-r from-primary-200 via-medical-200 to-primary-100 opacity-70 dark:from-primary-900 dark:via-medical-900 dark:to-primary-900"})})]})]})}const by=()=>d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[d.jsx(_z,{}),d.jsxs("div",{className:"flex",children:[d.jsx(kz,{}),d.jsx("main",{className:"flex-1 p-6 bg-white dark:bg-gray-900",children:d.jsx(zk,{})})]})]}),Cc=({size:t="md",color:e="primary"})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},i={primary:"text-primary-600",white:"text-white",gray:"text-gray-600"};return d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("div",{className:`${n[t]} ${i[e]} animate-spin rounded-full border-2 border-current border-r-transparent`,role:"status","aria-label":"Loading",children:d.jsx("span",{className:"sr-only",children:"Loading..."})})})};let Az={data:""},Nz=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Az,Cz=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jz=/\/\*[^]*?\*\/|  +/g,SE=/\n+/g,ta=(t,e)=>{let n="",i="",s="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":i+=o[1]=="f"?ta(l,o):o+"{"+ta(l,o[1]=="k"?"":e)+"}":typeof l=="object"?i+=ta(l,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,u):u?u+" "+f:f)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ta.p?ta.p(o,l):o+":"+l+";")}return n+(e&&s?e+"{"+s+"}":s)+i},tr={},S4=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+S4(t[n]);return e}return t},Rz=(t,e,n,i,s)=>{let o=S4(t),l=tr[o]||(tr[o]=(f=>{let m=0,p=11;for(;m<f.length;)p=101*p+f.charCodeAt(m++)>>>0;return"go"+p})(o));if(!tr[l]){let f=o!==t?t:(m=>{let p,v,b=[{}];for(;p=Cz.exec(m.replace(jz,""));)p[4]?b.shift():p[3]?(v=p[3].replace(SE," ").trim(),b.unshift(b[0][v]=b[0][v]||{})):b[0][p[1]]=p[2].replace(SE," ").trim();return b[0]})(t);tr[l]=ta(s?{["@keyframes "+l]:f}:f,n?"":"."+l)}let u=n&&tr.g?tr.g:null;return n&&(tr.g=tr[l]),((f,m,p,v)=>{v?m.data=m.data.replace(v,f):m.data.indexOf(f)===-1&&(m.data=p?f+m.data:m.data+f)})(tr[l],e,i,u),l},Dz=(t,e,n)=>t.reduce((i,s,o)=>{let l=e[o];if(l&&l.call){let u=l(n),f=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=f?"."+f:u&&typeof u=="object"?u.props?"":ta(u,""):u===!1?"":u}return i+s+(l??"")},"");function Pg(t){let e=this||{},n=t.call?t(e.p):t;return Rz(n.unshift?n.raw?Dz(n,[].slice.call(arguments,1),e.p):n.reduce((i,s)=>Object.assign(i,s&&s.call?s(e.p):s),{}):n,Nz(e.target),e.g,e.o,e.k)}let E4,Yx,Kx;Pg.bind({g:1});let vr=Pg.bind({k:1});function Mz(t,e,n,i){ta.p=e,E4=t,Yx=n,Kx=i}function ka(t,e){let n=this||{};return function(){let i=arguments;function s(o,l){let u=Object.assign({},o),f=u.className||s.className;n.p=Object.assign({theme:Yx&&Yx()},u),n.o=/ *go\d+/.test(f),u.className=Pg.apply(n,i)+(f?" "+f:"");let m=t;return t[0]&&(m=u.as||t,delete u.as),Kx&&m[0]&&Kx(u),E4(m,u)}return s}}var Iz=t=>typeof t=="function",Zm=(t,e)=>Iz(t)?t(e):t,Oz=(()=>{let t=0;return()=>(++t).toString()})(),k4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Pz=20,A4=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Pz)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return A4(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},bm=[],bo={toasts:[],pausedAt:void 0},zo=t=>{bo=A4(bo,t),bm.forEach(e=>{e(bo)})},Vz={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Lz=(t={})=>{let[e,n]=k.useState(bo),i=k.useRef(bo);k.useEffect(()=>(i.current!==bo&&n(bo),bm.push(n),()=>{let o=bm.indexOf(n);o>-1&&bm.splice(o,1)}),[]);let s=e.toasts.map(o=>{var l,u,f;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||t?.removeDelay,duration:o.duration||((u=t[o.type])==null?void 0:u.duration)||t?.duration||Vz[o.type],style:{...t.style,...(f=t[o.type])==null?void 0:f.style,...o.style}}});return{...e,toasts:s}},Uz=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||Oz()}),lh=t=>(e,n)=>{let i=Uz(e,t,n);return zo({type:2,toast:i}),i.id},zn=(t,e)=>lh("blank")(t,e);zn.error=lh("error");zn.success=lh("success");zn.loading=lh("loading");zn.custom=lh("custom");zn.dismiss=t=>{zo({type:3,toastId:t})};zn.remove=t=>zo({type:4,toastId:t});zn.promise=(t,e,n)=>{let i=zn.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?Zm(e.success,s):void 0;return o?zn.success(o,{id:i,...n,...n?.success}):zn.dismiss(i),s}).catch(s=>{let o=e.error?Zm(e.error,s):void 0;o?zn.error(o,{id:i,...n,...n?.error}):zn.dismiss(i)}),t};var Bz=(t,e)=>{zo({type:1,toast:{id:t,height:e}})},Fz=()=>{zo({type:5,time:Date.now()})},ud=new Map,zz=1e3,Hz=(t,e=zz)=>{if(ud.has(t))return;let n=setTimeout(()=>{ud.delete(t),zo({type:4,toastId:t})},e);ud.set(t,n)},qz=t=>{let{toasts:e,pausedAt:n}=Lz(t);k.useEffect(()=>{if(n)return;let o=Date.now(),l=e.map(u=>{if(u.duration===1/0)return;let f=(u.duration||0)+u.pauseDuration-(o-u.createdAt);if(f<0){u.visible&&zn.dismiss(u.id);return}return setTimeout(()=>zn.dismiss(u.id),f)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[e,n]);let i=k.useCallback(()=>{n&&zo({type:6,time:Date.now()})},[n]),s=k.useCallback((o,l)=>{let{reverseOrder:u=!1,gutter:f=8,defaultPosition:m}=l||{},p=e.filter(_=>(_.position||m)===(o.position||m)&&_.height),v=p.findIndex(_=>_.id===o.id),b=p.filter((_,A)=>A<v&&_.visible).length;return p.filter(_=>_.visible).slice(...u?[b+1]:[0,b]).reduce((_,A)=>_+(A.height||0)+f,0)},[e]);return k.useEffect(()=>{e.forEach(o=>{if(o.dismissed)Hz(o.id,o.removeDelay);else{let l=ud.get(o.id);l&&(clearTimeout(l),ud.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:Bz,startPause:Fz,endPause:i,calculateOffset:s}}},$z=vr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Gz=vr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wz=vr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Yz=ka("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$z} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Gz} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Wz} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Kz=vr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Xz=ka("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Kz} 1s linear infinite;
`,Qz=vr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Zz=vr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Jz=ka("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Zz} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,eH=ka("div")`
  position: absolute;
`,tH=ka("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nH=vr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iH=ka("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,sH=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?k.createElement(iH,null,e):e:n==="blank"?null:k.createElement(tH,null,k.createElement(Xz,{...i}),n!=="loading"&&k.createElement(eH,null,n==="error"?k.createElement(Yz,{...i}):k.createElement(Jz,{...i})))},rH=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,aH=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,oH="0%{opacity:0;} 100%{opacity:1;}",lH="0%{opacity:1;} 100%{opacity:0;}",cH=ka("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,uH=ka("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dH=(t,e)=>{let n=t.includes("top")?1:-1,[i,s]=k4()?[oH,lH]:[rH(n),aH(n)];return{animation:e?`${vr(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${vr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},hH=k.memo(({toast:t,position:e,style:n,children:i})=>{let s=t.height?dH(t.position||e||"top-center",t.visible):{opacity:0},o=k.createElement(sH,{toast:t}),l=k.createElement(uH,{...t.ariaProps},Zm(t.message,t));return k.createElement(cH,{className:t.className,style:{...s,...n,...t.style}},typeof i=="function"?i({icon:o,message:l}):k.createElement(k.Fragment,null,o,l))});Mz(k.createElement);var fH=({id:t,className:e,style:n,onHeightUpdate:i,children:s})=>{let o=k.useCallback(l=>{if(l){let u=()=>{let f=l.getBoundingClientRect().height;i(t,f)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return k.createElement("div",{ref:o,className:e,style:n},s)},mH=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:k4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...s}},gH=Pg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qf=16,pH=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:s,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:f}=qz(n);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:qf,left:qf,right:qf,bottom:qf,pointerEvents:"none",...o},className:l,onMouseEnter:f.startPause,onMouseLeave:f.endPause},u.map(m=>{let p=m.position||e,v=f.calculateOffset(m,{reverseOrder:t,gutter:i,defaultPosition:e}),b=mH(p,v);return k.createElement(fH,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?gH:"",style:b},m.type==="custom"?Zm(m.message,m):s?s(m):k.createElement(hH,{toast:m,position:p}))}))},ps=zn;const yH=()=>{const{login:t}=Qn(),e=tv(),[n,i]=k.useState(!1),[s,o]=k.useState(!1),[l,u]=k.useState(""),[f,m]=k.useState({email:"",password:"",role:"patient"}),p=P=>{m({...f,[P.target.name]:P.target.value}),l&&u("")},v=async P=>{P.preventDefault(),o(!0),u("");try{const U=await t(f.email,f.password,f.role);U.success&&(ps.success(`Welcome back, ${U.user.name||U.user.email}! Redirecting to your dashboard...`,{duration:3e3,icon:""}),setTimeout(()=>{e(`/${U.user.role}`)},1500))}catch(U){const z=U.message||"An error occurred during login";u(z),ps.error(z,{duration:4e3,icon:""})}finally{o(!1)}},b=P=>{let U;P==="patient"&&(U=qm[0]),P==="doctor"&&(U=Ed),P==="pharmacist"&&(U=$m),U&&(m({email:U.email,password:U.password,role:U.role}),ps.success(`Demo credentials loaded for ${P}!`,{duration:2e3,icon:""}))},_={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94],staggerChildren:.1}}},A={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},C={animate:{y:[0,-10,0],transition:{duration:3,repeat:1/0,ease:"easeInOut"}}},j={animate:{scale:[1,1.05,1],transition:{duration:2,repeat:1/0,ease:"easeInOut"}}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx(ee.div,{className:"absolute top-10 left-10 w-20 h-20 bg-emerald-200 rounded-full opacity-20",variants:j,animate:"animate"}),d.jsx(ee.div,{className:"absolute top-32 right-20 w-16 h-16 bg-teal-200 rounded-full opacity-20",variants:C,animate:"animate",style:{animationDelay:"0.5s"}}),d.jsx(ee.div,{className:"absolute bottom-20 left-1/4 w-12 h-12 bg-cyan-200 rounded-full opacity-20",variants:j,animate:"animate",style:{animationDelay:"1s"}}),d.jsx(ee.div,{className:"absolute bottom-32 right-10 w-24 h-24 bg-emerald-200 rounded-full opacity-20",variants:C,animate:"animate",style:{animationDelay:"1.5s"}}),d.jsx(ee.div,{className:"absolute top-6 left-6 z-20",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.2},children:d.jsxs(Tt,{to:"/",className:"flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-xl shadow-lg border border-white/50 text-emerald-600 hover:text-emerald-700 hover:bg-white transition-all duration-300 group",children:[d.jsx(ee.div,{whileHover:{x:-2},transition:{type:"spring",stiffness:300},children:d.jsx(Jd,{className:"w-5 h-5"})}),d.jsx("span",{className:"font-medium text-sm",children:"Home"})]})}),d.jsxs(ee.div,{className:"max-w-lg w-full space-y-8 bg-white/80 backdrop-blur-sm p-10 rounded-2xl shadow-2xl border border-white/50 relative z-10",variants:_,initial:"hidden",animate:"visible",whileHover:{y:-5},transition:{type:"spring",stiffness:300},children:[d.jsxs(ee.div,{className:"text-center",variants:A,children:[d.jsx(ee.div,{className:"flex justify-center mb-6",whileHover:{rotate:360},transition:{duration:.6},children:d.jsx("div",{className:"w-16 h-16 gradient-accent rounded-2xl flex items-center justify-center shadow-lg transform rotate-3 hover:rotate-0 transition-transform duration-300",children:d.jsx(ee.svg,{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),d.jsx(ee.h1,{className:"text-5xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent mb-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},children:"CareSync"}),d.jsx(ee.h2,{className:"text-2xl font-bold text-gray-800 mb-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"Welcome Back"}),d.jsx(ee.p,{className:"text-gray-600 text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:"Sign in to continue your healthcare journey"}),d.jsxs(ee.p,{className:"mt-2 text-center text-sm text-gray-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:["Don't have an account?"," ",d.jsx(Tt,{to:"/register",className:"font-semibold text-emerald-600 hover:text-emerald-500 transition-colors duration-200 underline decoration-2 underline-offset-2 hover:decoration-emerald-500",children:"Create one here"})]})]}),d.jsxs(ee.div,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border-l-4 border-emerald-400 p-5 rounded-xl shadow-sm",variants:A,children:[d.jsxs(ee.div,{className:"flex items-center mb-3",initial:{x:-20},animate:{x:0},transition:{delay:.8},children:[d.jsx("div",{className:"w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center mr-2",children:d.jsx(ee.svg,{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",initial:{scale:0},animate:{scale:1},transition:{delay:.9,type:"spring"},children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),d.jsx("h3",{className:"text-sm font-bold text-emerald-800",children:"Quick Demo Access"})]}),d.jsxs("div",{className:"space-y-3 text-xs",children:[["patient","doctor","pharmacist"].map((P,U)=>{const z=P==="patient"?qm[0]:P==="doctor"?Ed:$m[0],K={patient:"from-blue-400 to-blue-500",doctor:"from-green-400 to-green-500",pharmacist:"from-purple-400 to-purple-500"},Q={patient:"",doctor:"",pharmacist:""},te={patient:"Patient Portal",doctor:"Doctor Dashboard",pharmacist:"Pharmacy System"};return d.jsxs(ee.button,{type:"button",onClick:()=>b(P),className:"w-full flex items-center gap-3 p-3 bg-white/70 hover:bg-white hover:shadow-md rounded-lg transition-all duration-200 text-emerald-700 hover:text-emerald-800 border border-emerald-100",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1+U*.1},whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(ee.div,{className:`w-8 h-8 bg-gradient-to-br ${K[P]} rounded-full flex items-center justify-center text-white text-sm`,whileHover:{rotate:360},transition:{duration:.3},children:Q[P]}),d.jsxs("div",{className:"text-left flex-1",children:[d.jsx("div",{className:"font-medium",children:te[P]}),d.jsx("div",{className:"text-emerald-600 text-xs",children:z?.email||"No email"})]})]},P)}),d.jsx(ee.div,{className:"bg-emerald-100 rounded-lg p-3 mt-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4},children:d.jsxs("p",{className:"text-emerald-700 text-center",children:[d.jsx("span",{className:"font-medium",children:"Default Password:"}),d.jsx(ee.code,{className:"bg-emerald-200 px-2 py-1 rounded font-mono text-xs ml-1",whileHover:{scale:1.05},children:"password123"})]})})]})]}),d.jsxs(ee.form,{className:"space-y-6",onSubmit:v,variants:A,children:[d.jsx(or,{children:l&&d.jsx(ee.div,{className:"bg-gradient-to-r from-red-50 to-pink-50 border-l-4 border-red-500 p-4 rounded-xl shadow-sm",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(ee.div,{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center mr-2",initial:{scale:0},animate:{scale:1},transition:{type:"spring"},children:d.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-red-800",children:"Authentication Error"}),d.jsx("p",{className:"text-red-700 text-sm",children:l})]})]})})}),d.jsxs(ee.div,{className:"space-y-5",variants:A,children:[d.jsxs(ee.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.5},children:[d.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Select Role"}),d.jsxs("div",{className:"relative",children:[d.jsxs(ee.select,{id:"role",name:"role",value:f.role,onChange:p,className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 bg-white/70 backdrop-blur-sm hover:bg-white",whileFocus:{scale:1.02},"aria-label":"Select your role",children:[d.jsx("option",{value:"patient",children:"Patient"}),d.jsx("option",{value:"doctor",children:"Doctor"}),d.jsx("option",{value:"pharmacist",children:"Pharmacist"})]}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-emerald-500",children:d.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),d.jsxs(ee.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.6},children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),d.jsx(ee.input,{id:"email",name:"email",type:"email",required:!0,value:f.email,onChange:p,className:"block w-full px-4 py-3 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 bg-white/70 backdrop-blur-sm hover:bg-white",placeholder:"Enter your email address",whileFocus:{scale:1.02},"aria-label":"Email address"})]}),d.jsxs(ee.div,{className:"space-y-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.7},children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(ee.input,{id:"password",name:"password",type:n?"text":"password",required:!0,value:f.password,onChange:p,className:"block w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all duration-200 bg-white/70 backdrop-blur-sm hover:bg-white",placeholder:"Enter your password",whileFocus:{scale:1.02},"aria-label":"Password"}),d.jsx(ee.button,{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-emerald-500 hover:text-emerald-600 transition-colors duration-200",onClick:()=>i(!n),whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":n?"Hide password":"Show password",children:d.jsx(or,{mode:"wait",children:n?d.jsx(ee.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(dx,{className:"h-5 w-5"})},"eyeslash"):d.jsx(ee.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(hx,{className:"h-5 w-5"})},"eye")})})]})]})]}),d.jsxs(ee.div,{className:"flex items-center justify-between",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.8},children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded transition-colors duration-200"}),d.jsx("label",{htmlFor:"remember-me",className:"ml-3 block text-sm text-gray-700",children:"Keep me signed in"})]}),d.jsx("div",{className:"text-sm",children:d.jsx("button",{type:"button",className:"font-medium text-emerald-600 hover:text-emerald-500 transition-colors duration-200 bg-transparent border-none cursor-pointer",onClick:()=>{},children:"Forgot password?"})})]}),d.jsx(ee.div,{className:"space-y-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.9},children:d.jsx(ee.button,{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-xl text-white bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition-all duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",whileHover:{scale:s?1:1.02,y:s?0:-2},whileTap:{scale:s?1:.98},children:d.jsx(or,{mode:"wait",children:s?d.jsxs(ee.div,{className:"flex items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[d.jsx(Cc,{size:"sm",color:"white"}),d.jsx("span",{className:"ml-2",children:"Signing in..."})]},"loading"):d.jsxs(ee.span,{className:"flex items-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[d.jsx(ee.svg,{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:{x:2},children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013 3v1"})}),"Sign In to CareSync"]},"signin")})})})]})]})]})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vH=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),EE=t=>{const e=vH(t);return e.charAt(0).toUpperCase()+e.slice(1)},N4=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),bH=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...u},f)=>k.createElement("svg",{ref:f,...wH,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:N4("lucide",s),...!o&&!bH(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,p])=>k.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=(t,e)=>{const n=k.forwardRef(({className:i,...s},o)=>k.createElement(_H,{ref:o,iconNode:e,className:N4(`lucide-${xH(EE(t))}`,`lucide-${t}`,i),...s}));return n.displayName=EE(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],SH=Aa("award",TH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],kH=Aa("building",EH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],NH=Aa("graduation-cap",AH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jH=Aa("mail",CH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],DH=Aa("map-pin",RH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],IH=Aa("phone",MH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$f=Aa("shield",OH);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wy=Aa("user",PH),VH=()=>{const{register:t,loginWithGoogle:e}=Qn(),n=tv(),[i,s]=k.useState(!1),[o,l]=k.useState(!1),[u,f]=k.useState(!1),[m,p]=k.useState(""),[v,b]=k.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"patient",phone:"",specialization:"",licenseNumber:"",experience:"",pharmacyName:"",pharmacyAddress:""}),[_,A]=k.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),C=E=>{A({length:E.length>=8,uppercase:/[A-Z]/.test(E),lowercase:/[a-z]/.test(E),number:/[0-9]/.test(E),special:/[^A-Za-z0-9]/.test(E)})},j=E=>{b({...v,[E.target.name]:E.target.value}),m&&p(""),E.target.name==="password"&&C(E.target.value)},P=async E=>{if(E.preventDefault(),v.password!==v.confirmPassword){const D="Passwords do not match!";p(D),ps.error(D,{duration:4e3,icon:""});return}if(v.phone.replace(/\D/g,"").length!==10){const D="Phone number must be exactly 10 digits.";p(D),ps.error(D,{duration:4e3,icon:""});return}if(!Object.values(_).every(Boolean)){const D="Please meet all password requirements.";p(D),ps.error(D,{duration:4e3,icon:""});return}f(!0),p("");try{const D=await t(v);D.success&&(ps.success(`Welcome to CareSync, ${v.firstName}! Your account has been created successfully. Redirecting to your dashboard...`,{duration:4e3,icon:""}),setTimeout(()=>{n(`/${D.user.role}`)},2e3))}catch(D){const I=D.message||"Registration failed. Please try again.";p(I),ps.error(I,{duration:4e3,icon:""})}finally{f(!1)}},U=async()=>{try{f(!0);const E=await e();E.success&&(ps.success("Google sign-up successful! Redirecting to dashboard...",{duration:3e3,icon:""}),n(`/${E.user.role}`))}catch(E){const N="Google sign-in failed: "+E.message;ps.error(N,{duration:4e3,icon:""})}finally{f(!1)}},z={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94],staggerChildren:.08}}},K={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:[.25,.46,.45,.94]}}},Q={animate:{y:[0,-15,0],x:[0,10,0],transition:{duration:6,repeat:1/0,ease:"easeInOut"}}},te={animate:{scale:[1,1.1,1],rotate:[0,180,360],transition:{duration:20,repeat:1/0,ease:"linear"}}},L=()=>{switch(v.role){case"doctor":return d.jsxs(ee.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.35,ease:"easeInOut"},className:"space-y-4",children:[d.jsxs(ee.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25},className:"relative",children:[d.jsx(NH,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"specialization",type:"text",required:!0,value:v.specialization,onChange:j,placeholder:"Specialization",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]}),d.jsxs(ee.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25,delay:.03},className:"relative",children:[d.jsx($f,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"licenseNumber",type:"text",required:!0,value:v.licenseNumber,onChange:j,placeholder:"Medical License Number",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]}),d.jsxs(ee.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25,delay:.06},className:"relative",children:[d.jsx(SH,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"experience",type:"number",value:v.experience,onChange:j,placeholder:"Years of Experience",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]})]},"doctor-fields");case"pharmacist":return d.jsxs(ee.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.35,ease:"easeInOut"},className:"space-y-4",children:[d.jsxs(ee.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25},className:"relative",children:[d.jsx($f,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"licenseNumber",type:"text",required:!0,value:v.licenseNumber,onChange:j,placeholder:"Pharmacy License Number",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]}),d.jsxs(ee.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25,delay:.03},className:"relative",children:[d.jsx(kH,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"pharmacyName",type:"text",required:!0,value:v.pharmacyName,onChange:j,placeholder:"Pharmacy Name",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]}),d.jsxs(ee.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.25,delay:.06},className:"relative",children:[d.jsx(DH,{className:"absolute left-3 top-4 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("textarea",{name:"pharmacyAddress",required:!0,value:v.pharmacyAddress,onChange:j,rows:3,placeholder:"Pharmacy Address",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 resize-none text-black"})]})]},"pharmacist-fields");default:return null}};return d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-purple-50 to-blue-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[d.jsx(ee.div,{variants:te,animate:"animate",className:"absolute -top-20 -right-20 w-40 h-40 bg-blue-200/20 dark:bg-blue-400/10 rounded-full blur-xl"}),d.jsx(ee.div,{variants:Q,animate:"animate",className:"absolute -bottom-20 -left-20 w-60 h-60 bg-purple-200/20 dark:bg-purple-400/10 rounded-full blur-xl"}),d.jsx(ee.div,{animate:{y:[0,-20,0],x:[0,15,0],scale:[1,1.05,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 right-1/4 w-32 h-32 bg-gradient-to-br from-blue-300/20 to-purple-300/20 dark:from-blue-400/10 dark:to-purple-400/10 rounded-full blur-lg"}),d.jsx(ee.div,{animate:{y:[0,25,0],x:[0,-10,0],rotate:[0,180,360]},transition:{duration:15,repeat:1/0,ease:"linear"},className:"absolute bottom-1/3 left-1/3 w-24 h-24 bg-gradient-to-br from-purple-300/20 to-blue-300/20 dark:from-purple-400/10 dark:to-blue-400/10 rounded-full blur-lg"}),d.jsx(ee.div,{className:"absolute top-6 left-6 z-20",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:d.jsxs(Tt,{to:"/",className:"flex items-center gap-2 px-4 py-2 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl shadow-lg border border-white/50 dark:border-gray-700/50 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:bg-white dark:hover:bg-gray-800 transition-all duration-300 group",children:[d.jsx(ee.div,{whileHover:{x:-3},transition:{type:"spring",stiffness:400},children:d.jsx(Jd,{className:"w-5 h-5"})}),d.jsx("span",{className:"font-medium text-sm",children:"Home"})]})}),d.jsxs(ee.div,{variants:z,initial:"hidden",animate:"visible",className:"max-w-lg w-full space-y-6 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm px-8 py-10 rounded-2xl shadow-2xl shadow-blue-200/20 dark:shadow-gray-900/50 border border-blue-100/50 dark:border-gray-700/50 relative z-10",whileHover:{y:-5},transition:{type:"spring",stiffness:300},children:[d.jsxs(ee.div,{variants:K,className:"text-center space-y-3",children:[d.jsx(ee.div,{whileHover:{rotate:360,scale:1.05},transition:{duration:.6},className:"inline-block",children:d.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-blue-600 to-purple-700 bg-clip-text text-transparent",children:"CareSync"})}),d.jsx(ee.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Create your account"}),d.jsx(ee.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:.5,duration:.6},className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-purple-600 mx-auto rounded-full"}),d.jsxs(ee.p,{variants:K,className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",d.jsx(Tt,{to:"/login",className:"font-semibold text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 hover:underline transition-all duration-200",children:"Sign in here"})]})]}),d.jsxs(ee.form,{variants:z,className:"mt-6 space-y-5",onSubmit:P,children:[d.jsx(or,{children:m&&d.jsx(ee.div,{initial:{opacity:0,scale:.95,height:0},animate:{opacity:1,scale:1,height:"auto"},exit:{opacity:0,scale:.95,height:0},transition:{duration:.3},className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-400 text-red-700 dark:text-red-300 p-4 rounded-xl shadow-sm overflow-hidden",children:d.jsxs("div",{className:"flex items-start",children:[d.jsx(ee.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center mr-3 mt-0.5 flex-shrink-0",children:d.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm",children:"Registration Error"}),d.jsx("p",{className:"text-sm",children:m})]})]})})}),d.jsxs(ee.div,{variants:K,className:"relative",children:[d.jsx(wy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5 z-10"}),d.jsxs(ee.select,{id:"role",name:"role",value:v.role,onChange:j,className:"w-full pl-12 pr-10 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 bg-white appearance-none cursor-pointer text-black",whileFocus:{scale:1.02},children:[d.jsx("option",{value:"patient",children:"Patient"}),d.jsx("option",{value:"doctor",children:"Doctor"}),d.jsx("option",{value:"pharmacist",children:"Pharmacist"})]}),d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:d.jsx(ee.svg,{animate:{rotate:v.role!=="patient"?180:0},className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),d.jsxs(ee.div,{variants:K,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs(ee.div,{className:"relative",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[d.jsx(wy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"firstName",type:"text",required:!0,value:v.firstName,onChange:j,placeholder:"First Name",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]}),d.jsxs(ee.div,{className:"relative",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[d.jsx(wy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx("input",{name:"lastName",type:"text",required:!0,value:v.lastName,onChange:j,placeholder:"Last Name",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black"})]})]}),d.jsxs(ee.div,{variants:K,className:"relative",children:[d.jsx(jH,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx(ee.input,{name:"email",type:"email",required:!0,value:v.email,onChange:j,placeholder:"Email Address",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black",whileFocus:{scale:1.02}})]}),d.jsxs(ee.div,{variants:K,className:"relative",children:[d.jsx(IH,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx(ee.input,{name:"phone",type:"tel",required:!0,value:v.phone,onChange:j,placeholder:"Phone Number",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black",whileFocus:{scale:1.02}})]}),d.jsx(or,{mode:"wait",initial:!1,children:L()}),d.jsxs(ee.div,{variants:K,className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx($f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx(ee.input,{id:"password",name:"password",type:i?"text":"password",required:!0,value:v.password,onChange:j,placeholder:"Password",className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black",whileFocus:{scale:1.02}}),d.jsx(ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!i),children:d.jsx(or,{mode:"wait",children:i?d.jsx(ee.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(dx,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"})},"eyeslash"):d.jsx(ee.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(hx,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"})},"eye")})})]}),v.password.length>0&&d.jsxs(ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl border border-gray-200 dark:border-gray-600 space-y-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password Requirements:"}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:`flex items-center gap-2 text-sm ${_.length?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_.length?"":""," At least 8 characters long"]}),d.jsxs("p",{className:`flex items-center gap-2 text-sm ${_.uppercase?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_.uppercase?"":""," Contains at least one uppercase letter"]}),d.jsxs("p",{className:`flex items-center gap-2 text-sm ${_.lowercase?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_.lowercase?"":""," Contains at least one lowercase letter"]}),d.jsxs("p",{className:`flex items-center gap-2 text-sm ${_.number?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_.number?"":""," Contains at least one number"]}),d.jsxs("p",{className:`flex items-center gap-2 text-sm ${_.special?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[_.special?"":""," Contains at least one special character"]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx($f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),d.jsx(ee.input,{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,value:v.confirmPassword,onChange:j,placeholder:"Confirm Password",className:"w-full pl-12 pr-12 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200/30 transition-all duration-300 placeholder-gray-400 text-black",whileFocus:{scale:1.02}}),d.jsx(ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!o),children:d.jsx(or,{mode:"wait",children:o?d.jsx(ee.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(dx,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"})},"eyeslash2"):d.jsx(ee.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.2},children:d.jsx(hx,{className:"h-5 w-5 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors"})},"eye2")})})]})]}),d.jsxs(ee.div,{variants:K,className:"flex items-start text-sm space-x-3 py-2",children:[d.jsx(ee.input,{id:"agree-terms",name:"agree-terms",type:"checkbox",required:!0,className:"mt-0.5 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded transition-colors bg-white dark:bg-gray-800",whileHover:{scale:1.1},whileTap:{scale:.9}}),d.jsxs("label",{htmlFor:"agree-terms",className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:["I agree to the"," ",d.jsx(ee.a,{href:"#",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 font-medium hover:underline transition-all duration-200",whileHover:{scale:1.05},children:"Terms of Service"})," ","and"," ",d.jsx(ee.a,{href:"#",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 font-medium hover:underline transition-all duration-200",whileHover:{scale:1.05},children:"Privacy Policy"})]})]}),d.jsx(ee.button,{variants:K,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},type:"submit",disabled:u||!Object.values(_).every(Boolean),className:"w-full bg-gradient-to-r from-blue-600 to-purple-700 hover:from-blue-700 hover:to-purple-800 text-white py-3 px-6 rounded-xl text-lg font-bold shadow-lg shadow-blue-500/25 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:d.jsx(or,{mode:"wait",children:u?d.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center space-x-2",children:[d.jsx(Cc,{size:"sm",color:"white"}),d.jsx("span",{children:"Creating Account..."})]}):d.jsxs(ee.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center space-x-2",children:[d.jsx(ee.svg,{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:{x:2},children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),d.jsx("span",{children:"Create Account"})]})})}),d.jsxs(ee.div,{variants:K,className:"relative flex items-center my-6",children:[d.jsx(ee.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:2.5,duration:.5},className:"flex-1 border-t border-gray-200 dark:border-gray-600"}),d.jsx(ee.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:2.6},className:"px-4 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Or continue with"}),d.jsx(ee.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{delay:2.5,duration:.5},className:"flex-1 border-t border-gray-200 dark:border-gray-600"})]}),d.jsxs(ee.button,{variants:K,whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},type:"button",onClick:U,className:"w-full inline-flex justify-center items-center py-3 px-4 border-2 border-gray-200 dark:border-gray-600 rounded-xl shadow-sm bg-white dark:bg-gray-800 text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-500 hover:shadow-md transition-all duration-300",children:[d.jsx(ee.img,{src:"https://www.svgrepo.com/show/355037/google.svg",alt:"Google",className:"h-5 w-5 mr-3",whileHover:{rotate:360},transition:{duration:.6}}),d.jsx("span",{children:"Sign up with Google"})]})]})]})]})},C4=k.createContext(),ch=()=>k.useContext(C4),LH=({children:t})=>{const[e,n]=k.useState(()=>{try{const u=localStorage.getItem("appointments");return u?JSON.parse(u):BT}catch(u){return console.error("Error parsing appointments from localStorage",u),BT}});k.useEffect(()=>{try{localStorage.setItem("appointments",JSON.stringify(e))}catch(u){console.error("Error saving appointments to localStorage",u)}},[e]);const i=u=>{const f={...u,id:`apt${Date.now()}`,status:"Pending"};n(m=>[...m,f])},s=(u,f)=>{n(m=>m.map(p=>p.id===u?{...p,status:f}:p))},l={appointments:e,doctors:Ed,bookAppointment:i,updateAppointmentStatus:s,cancelAppointment:u=>{s(u,"Cancelled")}};return d.jsx(C4.Provider,{value:l,children:t})},UH=[{id:"RX001",doctor:"Dr. Sarah Johnson",date:"2024-01-15",status:"active",medicines:[{name:"Metformin",dosage:"500mg",frequency:"Twice daily",duration:"30 days"},{name:"Lisinopril",dosage:"10mg",frequency:"Once daily",duration:"30 days"}],instructions:"Take with meals. Monitor blood sugar levels regularly.",nextRefill:"2024-02-14"},{id:"RX002",doctor:"Dr. Michael Brown",date:"2024-01-10",status:"completed",medicines:[{name:"Amoxicillin",dosage:"500mg",frequency:"Three times daily",duration:"7 days"}],instructions:"Complete the full course even if symptoms improve.",nextRefill:null},{id:"RX003",doctor:"Dr. Sarah Johnson",date:"2024-01-05",status:"expired",medicines:[{name:"Vitamin D3",dosage:"1000 IU",frequency:"Once daily",duration:"90 days"}],instructions:"Take with fat-containing meal for better absorption.",nextRefill:"2024-04-05"}],kE={active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",expired:"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300"};function j4(){const[t,e]=k.useState(null);return d.jsxs("div",{className:"p-2 sm:p-6",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900 dark:text-gray-100",children:"Prescriptions"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:UH.map(n=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-4 flex flex-col justify-between h-full border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:n.id}),d.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${kE[n.status]}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Doctor:"})," ",n.doctor]}),d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Date:"})," ",n.date]}),d.jsxs("div",{className:"text-sm mb-1 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Medicines:"}),d.jsx("ul",{className:"list-disc pl-5",children:n.medicines.map((i,s)=>d.jsxs("li",{children:[i.name," (",i.dosage,")"]},s))})]}),d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:[d.jsx("span",{className:"font-semibold",children:"Next Refill:"})," ",n.nextRefill||d.jsx("span",{className:"text-gray-400 dark:text-gray-500 italic",children:"-"})]})]}),d.jsx("button",{className:"mt-3 px-4 py-2 bg-primary-600 text-white font-semibold rounded shadow hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-400 transition dark:bg-primary-500 dark:hover:bg-primary-600",onClick:()=>e(n),children:"View Details"})]},n.id))}),t&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full sm:w-auto sm:min-w-[340px] max-w-lg m-2 sm:m-0 rounded-lg shadow-lg p-4 sm:p-6 relative border border-gray-200 dark:border-gray-700",children:[d.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100 text-2xl",onClick:()=>e(null),"aria-label":"Close prescription details",children:""}),d.jsxs("h3",{className:"text-lg font-bold mb-2 text-gray-900 dark:text-gray-100",children:["Prescription ID: ",t.id]}),d.jsxs("p",{className:"mb-1 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Doctor:"})," ",t.doctor]}),d.jsxs("p",{className:"mb-1 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Date:"})," ",t.date]}),d.jsxs("p",{className:"mb-1 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Status:"}),d.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-semibold ${kE[t.status]}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),d.jsxs("div",{className:"mt-2 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Medicines:"}),d.jsx("ul",{className:"list-disc pl-5",children:t.medicines.map((n,i)=>d.jsxs("li",{children:[n.name,"  ",n.dosage,", ",n.frequency," (",n.duration,")"]},i))})]}),d.jsxs("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Instructions:"})," ",t.instructions]}),d.jsxs("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:[d.jsx("span",{className:"font-semibold",children:"Next Refill:"})," ",t.nextRefill||d.jsx("span",{className:"text-gray-400 dark:text-gray-500 italic",children:"-"})]}),d.jsx("button",{className:"mt-4 w-full py-2 rounded bg-blue-600 text-white font-semibold hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 transition-colors",onClick:()=>e(null),children:"Close"})]})})]})}const R4=()=>{const{user:t}=Qn(),{appointments:e,doctors:n,bookAppointment:i}=ch(),[s,o]=k.useState(""),[l,u]=k.useState(""),[f,m]=k.useState(""),[p,v]=k.useState(t?.name||""),[b,_]=k.useState(""),[A,C]=k.useState(!1),[j,P]=k.useState(!1),U=k.useRef(null),z=k.useRef(null);k.useEffect(()=>{const O=V=>{U.current&&!U.current.contains(V.target)&&C(!1),z.current&&!z.current.contains(V.target)&&P(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),k.useEffect(()=>{m("")},[l,s]);const K=k.useMemo(()=>{const O=new Date;return e.filter(V=>V.patientId===t.id).map(V=>({...V,doctor:gV(V.doctorId),isUpcoming:new Date(`${V.date}T${V.time.replace(" ","")}`)>=O&&V.status!=="Cancelled"&&V.status!=="Rejected"})).sort((V,X)=>new Date(X.date)-new Date(V.date))},[e,t.id]),Q=O=>{O.preventDefault(),s&&l&&f&&p&&(i({patientId:t.id,doctorId:s,date:l,time:f,patientName:p,notes:b}),o(""),u(""),m(""),v(t?.name||""),_(""))},te=O=>{switch(O.toLowerCase()){case"confirmed":return"bg-green-500 text-white";case"pending":return"bg-yellow-500 text-white";case"cancelled":case"rejected":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},L=O=>{const V={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(O).toLocaleDateString("en-US",V)},E=({apt:O})=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-shadow duration-300",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:`h-1 ${te(O.status).split(" ")[0]}`}),d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${te(O.status)}`,children:O.status})})]}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mr-4",children:d.jsx(Vf,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:["Dr. ",O.doctor?.name||"N/A"]}),d.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:O.doctor?.specialization||"Specialization not available"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[d.jsx(Jp,{className:"w-5 h-5 mr-3 text-gray-400"}),d.jsx("span",{className:"font-medium",children:L(O.date)})]}),d.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[d.jsx(pr,{className:"w-5 h-5 mr-3 text-gray-400"}),d.jsx("span",{className:"font-medium",children:O.time})]}),O.patientName&&d.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[d.jsx(Vf,{className:"w-5 h-5 mr-3 text-gray-400"}),d.jsx("span",{className:"font-medium",children:O.patientName})]}),O.notes&&d.jsxs("div",{className:"flex items-start text-gray-600 dark:text-gray-300",children:[d.jsx(Ad,{className:"w-5 h-5 mr-3 text-gray-400 mt-0.5"}),d.jsx("span",{className:"text-sm",children:O.notes})]})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:d.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${O.isUpcoming?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:O.isUpcoming?"Upcoming":"Past"})})]})]}),N=({value:O,onChange:V,options:X,placeholder:se,isOpen:F,setIsOpen:$,ref:le,disabled:fe=!1,icon:ue})=>{const ve=X?.find(he=>he.value===O),xe=ve?ve.label:O;return d.jsxs("div",{className:"relative",ref:le,children:[d.jsxs("button",{type:"button",onClick:()=>!fe&&$(!F),disabled:fe,className:`w-full p-4 text-left border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-colors ${fe?"bg-gray-100 dark:bg-gray-700 cursor-not-allowed":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"} ${O?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400"}`,children:[d.jsxs("div",{className:"flex items-center",children:[ue&&d.jsx(ue,{className:"w-5 h-5 mr-3 text-gray-400"}),d.jsx("span",{className:"block truncate",children:xe||se})]}),d.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:d.jsx(BV,{className:`h-5 w-5 text-gray-400 dark:text-gray-500 transition-transform ${F?"rotate-180":""}`})})]}),F&&d.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:X&&X.length>0?X.map(he=>d.jsx("button",{type:"button",onClick:()=>{V(he.value),$(!1)},className:"w-full px-4 py-3 text-left text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 focus:bg-gray-100 dark:focus:bg-gray-700 focus:outline-none transition-colors",children:he.label},he.value)):d.jsx("div",{className:"px-4 py-3 text-gray-500 dark:text-gray-400 text-center",children:"No options available"})})]})},D=n?n.map(O=>({value:O.id,label:`${O.name} - ${O.specialization}`})):[],I=k.useMemo(()=>{if(!s||!l)return[];const O=n.find(F=>F.id===s);if(!O?.availability)return[];const V=new Date,X=V.toISOString().split("T")[0],se=l===X;return O.availability.filter(F=>{if(!se)return!0;let $,le;if(F.includes("AM")||F.includes("PM")){[$,le]=F.replace(/\s*(AM|PM)/i,"").split(":").map(Number);const ke=F.toUpperCase().includes("PM");ke&&$!==12?$+=12:!ke&&$===12&&($=0)}else[$,le]=F.split(":").map(Number);const fe=V.getHours(),ue=V.getMinutes(),ve=fe*60+ue;return $*60+(le||0)>ve}).map(F=>({value:F,label:F}))},[s,l,n]);return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsx("div",{className:"text-center mb-12",children:d.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4",children:"Your Appointments"})}),d.jsx("div",{className:"mb-12",children:K.length>0?d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:K.map(O=>d.jsx(E,{apt:O},O.id))}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Jp,{className:"w-12 h-12 text-gray-400"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"You have no scheduled appointments"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Schedule your first medical appointment using the form below"})]})}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-8 py-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-white text-center",children:"Book a New Appointment"}),d.jsx("p",{className:"text-blue-100 text-center mt-2",children:"Complete the form to schedule your medical appointment"})]}),d.jsx("div",{className:"p-8",children:d.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"patientName",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Patient Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Vf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{id:"patientName",type:"text",value:p,onChange:O=>v(O.target.value),placeholder:"Enter your full name",className:"w-full pl-10 pr-4 py-4 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Select Doctor"}),d.jsx(N,{value:s,onChange:o,options:D,placeholder:"Choose a doctor and specialization",isOpen:A,setIsOpen:C,ref:U,icon:Vf})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"appointmentDate",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Appointment Date"}),d.jsxs("div",{className:"relative",children:[d.jsx(Jp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{id:"appointmentDate",type:"date",value:l,onChange:O=>u(O.target.value),onClick:O=>O.target.showPicker?.(),min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-4 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100 cursor-pointer",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Appointment Time"}),d.jsx(N,{value:f,onChange:m,options:I,placeholder:s?l?I.length===0?"No available slots for today":"Select an available time":"Select a date first":"Select a doctor first",isOpen:j,setIsOpen:P,ref:z,disabled:!s||!l,icon:pr})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"notes",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Additional Notes"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ad,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),d.jsx("textarea",{id:"notes",value:b,onChange:O=>_(O.target.value),placeholder:"Briefly describe the reason for your consultation or any additional information...",rows:"4",className:"w-full pl-10 pr-4 py-4 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 resize-none"})]})]}),d.jsx("button",{type:"submit",disabled:!s||!l||!f||!p,className:"w-full py-4 px-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none enabled:hover:scale-[1.02] enabled:active:scale-[0.98]",children:"Schedule Appointment"})]})})]})]})})},BH=[{id:1,date:"2024-07-10",type:"Blood Pressure",value:"120/78",unit:"mmHg",status:"normal"},{id:2,date:"2024-07-09",type:"Heart Rate",value:"88",unit:"bpm",status:"elevated"},{id:3,date:"2024-07-08",type:"Temperature",value:"99.1",unit:"F",status:"normal"},{id:4,date:"2024-07-06",type:"Weight",value:"70.5",unit:"kg",status:"normal"},{id:5,date:"2024-07-05",type:"Blood Sugar",value:"115",unit:"mg/dL",status:"elevated"}],FH=[{id:101,date:"2024-07-09",symptom:"Headache",severity:"mild",notes:"After long meeting"},{id:102,date:"2024-07-05",symptom:"Fatigue",severity:"moderate",notes:"Tired in morning"}];let zH=200;const AE=()=>++zH,oo=t=>{if(!t)return null;const e=new Date(t);return Number.isNaN(e.getTime())?null:e.toISOString().slice(0,10)},HH=t=>{if(!t||typeof t!="string")return null;const e=t.split("/").map(n=>Number(n.trim()));return e.length===2&&!Number.isNaN(e[0])&&!Number.isNaN(e[1])?{sys:e[0],dia:e[1]}:null},qH=({type:t,value:e})=>{if(!t||e==null)return"normal";const n=t.toLowerCase();if(n.includes("blood pressure")){const i=HH(String(e));return i?i.sys>=140||i.dia>=90?"high":i.sys<=90||i.dia<=60?"low":"normal":"unknown"}if(n.includes("heart")){const i=Number(String(e).replace(/[^0-9.]/g,""));return Number.isNaN(i)?"unknown":i>100?"high":i<50?"low":"normal"}if(n.includes("temperature")||n.includes("temp")){const i=Number(String(e).replace(/[^0-9.]/g,""));return Number.isNaN(i)?"unknown":i>=100.4?"high":"normal"}if(n.includes("blood sugar")||n.includes("glucose")){const i=Number(String(e).replace(/[^0-9.]/g,""));return Number.isNaN(i)?"unknown":i>=126?"high":i<70?"low":"normal"}return"normal"},$H=t=>t.map(e=>e.map(n=>{const i=String(n??"");return i.includes(",")||i.includes('"')||i.includes(`
`)?`"${i.replace(/"/g,'""')}"`:i}).join(",")).join(`
`),D4=()=>{const[t,e]=k.useState("vitals"),[n,i]=k.useState(BH),[s,o]=k.useState(FH),[l,u]=k.useState(!1),[f,m]=k.useState(null),[p,v]=k.useState({kind:"vital",date:oo(new Date),type:"Heart Rate",value:"",unit:"",status:"",symptom:"",severity:"mild",notes:""}),[b,_]=k.useState("all"),[A,C]=k.useState(""),[j,P]=k.useState(""),[U,z]=k.useState(""),K=k.useMemo(()=>{const X=oo(A),se=oo(j);return n.filter(F=>{if(b!=="all"&&F.type!==b||X&&F.date<X||se&&F.date>se)return!1;if(U){const $=U.toLowerCase();if(!(F.type.toLowerCase().includes($)||String(F.value).toLowerCase().includes($)||(F.unit||"").toLowerCase().includes($)))return!1}return!0}).sort((F,$)=>$.date.localeCompare(F.date))},[n,b,A,j,U]),Q=k.useMemo(()=>{const X=oo(A),se=oo(j);return s.filter(F=>{if(X&&F.date<X||se&&F.date>se)return!1;if(U){const $=U.toLowerCase();if(!(F.symptom.toLowerCase().includes($)||(F.notes||"").toLowerCase().includes($)))return!1}return!0}).sort((F,$)=>$.date.localeCompare(F.date))},[s,A,j,U]),te=k.useMemo(()=>{const X=[...n,...s],se=X.length,F=n.filter(ue=>ue.status&&ue.status!=="normal").length,$=X.length?X.reduce((ue,ve)=>ue.date>ve.date?ue:ve).date:"--",le=n.reduce((ue,ve)=>(ue[ve.type]=(ue[ve.type]||0)+1,ue),{}),fe=Object.keys(le).length?Object.entries(le).sort((ue,ve)=>ve[1]-ue[1])[0][0]:"--";return{total:se,abnormal:F,lastLog:$,mostCommonType:fe,typeCounts:le}},[n,s]),L=(X="vital")=>{m(null),v({kind:X,date:oo(new Date),type:X==="vital"?"Heart Rate":"",value:"",unit:X==="vital"?"bpm":"",status:"",symptom:"",severity:"mild",notes:""}),u(!0)},E=(X,se)=>{m({kind:X,id:se.id}),v({kind:X,date:oo(se.date),type:X==="vital"?se.type:"",value:X==="vital"?String(se.value):"",unit:X==="vital"&&se.unit||"",status:X==="vital"&&se.status||"",symptom:X==="symptom"?se.symptom:"",severity:X==="symptom"?se.severity:"mild",notes:X==="symptom"&&se.notes||""}),u(!0)},N=()=>{u(!1),m(null)},D=()=>{if(p.kind==="vital"){if(!p.type||!p.date||!p.value){alert("Please provide date, type and value for the vital sign.");return}const X=qH({type:p.type,value:p.value}),se=p.status&&p.status!=="auto"?p.status:X;if(f)i(F=>F.map($=>$.id===f.id?{...$,date:p.date,type:p.type,value:p.value,unit:p.unit,status:se}:$));else{const F={id:AE(),date:p.date,type:p.type,value:p.value,unit:p.unit,status:se};i($=>[F,...$])}}else{if(!p.symptom||!p.date){alert("Please provide symptom and date.");return}if(f)o(X=>X.map(se=>se.id===f.id?{...se,date:p.date,symptom:p.symptom,severity:p.severity,notes:p.notes}:se));else{const X={id:AE(),date:p.date,symptom:p.symptom,severity:p.severity,notes:p.notes};o(se=>[X,...se])}}N()},I=(X,se)=>{window.confirm("Delete this entry? This cannot be undone.")&&(X==="vital"?i(F=>F.filter($=>$.id!==se)):o(F=>F.filter($=>$.id!==se)))},O=()=>{const X=[["Date","Type","Value","Unit","Status"],...n.map(le=>[le.date,le.type,le.value,le.unit,le.status])],se=$H(X),F=new Blob([se],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a");$.href=URL.createObjectURL(F),$.setAttribute("download",`vitals_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild($),$.click(),$.remove()},V=k.useMemo(()=>{const X=new Set(n.map(se=>se.type));return["all",...Array.from(X)]},[n]);return k.useEffect(()=>{_("all"),C(""),P(""),z("")},[t]),d.jsxs("div",{className:"space-y-6 px-4 md:px-0",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Health Logs"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:()=>L(t==="vitals"?"vital":"symptom"),className:"btn-primary flex items-center space-x-2",children:[d.jsx(E9,{className:"h-5 w-5"}),d.jsx("span",{children:"Add Entry"})]}),t==="vitals"&&d.jsxs("button",{onClick:O,className:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[d.jsx(bV,{className:"h-5 w-5"}),"Export CSV"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Logs"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:te.total})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Abnormal Vitals"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:te.abnormal})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Last Log Date"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:te.lastLog||"--"})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Top Vital Type"}),d.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:te.mostCommonType||"--"})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("h4",{className:"font-medium mb-3 text-gray-900 dark:text-gray-100",children:"Log Type Breakdown"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(te.typeCounts).length?Object.entries(te.typeCounts).map(([X,se])=>d.jsxs("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 text-sm",children:[d.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:X}),d.jsxs("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:["(",se,")"]})]},X)):d.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No vitals recorded yet."})})]}),d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:d.jsxs("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:[d.jsx("button",{onClick:()=>e("vitals"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t==="vitals"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"Vital Signs"}),d.jsx("button",{onClick:()=>e("symptoms"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${t==="symptoms"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:"Symptoms"})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 md:gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(d9,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),t==="vitals"?d.jsx("select",{value:b,onChange:X=>_(X.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:V.map(X=>d.jsx("option",{value:X,children:X},X))}):d.jsxs("select",{value:b,onChange:X=>_(X.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"all",children:"All"}),d.jsx("option",{value:"mild",children:"Mild"}),d.jsx("option",{value:"moderate",children:"Moderate"}),d.jsx("option",{value:"severe",children:"Severe"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"From"}),d.jsx("input",{type:"date",value:A,onChange:X=>C(X.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-2 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),d.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"To"}),d.jsx("input",{type:"date",value:j,onChange:X=>P(X.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-2 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),d.jsx("div",{className:"flex items-center ml-auto",children:d.jsx("input",{type:"search",placeholder:"Search...",value:U,onChange:X=>z(X.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm w-full md:w-64 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[t==="vitals"&&d.jsxs("div",{className:"p-6 space-y-4",children:[K.length===0&&d.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No vitals match your filters."}),K.map(X=>d.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${X.status==="high"?"bg-red-50 dark:bg-red-900/20":X.status==="low"?"bg-yellow-50 dark:bg-yellow-900/20":"bg-gray-50 dark:bg-gray-700"}`,children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:X.type}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:X.date})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[X.value," ",X.unit]}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${X.status==="normal"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":X.status==="high"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":X.status==="low"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:X.status||"unknown"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>E("vital",X),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:d.jsx(qT,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),d.jsx("button",{onClick:()=>I("vital",X.id),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:d.jsx(GT,{className:"h-5 w-5 text-red-500 dark:text-red-400"})})]})]})]},X.id))]}),t==="symptoms"&&d.jsxs("div",{className:"p-6 space-y-4",children:[Q.length===0&&d.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No symptoms match your filters."}),Q.map(X=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:X.symptom}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:X.date}),X.notes&&d.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:X.notes})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${X.severity==="mild"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":X.severity==="moderate"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}`,children:X.severity}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>E("symptom",X),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:d.jsx(qT,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),d.jsx("button",{onClick:()=>I("symptom",X.id),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors",children:d.jsx(GT,{className:"h-5 w-5 text-red-500 dark:text-red-400"})})]})]})]},X.id))]})]}),l&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-30 dark:bg-opacity-50 z-50",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-lg shadow-xl",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:f?"Edit Entry":"Add Entry"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date"}),d.jsx("input",{type:"date",value:p.date,onChange:X=>v(se=>({...se,date:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),p.kind==="vital"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),d.jsx("input",{type:"text",value:p.type,onChange:X=>v(se=>({...se,type:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Value"}),d.jsx("input",{type:"text",value:p.value,onChange:X=>v(se=>({...se,value:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Unit"}),d.jsx("input",{type:"text",value:p.unit,onChange:X=>v(se=>({...se,unit:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),d.jsxs("select",{value:p.status,onChange:X=>v(se=>({...se,status:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"auto",children:"Auto-detect"}),d.jsx("option",{value:"normal",children:"Normal"}),d.jsx("option",{value:"high",children:"High"}),d.jsx("option",{value:"low",children:"Low"}),d.jsx("option",{value:"unknown",children:"Unknown"})]})]})]}),p.kind==="symptom"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Symptom"}),d.jsx("input",{type:"text",value:p.symptom,onChange:X=>v(se=>({...se,symptom:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Severity"}),d.jsxs("select",{value:p.severity,onChange:X=>v(se=>({...se,severity:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"mild",children:"Mild"}),d.jsx("option",{value:"moderate",children:"Moderate"}),d.jsx("option",{value:"severe",children:"Severe"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),d.jsx("textarea",{value:p.notes,onChange:X=>v(se=>({...se,notes:X.target.value})),className:"border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 w-full bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",rows:"3"})]})]})]}),d.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[d.jsx("button",{onClick:N,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:D,className:"btn-primary",children:"Save"})]})]})})]})},M4=()=>{const[t,e]=k.useState([{id:1,medicine:"Vitamin D3",dosage:"1000 IU",time:"08:00 AM",taken:!1,frequency:"Daily"},{id:2,medicine:"Metformin",dosage:"500mg",time:"12:00 PM",taken:!0,frequency:"Twice daily"},{id:3,medicine:"Lisinopril",dosage:"10mg",time:"08:00 PM",taken:!1,frequency:"Daily"}]),n=i=>{e(t.map(s=>s.id===i?{...s,taken:!s.taken}:s))};return d.jsxs("div",{className:"bg-surface p-6 rounded-lg shadow-sm border border-subtle",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-default",children:"Medicine Reminders"}),d.jsx("button",{className:"text-primary hover:text-primary-700 text-sm font-medium",children:"View All"})]}),d.jsx("div",{className:"space-y-3",children:t.map(i=>d.jsx("div",{className:`p-4 rounded-lg border-2 transition-colors ${i.taken?"border-medical-200 bg-medical-50/80 dark:border-medical-800 dark:bg-medical-900/20":"border-subtle bg-surface hover:border-primary-200 dark:hover:border-primary-500"}`,children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h4",{className:`font-medium ${i.taken?"text-green-800 dark:text-green-300 line-through":"text-gray-900 dark:text-gray-100"}`,children:i.medicine}),d.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",i.dosage,")"]})]}),d.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-600 dark:text-gray-400",children:[d.jsx(pr,{className:"h-4 w-4 mr-1"}),d.jsxs("span",{children:[i.time,"  ",i.frequency]})]})]}),d.jsx("button",{onClick:()=>n(i.id),className:`p-2 rounded-full transition-colors ${i.taken?"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30":"text-gray-400 hover:text-green-600 hover:bg-green-50 dark:text-gray-500 dark:hover:text-green-400 dark:hover:bg-green-900/20"}`,children:d.jsx(Tg,{className:"h-5 w-5"})})]})},i.id))}),d.jsx("button",{className:"w-full mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 transition-colors",children:"Set New Reminder"})]})},GH=({activeTab:t})=>{const{user:e}=Qn(),{appointments:n}=ch(),s=n.filter(l=>l.patientId===e?.id).length,o=()=>{switch(t){case"prescriptions":return d.jsx(j4,{});case"appointments":return d.jsx(R4,{});case"health-logs":return d.jsx(D4,{});case"medicine-reminders":return d.jsx(M4,{});default:return d.jsx(WH,{user:e,apptCount:s})}};return d.jsx("div",{className:"p-6 bg-subtle min-h-full",children:o()})},WH=({user:t,apptCount:e})=>{const n=[{name:"Active Prescriptions",value:"3",icon:Ad,color:"text-blue-600 dark:text-blue-400"},{name:"Medicine Reminders",value:"5",icon:pr,color:"text-green-600 dark:text-green-400"},{name:"Health Logs",value:"12",icon:dr,color:"text-red-600 dark:text-red-400"},{name:"Appointments",value:String(e),icon:pr,color:"text-purple-600 dark:text-purple-400"}];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["Welcome back, ",t?.name,"!"]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Here's your health overview for today."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(i=>d.jsx("div",{className:"bg-surface p-6 rounded-lg shadow-sm border border-subtle hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`p-2 rounded-lg bg-gray-100 dark:bg-gray-700 ${i.color}`,children:d.jsx(i.icon,{className:"h-6 w-6"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:i.name}),d.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i.value})]})]})},i.name))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(M4,{}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Recent Health Logs"}),d.jsx("div",{className:"space-y-3",children:[{date:"Today",type:"Blood Pressure",value:"120/80 mmHg",status:"normal"},{date:"Yesterday",type:"Weight",value:"70 kg",status:"normal"},{date:"2 days ago",type:"Temperature",value:"98.6F",status:"normal"}].map((i,s)=>d.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:i.type}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.date})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:i.value}),d.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded-full",children:i.status})]})]},s))})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function uh(t){return t+.5|0}const ia=(t,e,n)=>Math.max(Math.min(t,n),e);function Yu(t){return ia(uh(t*2.55),0,255)}function ua(t){return ia(uh(t*255),0,255)}function rr(t){return ia(uh(t/2.55)/100,0,1)}function NE(t){return ia(uh(t*100),0,100)}const Ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Xx=[..."0123456789ABCDEF"],YH=t=>Xx[t&15],KH=t=>Xx[(t&240)>>4]+Xx[t&15],Gf=t=>(t&240)>>4===(t&15),XH=t=>Gf(t.r)&&Gf(t.g)&&Gf(t.b)&&Gf(t.a);function QH(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ti[t[1]]*17,g:255&Ti[t[2]]*17,b:255&Ti[t[3]]*17,a:e===5?Ti[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ti[t[1]]<<4|Ti[t[2]],g:Ti[t[3]]<<4|Ti[t[4]],b:Ti[t[5]]<<4|Ti[t[6]],a:e===9?Ti[t[7]]<<4|Ti[t[8]]:255})),n}const ZH=(t,e)=>t<255?e(t):"";function JH(t){var e=XH(t)?YH:KH;return t?"#"+e(t.r)+e(t.g)+e(t.b)+ZH(t.a,e):void 0}const eq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function I4(t,e,n){const i=e*Math.min(n,1-n),s=(o,l=(o+t/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function tq(t,e,n){const i=(s,o=(s+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function nq(t,e,n){const i=I4(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function iq(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Fb(t){const n=t.r/255,i=t.g/255,s=t.b/255,o=Math.max(n,i,s),l=Math.min(n,i,s),u=(o+l)/2;let f,m,p;return o!==l&&(p=o-l,m=u>.5?p/(2-o-l):p/(o+l),f=iq(n,i,s,p,o),f=f*60+.5),[f|0,m||0,u]}function zb(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(ua)}function Hb(t,e,n){return zb(I4,t,e,n)}function sq(t,e,n){return zb(nq,t,e,n)}function rq(t,e,n){return zb(tq,t,e,n)}function O4(t){return(t%360+360)%360}function aq(t){const e=eq.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Yu(+e[5]):ua(+e[5]));const s=O4(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=sq(s,o,l):e[1]==="hsv"?i=rq(s,o,l):i=Hb(s,o,l),{r:i[0],g:i[1],b:i[2],a:n}}function oq(t,e){var n=Fb(t);n[0]=O4(n[0]+e),n=Hb(n),t.r=n[0],t.g=n[1],t.b=n[2]}function lq(t){if(!t)return;const e=Fb(t),n=e[0],i=NE(e[1]),s=NE(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${rr(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const CE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function cq(){const t={},e=Object.keys(jE),n=Object.keys(CE);let i,s,o,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],s=0;s<n.length;s++)o=n[s],u=u.replace(o,CE[o]);o=parseInt(jE[l],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let Wf;function uq(t){Wf||(Wf=cq(),Wf.transparent=[0,0,0,0]);const e=Wf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const dq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hq(t){const e=dq.exec(t);let n=255,i,s,o;if(e){if(e[7]!==i){const l=+e[7];n=e[8]?Yu(l):ia(l*255,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?Yu(i):ia(i,0,255)),s=255&(e[4]?Yu(s):ia(s,0,255)),o=255&(e[6]?Yu(o):ia(o,0,255)),{r:i,g:s,b:o,a:n}}}function fq(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${rr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const _y=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Pl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function mq(t,e,n){const i=Pl(rr(t.r)),s=Pl(rr(t.g)),o=Pl(rr(t.b));return{r:ua(_y(i+n*(Pl(rr(e.r))-i))),g:ua(_y(s+n*(Pl(rr(e.g))-s))),b:ua(_y(o+n*(Pl(rr(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Yf(t,e,n){if(t){let i=Fb(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Hb(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function P4(t,e){return t&&Object.assign(e||{},t)}function RE(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ua(t[3]))):(e=P4(t,{r:0,g:0,b:0,a:1}),e.a=ua(e.a)),e}function gq(t){return t.charAt(0)==="r"?hq(t):aq(t)}class Ld{constructor(e){if(e instanceof Ld)return e;const n=typeof e;let i;n==="object"?i=RE(e):n==="string"&&(i=QH(e)||uq(e)||gq(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=P4(this._rgb);return e&&(e.a=rr(e.a)),e}set rgb(e){this._rgb=RE(e)}rgbString(){return this._valid?fq(this._rgb):void 0}hexString(){return this._valid?JH(this._rgb):void 0}hslString(){return this._valid?lq(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let o;const l=n===o?.5:n,u=2*l-1,f=i.a-s.a,m=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-m,i.r=255&m*i.r+o*s.r+.5,i.g=255&m*i.g+o*s.g+.5,i.b=255&m*i.b+o*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=mq(this._rgb,e._rgb,n)),this}clone(){return new Ld(this.rgb)}alpha(e){return this._rgb.a=ua(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=uh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Yf(this._rgb,2,e),this}darken(e){return Yf(this._rgb,2,-e),this}saturate(e){return Yf(this._rgb,1,e),this}desaturate(e){return Yf(this._rgb,1,-e),this}rotate(e){return oq(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function nr(){}const pq=(()=>{let t=0;return()=>t++})();function ht(t){return t==null}function Jt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ke(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ji(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function hs(t,e){return ji(t)?t:e}function Je(t,e){return typeof t>"u"?e:t}const yq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function gt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function st(t,e,n,i){let s,o,l;if(Jt(t))for(o=t.length,s=0;s<o;s++)e.call(n,t[s],s);else if(Ke(t))for(l=Object.keys(t),o=l.length,s=0;s<o;s++)e.call(n,t[l[s]],l[s])}function Jm(t,e){let n,i,s,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],o=e[n],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function eg(t){if(Jt(t))return t.map(eg);if(Ke(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=eg(t[n[s]]);return e}return t}function V4(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function xq(t,e,n,i){if(!V4(t))return;const s=e[t],o=n[t];Ke(s)&&Ke(o)?Ud(s,o,i):e[t]=eg(o)}function Ud(t,e,n){const i=Jt(e)?e:[e],s=i.length;if(!Ke(t))return t;n=n||{};const o=n.merger||xq;let l;for(let u=0;u<s;++u){if(l=i[u],!Ke(l))continue;const f=Object.keys(l);for(let m=0,p=f.length;m<p;++m)o(f[m],t,l,n)}return t}function dd(t,e){return Ud(t,e,{merger:vq})}function vq(t,e,n){if(!V4(t))return;const i=e[t],s=n[t];Ke(i)&&Ke(s)?dd(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=eg(s))}const DE={"":t=>t,x:t=>t.x,y:t=>t.y};function bq(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function wq(t){const e=bq(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function mc(t,e){return(DE[e]||(DE[e]=wq(e)))(t)}function qb(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Bd=t=>typeof t<"u",_a=t=>typeof t=="function",ME=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function _q(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const On=Math.PI,da=2*On,tg=Number.POSITIVE_INFINITY,Tq=On/180,$i=On/2,lo=On/4,IE=On*2/3,L4=Math.log10,ha=Math.sign;function wm(t,e,n){return Math.abs(t-e)<n}function OE(t){const e=Math.round(t);t=wm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(L4(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Sq(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,o)=>s-o).pop(),e}function Eq(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ng(t){return!Eq(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function kq(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Aq(t,e,n){let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function wo(t){return t*(On/180)}function Nq(t){return t*(180/On)}function PE(t){if(!ji(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Cq(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*On&&(o+=da),{angle:o,distance:s}}function jq(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function co(t){return(t%da+da)%da}function Rq(t,e,n,i){const s=co(t),o=co(e),l=co(n),u=co(o-s),f=co(l-s),m=co(s-o),p=co(s-l);return s===o||s===l||i||u>f&&m<p}function Gi(t,e,n){return Math.max(e,Math.min(n,t))}function Dq(t){return Gi(t,-32768,32767)}function Yl(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function $b(t,e,n){n=n||(l=>t[l]<e);let i=t.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,n(o)?s=o:i=o;return{lo:s,hi:i}}const Qx=(t,e,n,i)=>$b(t,n,i?s=>{const o=t[s][e];return o<n||o===n&&t[s+1][e]===n}:s=>t[s][e]<n),Mq=(t,e,n)=>$b(t,n,i=>t[i][e]>=n);function Iq(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const U4=["push","pop","shift","splice","unshift"];function Oq(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),U4.forEach(n=>{const i="_onData"+qb(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const l=s.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function VE(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(U4.forEach(o=>{delete t[o]}),delete t._chartjs)}function B4(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const F4=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function z4(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,F4.call(window,()=>{i=!1,t.apply(e,n)}))}}function Pq(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Gb=t=>t==="start"?"left":t==="end"?"right":"center",jn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Vq=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,Kf=t=>t===0||t===1,LE=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*da/n)),UE=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*da/n)+1,hd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*$i)+1,easeOutSine:t=>Math.sin(t*$i),easeInOutSine:t=>-.5*(Math.cos(On*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Kf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Kf(t)?t:LE(t,.075,.3),easeOutElastic:t=>Kf(t)?t:UE(t,.075,.3),easeInOutElastic(t){return Kf(t)?t:t<.5?.5*LE(t*2,.1125,.45):.5+.5*UE(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-hd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?hd.easeInBounce(t*2)*.5:hd.easeOutBounce(t*2-1)*.5+.5};function H4(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function BE(t){return H4(t)?t:new Ld(t)}function Ty(t){return H4(t)?t:new Ld(t).saturate(.5).darken(.1).hexString()}const Lq=["x","y","borderWidth","radius","tension"],Uq=["color","borderColor","backgroundColor"];function Bq(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Uq},numbers:{type:"number",properties:Lq}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Fq(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const FE=new Map;function zq(t,e){e=e||{};const n=t+JSON.stringify(e);let i=FE.get(n);return i||(i=new Intl.NumberFormat(t,e),FE.set(n,i)),i}function q4(t,e,n){return zq(e,n).format(t)}const Hq={values(t){return Jt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(s="scientific"),o=qq(t,n)}const l=L4(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),q4(t,i,f)}};function qq(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var $4={formatters:Hq};function $q(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Oo=Object.create(null),Zx=Object.create(null);function fd(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function Sy(t,e,n){return typeof e=="string"?Ud(fd(t,e),n):Ud(fd(t,""),e)}class Gq{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Ty(s.backgroundColor),this.hoverBorderColor=(i,s)=>Ty(s.borderColor),this.hoverColor=(i,s)=>Ty(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Sy(this,e,n)}get(e){return fd(this,e)}describe(e,n){return Sy(Zx,e,n)}override(e,n){return Sy(Oo,e,n)}route(e,n,i,s){const o=fd(this,e),l=fd(this,i),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],m=l[s];return Ke(f)?Object.assign({},m,f):Je(f,m)},set(f){this[u]=f}}})}apply(e){e.forEach(n=>n(this))}}var Lt=new Gq({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Bq,Fq,$q]);function Wq(t){return!t||ht(t.size)||ht(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function zE(t,e,n,i,s){let o=e[s];return o||(o=e[s]=t.measureText(s).width,n.push(s)),o>i&&(i=o),i}function uo(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function HE(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function qE(t,e,n,i){G4(t,e,n,i,null)}function G4(t,e,n,i,s){let o,l,u,f,m,p,v,b;const _=e.pointStyle,A=e.rotation,C=e.radius;let j=(A||0)*Tq;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(j),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(C)||C<=0)){switch(t.beginPath(),_){default:s?t.ellipse(n,i,s/2,C,0,0,da):t.arc(n,i,C,0,da),t.closePath();break;case"triangle":p=s?s/2:C,t.moveTo(n+Math.sin(j)*p,i-Math.cos(j)*C),j+=IE,t.lineTo(n+Math.sin(j)*p,i-Math.cos(j)*C),j+=IE,t.lineTo(n+Math.sin(j)*p,i-Math.cos(j)*C),t.closePath();break;case"rectRounded":m=C*.516,f=C-m,l=Math.cos(j+lo)*f,v=Math.cos(j+lo)*(s?s/2-m:f),u=Math.sin(j+lo)*f,b=Math.sin(j+lo)*(s?s/2-m:f),t.arc(n-v,i-u,m,j-On,j-$i),t.arc(n+b,i-l,m,j-$i,j),t.arc(n+v,i+u,m,j,j+$i),t.arc(n-b,i+l,m,j+$i,j+On),t.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*C,p=s?s/2:f,t.rect(n-p,i-f,2*p,2*f);break}j+=lo;case"rectRot":v=Math.cos(j)*(s?s/2:C),l=Math.cos(j)*C,u=Math.sin(j)*C,b=Math.sin(j)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+b,i-l),t.lineTo(n+v,i+u),t.lineTo(n-b,i+l),t.closePath();break;case"crossRot":j+=lo;case"cross":v=Math.cos(j)*(s?s/2:C),l=Math.cos(j)*C,u=Math.sin(j)*C,b=Math.sin(j)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+b,i-l),t.lineTo(n-b,i+l);break;case"star":v=Math.cos(j)*(s?s/2:C),l=Math.cos(j)*C,u=Math.sin(j)*C,b=Math.sin(j)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+b,i-l),t.lineTo(n-b,i+l),j+=lo,v=Math.cos(j)*(s?s/2:C),l=Math.cos(j)*C,u=Math.sin(j)*C,b=Math.sin(j)*(s?s/2:C),t.moveTo(n-v,i-u),t.lineTo(n+v,i+u),t.moveTo(n+b,i-l),t.lineTo(n-b,i+l);break;case"line":l=s?s/2:Math.cos(j)*C,u=Math.sin(j)*C,t.moveTo(n-l,i-u),t.lineTo(n+l,i+u);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(j)*(s?s/2:C),i+Math.sin(j)*C);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function W4(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Wb(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Yb(t){t.restore()}function Yq(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ht(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Kq(t,e,n,i,s){if(s.strikethrough||s.underline){const o=t.measureText(i),l=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,p=s.strikethrough?(f+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(l,p),t.lineTo(u,p),t.stroke()}}function Xq(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Fd(t,e,n,i,s,o={}){const l=Jt(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(t.save(),t.font=s.string,Yq(t,o),f=0;f<l.length;++f)m=l[f],o.backdrop&&Xq(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),ht(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,i,o.maxWidth)),t.fillText(m,n,i,o.maxWidth),Kq(t,n,i,m,o),i+=Number(s.lineHeight);t.restore()}function ig(t,e){const{x:n,y:i,w:s,h:o,radius:l}=e;t.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*On,On,!0),t.lineTo(n,i+o-l.bottomLeft),t.arc(n+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,On,$i,!0),t.lineTo(n+s-l.bottomRight,i+o),t.arc(n+s-l.bottomRight,i+o-l.bottomRight,l.bottomRight,$i,0,!0),t.lineTo(n+s,i+l.topRight),t.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-$i,!0),t.lineTo(n+l.topLeft,i)}const Qq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Zq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jq(t,e){const n=(""+t).match(Qq);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const e$=t=>+t||0;function Y4(t,e){const n={},i=Ke(e),s=i?Object.keys(e):e,o=Ke(t)?i?l=>Je(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of s)n[l]=e$(o(l));return n}function K4(t){return Y4(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ec(t){return Y4(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ri(t){const e=K4(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function In(t,e){t=t||{},e=e||Lt.font;let n=Je(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Je(t.style,e.style);i&&!(""+i).match(Zq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Je(t.family,e.family),lineHeight:Jq(Je(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Je(t.weight,e.weight),string:""};return s.string=Wq(s),s}function Xf(t,e,n,i){let s,o,l;for(s=0,o=t.length;s<o;++s)if(l=t[s],l!==void 0&&l!==void 0)return l}function t$(t,e,n){const{min:i,max:s}=t,o=yq(e,(s-i)/2),l=(u,f)=>n&&u===0?0:u+f;return{min:l(i,-Math.abs(o)),max:l(s,o)}}function jc(t,e){return Object.assign(Object.create(t),e)}function Kb(t,e=[""],n,i,s=()=>t[0]){const o=n||t;typeof i>"u"&&(i=J4("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:s,override:u=>Kb([u,...t],e,o,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete t[0][f],!0},get(u,f){return Q4(u,f,()=>c$(f,e,t,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,f){return GE(u).includes(f)},ownKeys(u){return GE(u)},set(u,f,m){const p=u._storage||(u._storage=s());return u[f]=p[f]=m,delete u._keys,!0}})}function gc(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:X4(t,i),setContext:o=>gc(t,o,n,i),override:o=>gc(t.override(o),e,n,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete t[l],!0},get(o,l,u){return Q4(o,l,()=>i$(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(o,l,u){return t[l]=u,delete o[l],!0}})}function X4(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:_a(n)?n:()=>n,isIndexable:_a(i)?i:()=>i}}const n$=(t,e)=>t?t+qb(e):e,Xb=(t,e)=>Ke(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Q4(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function i$(t,e,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=t;let u=i[e];return _a(u)&&l.isScriptable(e)&&(u=s$(e,u,t,n)),Jt(u)&&u.length&&(u=r$(e,u,t,l.isIndexable)),Xb(e,u)&&(u=gc(u,s,o&&o[e],l)),u}function s$(t,e,n,i){const{_proxy:s,_context:o,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let f=e(o,l||i);return u.delete(t),Xb(t,f)&&(f=Qb(s._scopes,s,t,f)),f}function r$(t,e,n,i){const{_proxy:s,_context:o,_subProxy:l,_descriptors:u}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(Ke(e[0])){const f=e,m=s._scopes.filter(p=>p!==f);e=[];for(const p of f){const v=Qb(m,s,t,p);e.push(gc(v,o,l&&l[t],u))}}return e}function Z4(t,e,n){return _a(t)?t(e,n):t}const a$=(t,e)=>t===!0?e:typeof t=="string"?mc(e,t):void 0;function o$(t,e,n,i,s){for(const o of e){const l=a$(n,o);if(l){t.add(l);const u=Z4(l._fallback,n,s);if(typeof u<"u"&&u!==n&&u!==i)return u}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Qb(t,e,n,i){const s=e._rootScopes,o=Z4(e._fallback,n,i),l=[...t,...s],u=new Set;u.add(i);let f=$E(u,l,n,o||n,i);return f===null||typeof o<"u"&&o!==n&&(f=$E(u,l,o,f,i),f===null)?!1:Kb(Array.from(u),[""],s,o,()=>l$(e,n,i))}function $E(t,e,n,i,s){for(;n;)n=o$(t,e,n,i,s);return n}function l$(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Jt(s)&&Ke(n)?n:s||{}}function c$(t,e,n,i){let s;for(const o of e)if(s=J4(n$(o,t),n),typeof s<"u")return Xb(t,s)?Qb(n,i,t,s):s}function J4(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function GE(t){let e=t._keys;return e||(e=t._keys=u$(t._scopes)),e}function u$(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Zb(){return typeof window<"u"&&typeof document<"u"}function Jb(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function sg(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Vg=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function d$(t,e){return Vg(t).getPropertyValue(e)}const h$=["top","right","bottom","left"];function No(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const o=h$[s];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const f$=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function m$(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:o}=i;let l=!1,u,f;if(f$(s,o,t.target))u=s,f=o;else{const m=e.getBoundingClientRect();u=i.clientX-m.left,f=i.clientY-m.top,l=!0}return{x:u,y:f,box:l}}function go(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Vg(n),o=s.boxSizing==="border-box",l=No(s,"padding"),u=No(s,"border","width"),{x:f,y:m,box:p}=m$(t,n),v=l.left+(p&&u.left),b=l.top+(p&&u.top);let{width:_,height:A}=e;return o&&(_-=l.width+u.width,A-=l.height+u.height),{x:Math.round((f-v)/_*n.width/i),y:Math.round((m-b)/A*n.height/i)}}function g$(t,e,n){let i,s;if(e===void 0||n===void 0){const o=t&&Jb(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const l=o.getBoundingClientRect(),u=Vg(o),f=No(u,"border","width"),m=No(u,"padding");e=l.width-m.width-f.width,n=l.height-m.height-f.height,i=sg(u.maxWidth,o,"clientWidth"),s=sg(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||tg,maxHeight:s||tg}}const Qf=t=>Math.round(t*10)/10;function p$(t,e,n,i){const s=Vg(t),o=No(s,"margin"),l=sg(s.maxWidth,t,"clientWidth")||tg,u=sg(s.maxHeight,t,"clientHeight")||tg,f=g$(t,e,n);let{width:m,height:p}=f;if(s.boxSizing==="content-box"){const b=No(s,"border","width"),_=No(s,"padding");m-=_.width+b.width,p-=_.height+b.height}return m=Math.max(0,m-o.width),p=Math.max(0,i?m/i:p-o.height),m=Qf(Math.min(m,l,f.maxWidth)),p=Qf(Math.min(p,u,f.maxHeight)),m&&!p&&(p=Qf(m/2)),(e!==void 0||n!==void 0)&&i&&f.height&&p>f.height&&(p=f.height,m=Qf(Math.floor(p*i))),{width:m,height:p}}function WE(t,e,n){const i=e||1,s=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||l.height!==s||l.width!==o?(t.currentDevicePixelRatio=i,l.height=s,l.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const y$=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Zb()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function YE(t,e){const n=d$(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const x$=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},v$=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function tc(t,e,n){return t?x$(e,n):v$()}function ej(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function tj(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Zf(t,e,n){return t.options.clip?t[n]:e[n]}function b$(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Zf(n,e,"left"),right:Zf(n,e,"right"),top:Zf(i,e,"top"),bottom:Zf(i,e,"bottom")}:e}function w$(t,e){const n=e._clip;if(n.disabled)return!1;const i=b$(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class _${constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const o=n.listeners[s],l=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=F4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(e),u=!0):(o[l]=o[o.length-1],o.pop());u&&(s.draw(),this._notify(s,i,e,"progress")),o.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ir=new _$;const KE="transparent",T$={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=BE(t||KE),s=i.valid&&BE(e||KE);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class S${constructor(e,n,i,s){const o=n[i];s=Xf([e.to,s,o,e.from]);const l=Xf([e.from,o,s]);this._active=!0,this._fn=e.fn||T$[e.type||typeof l],this._easing=hd[e.easing]||hd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Xf([e.to,n,s,e.from]),this._from=Xf([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||n<i),!this._active){this._target[s]=u,this._notify(!0);return}if(n<0){this._target[s]=o;return}f=n/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[s]=this._fn(o,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class nj{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ke(e))return;const n=Object.keys(Lt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!Ke(o))return;const l={};for(const u of n)l[u]=o[u];(Jt(o.properties)&&o.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,n){const i=n.options,s=k$(e,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&E$(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,s=[],o=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const m=l[f];if(m.charAt(0)==="$")continue;if(m==="options"){s.push(...this._animateOptions(e,n));continue}const p=n[m];let v=o[m];const b=i.get(m);if(v)if(b&&v.active()){v.update(b,p,u);continue}else v.cancel();if(!b||!b.duration){e[m]=p;continue}o[m]=v=new S$(b,e,m,p),s.push(v)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ir.add(this._chart,i),!0}}function E$(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const o=t[i[s]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function k$(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function XE(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:s,end:i?s:o}}function A$(t,e,n){if(n===!1)return!1;const i=XE(t,n),s=XE(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function N$(t){let e,n,i,s;return Ke(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function ij(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,o;for(s=0,o=i.length;s<o;++s)n.push(i[s].index);return n}function QE(t,e,n,i={}){const s=t.keys,o=i.mode==="single";let l,u,f,m;if(e===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(f=+s[l],f===n){if(p=!0,i.all)continue;break}m=t.values[f],ji(m)&&(o||e===0||ha(e)===ha(m))&&(e+=m)}return!p&&!i.all?0:e}function C$(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let f,m,p;for(f=0,m=l.length;f<m;++f)p=l[f],u[f]={[s]:p,[o]:t[p]};return u}function Ey(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function j$(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function R$(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function D$(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function ZE(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const o=t[s.index];if(n&&o>0||!n&&o<0)return s.index}return null}function JE(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:u}=i,f=o.axis,m=l.axis,p=j$(o,l,i),v=e.length;let b;for(let _=0;_<v;++_){const A=e[_],{[f]:C,[m]:j}=A,P=A._stacks||(A._stacks={});b=P[m]=D$(s,p,C),b[u]=j,b._top=ZE(b,l,!0,i.type),b._bottom=ZE(b,l,!1,i.type);const U=b._visualValues||(b._visualValues={});U[u]=j}}function ky(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function M$(t,e){return jc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function I$(t,e,n){return jc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Pu(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const o=s._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Ay=t=>t==="reset"||t==="none",ek=(t,e)=>e?t:Object.assign({},t),O$=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ij(n,!0),values:null};class sj{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ey(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(v,b,_,A)=>v==="x"?b:v==="r"?A:_,o=n.xAxisID=Je(i.xAxisID,ky(e,"x")),l=n.yAxisID=Je(i.yAxisID,ky(e,"y")),u=n.rAxisID=Je(i.rAxisID,ky(e,"r")),f=n.indexAxis,m=n.iAxisID=s(f,o,l,u),p=n.vAxisID=s(f,l,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&VE(this._data,this),e._stacked&&Pu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Ke(n)){const s=this._cachedMeta;this._data=C$(n,s)}else if(i!==n){if(i){VE(i,this);const s=this._cachedMeta;Pu(s),s._parsed=[]}n&&Object.isExtensible(n)&&Oq(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=Ey(n.vScale,n),n.stack!==i.stack&&(s=!0,Pu(n),n.stack=i.stack),this._resyncElements(e),(s||o!==n._stacked)&&(JE(this,n._parsed),n._stacked=Ey(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:l}=i,u=o.axis;let f=e===0&&n===s.length?!0:i._sorted,m=e>0&&i._parsed[e-1],p,v,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{Jt(s[e])?b=this.parseArrayData(i,s,e,n):Ke(s[e])?b=this.parseObjectData(i,s,e,n):b=this.parsePrimitiveData(i,s,e,n);const _=()=>v[u]===null||m&&v[u]<m[u];for(p=0;p<n;++p)i._parsed[p+e]=v=b[p],f&&(_()&&(f=!1),m=v);i._sorted=f}l&&JE(this,b)}parsePrimitiveData(e,n,i,s){const{iScale:o,vScale:l}=e,u=o.axis,f=l.axis,m=o.getLabels(),p=o===l,v=new Array(s);let b,_,A;for(b=0,_=s;b<_;++b)A=b+i,v[b]={[u]:p||o.parse(m[A],A),[f]:l.parse(n[A],A)};return v}parseArrayData(e,n,i,s){const{xScale:o,yScale:l}=e,u=new Array(s);let f,m,p,v;for(f=0,m=s;f<m;++f)p=f+i,v=n[p],u[f]={x:o.parse(v[0],p),y:l.parse(v[1],p)};return u}parseObjectData(e,n,i,s){const{xScale:o,yScale:l}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=new Array(s);let p,v,b,_;for(p=0,v=s;p<v;++p)b=p+i,_=n[b],m[p]={x:o.parse(mc(_,u),b),y:l.parse(mc(_,f),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,o=this._cachedMeta,l=n[e.axis],u={keys:ij(s,!0),values:n._stacks[e.axis]._visualValues};return QE(u,l,o.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const o=i[n.axis];let l=o===null?NaN:o;const u=s&&i._stacks[n.axis];s&&u&&(s.values=u,l=QE(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&e===i.iScale,l=s.length,u=this._getOtherScale(e),f=O$(n,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=R$(u);let b,_;function A(){_=s[b];const C=_[u.axis];return!ji(_[e.axis])||p>C||v<C}for(b=0;b<l&&!(!A()&&(this.updateRangeFromParsed(m,e,_,f),o));++b);if(o){for(b=l-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(m,e,_,f);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,o,l;for(s=0,o=n.length;s<o;++s)l=n[s][e.axis],ji(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=N$(Je(this.options.clip,A$(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],o=n.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||s.length-u,m=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,o,u,f),p=u;p<u+f;++p){const v=s[p];v.hidden||(v.active&&m?l.push(v):v.draw(e,o))}for(p=0;p<l.length;++p)l[p].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=I$(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=M$(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",o=this._cachedDataOpts,l=e+"-"+n,u=o[l],f=this.enableOptionSharing&&Bd(i);if(u)return ek(u,f);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,e),v=s?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),p),_=Object.keys(Lt.elements[e]),A=()=>this.getContext(i,s,n),C=m.resolveNamedOptions(b,_,A,v);return C.$shared&&(C.$shared=f,o[l]=Object.freeze(ek(C,f))),C}_resolveAnimations(e,n,i){const s=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,u=o[l];if(u)return u;let f;if(s.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),v);f=p.createResolver(b,this.getContext(e,i,n))}const m=new nj(s,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ay(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:l}}updateElement(e,n,i,s){Ay(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Ay(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[u,f,m]of this._syncList)this[u](f,m);this._syncList=[];const s=i.length,o=n.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,n,i=!0){const s=this._cachedMeta,o=s.data,l=e+n;let u;const f=m=>{for(m.length+=n,u=m.length-1;u>=l;u--)m[u]=m[u-n]};for(f(o),u=e;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&Pu(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function P$(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,o=n.length;s<o;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=B4(i.sort((s,o)=>s-o))}return t._cache.$bar}function V$(t){const e=t.iScale,n=P$(e,t.type);let i=e._length,s,o,l,u;const f=()=>{l===32767||l===-32768||(Bd(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,o=n.length;s<o;++s)l=e.getPixelForValue(n[s]),f();for(u=void 0,s=0,o=e.ticks.length;s<o;++s)l=e.getPixelForTick(s),f();return i}function L$(t,e,n,i){const s=n.barThickness;let o,l;return ht(s)?(o=e.min*n.categoryPercentage,l=n.barPercentage):(o=s*i,l=1),{chunk:o/i,ratio:l,start:e.pixels[t]-o/2}}function U$(t,e,n,i){const s=e.pixels,o=s[t];let l=t>0?s[t-1]:null,u=t<s.length-1?s[t+1]:null;const f=n.categoryPercentage;l===null&&(l=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-l);const m=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/i,ratio:n.barPercentage,start:m}}function B$(t,e,n,i){const s=n.parse(t[0],i),o=n.parse(t[1],i),l=Math.min(s,o),u=Math.max(s,o);let f=l,m=u;Math.abs(l)>Math.abs(u)&&(f=u,m=l),e[n.axis]=m,e._custom={barStart:f,barEnd:m,start:s,end:o,min:l,max:u}}function rj(t,e,n,i){return Jt(t)?B$(t,e,n,i):e[n.axis]=n.parse(t,i),e}function tk(t,e,n,i){const s=t.iScale,o=t.vScale,l=s.getLabels(),u=s===o,f=[];let m,p,v,b;for(m=n,p=n+i;m<p;++m)b=e[m],v={},v[s.axis]=u||s.parse(l[m],m),f.push(rj(b,v,o,m));return f}function Ny(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function F$(t,e,n){return t!==0?ha(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function z$(t){let e,n,i,s,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",o="start"):(s="start",o="end"),{start:n,end:i,reverse:e,top:s,bottom:o}}function H$(t,e,n,i){let s=e.borderSkipped;const o={};if(!s){t.borderSkipped=o;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:m,bottom:p}=z$(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=m:(n._bottom||0)===i?s=p:(o[nk(p,l,u,f)]=!0,s=m)),o[nk(s,l,u,f)]=!0,t.borderSkipped=o}function nk(t,e,n,i){return i?(t=q$(t,e,n),t=ik(t,n,e)):t=ik(t,e,n),t}function q$(t,e,n){return t===e?n:t===n?e:t}function ik(t,e,n){return t==="start"?e:t==="end"?n:t}function $$(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class G$ extends sj{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,s){return tk(e,n,i,s)}parseArrayData(e,n,i,s){return tk(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:o,vScale:l}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?u:f,p=l.axis==="x"?u:f,v=[];let b,_,A,C;for(b=i,_=i+s;b<_;++b)C=n[b],A={},A[o.axis]=o.parse(mc(C,m),b),v.push(rj(mc(C,p),A,l,b));return v}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const o=i._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,o=this.getParsed(e),l=o._custom,u=Ny(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const o=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),m=u.isHorizontal(),p=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,s);for(let _=n;_<n+i;_++){const A=this.getParsed(_),C=o||ht(A[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(_),j=this._calculateBarIndexPixels(_,p),P=(A._stacks||{})[u.axis],U={horizontal:m,base:C.base,enableBorderRadius:!P||Ny(A._custom)||l===P._top||l===P._bottom,x:m?C.head:j.center,y:m?j.center:C.head,height:m?j.size:Math.abs(C.size),width:m?Math.abs(C.size):j.size};b&&(U.options=v||this.resolveDataElementOptions(_,e[_].active?"active":s));const z=U.options||e[_].options;H$(U,z,P,l),$$(U,z,p.ratio),this.updateElement(e[_],_,U,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[i.axis],m=p=>{const v=p._parsed.find(_=>_[i.axis]===f),b=v&&v[p.vScale.axis];if(ht(b)||isNaN(b))return!0};for(const p of s)if(!(n!==void 0&&m(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Je(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const s=this._getStacks(e,i),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let o,l;for(o=0,l=n.data.length;o<l;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=e.barThickness;return{min:u||V$(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(e),m=f._custom,p=Ny(m);let v=f[n.axis],b=0,_=i?this.applyStack(n,f,i):v,A,C;_!==v&&(b=_-v,_=v),p&&(v=m.barStart,_=m.barEnd-m.barStart,v!==0&&ha(v)!==ha(m.barEnd)&&(b=0),b+=v);const j=!ht(o)&&!p?o:b;let P=n.getPixelForValue(j);if(this.chart.getDataVisibility(e)?A=n.getPixelForValue(b+_):A=P,C=A-P,Math.abs(C)<l){C=F$(C,n,u)*l,v===u&&(P-=C/2);const U=n.getPixelForDecimal(0),z=n.getPixelForDecimal(1),K=Math.min(U,z),Q=Math.max(U,z);P=Math.max(Math.min(P,Q),K),A=P+C,i&&!p&&(f._stacks[n.axis]._visualValues[s]=n.getValueForPixel(A)-n.getValueForPixel(P))}if(P===n.getPixelForValue(u)){const U=ha(C)*n.getLineWidthForValue(u)/2;P+=U,C-=U}return{size:C,base:P,head:A,center:A+C/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,o=s.skipNull,l=Je(s.maxBarThickness,1/0);let u,f;const m=this._getAxisCount();if(n.grouped){const p=o?this._getStackCount(e):n.stackCount,v=s.barThickness==="flex"?U$(e,n,s,p*m):L$(e,n,s,p*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Je(b,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+_;u=v.start+v.chunk*A+v.chunk/2,f=Math.min(l,v.chunk*v.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),f=Math.min(l,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function ho(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class e1{static override(e){Object.assign(e1.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ho()}parse(){return ho()}format(){return ho()}add(){return ho()}diff(){return ho()}startOf(){return ho()}endOf(){return ho()}}var W$={_date:e1};function Y$(t,e,n,i){const{controller:s,data:o,_sorted:l}=t,u=s._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&o.length){const m=u._reversePixels?Mq:Qx;if(i){if(s._sharedOptions){const p=o[0],v=typeof p.getRange=="function"&&p.getRange(e);if(v){const b=m(o,e,n-v),_=m(o,e,n+v);return{lo:b.lo,hi:_.hi}}}}else{const p=m(o,e,n);if(f){const{vScale:v}=s._cachedMeta,{_parsed:b}=t,_=b.slice(0,p.lo+1).reverse().findIndex(C=>!ht(C[v.axis]));p.lo-=Math.max(0,_);const A=b.slice(p.hi).findIndex(C=>!ht(C[v.axis]));p.hi+=Math.max(0,A)}return p}}return{lo:0,hi:o.length-1}}function Lg(t,e,n,i,s){const o=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,f=o.length;u<f;++u){const{index:m,data:p}=o[u],{lo:v,hi:b}=Y$(o[u],e,l,s);for(let _=v;_<=b;++_){const A=p[_];A.skip||i(A,m,_)}}}function K$(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const o=e?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Cy(t,e,n,i,s){const o=[];return!s&&!t.isPointInArea(e)||Lg(t,n,e,function(u,f,m){!s&&!W4(u,t.chartArea,0)||u.inRange(e.x,e.y,i)&&o.push({element:u,datasetIndex:f,index:m})},!0),o}function X$(t,e,n,i){let s=[];function o(l,u,f){const{startAngle:m,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:v}=Cq(l,{x:e.x,y:e.y});Rq(v,m,p)&&s.push({element:l,datasetIndex:u,index:f})}return Lg(t,n,e,o),s}function Q$(t,e,n,i,s,o){let l=[];const u=K$(n);let f=Number.POSITIVE_INFINITY;function m(p,v,b){const _=p.inRange(e.x,e.y,s);if(i&&!_)return;const A=p.getCenterPoint(s);if(!(!!o||t.isPointInArea(A))&&!_)return;const j=u(e,A);j<f?(l=[{element:p,datasetIndex:v,index:b}],f=j):j===f&&l.push({element:p,datasetIndex:v,index:b})}return Lg(t,n,e,m),l}function jy(t,e,n,i,s,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?X$(t,e,n,s):Q$(t,e,n,i,s,o)}function sk(t,e,n,i,s){const o=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return Lg(t,n,e,(f,m,p)=>{f[l]&&f[l](e[n],s)&&(o.push({element:f,datasetIndex:m,index:p}),u=u||f.inRange(e.x,e.y,s))}),i&&!u?[]:o}var Z$={modes:{index(t,e,n,i){const s=go(e,t),o=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?Cy(t,s,o,i,l):jy(t,s,o,!1,i,l),f=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const p=u[0].index,v=m.data[p];v&&!v.skip&&f.push({element:v,datasetIndex:m.index,index:p})}),f):[]},dataset(t,e,n,i){const s=go(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?Cy(t,s,o,i,l):jy(t,s,o,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,m=t.getDatasetMeta(f).data;u=[];for(let p=0;p<m.length;++p)u.push({element:m[p],datasetIndex:f,index:p})}return u},point(t,e,n,i){const s=go(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return Cy(t,s,o,i,l)},nearest(t,e,n,i){const s=go(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return jy(t,s,o,n.intersect,i,l)},x(t,e,n,i){const s=go(e,t);return sk(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=go(e,t);return sk(t,s,"y",n.intersect,i)}}};const aj=["left","top","right","bottom"];function Vu(t,e){return t.filter(n=>n.pos===e)}function rk(t,e){return t.filter(n=>aj.indexOf(n.pos)===-1&&n.box.axis===e)}function Lu(t,e){return t.sort((n,i)=>{const s=e?i:n,o=e?n:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function J$(t){const e=[];let n,i,s,o,l,u;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:o,options:{stack:l,stackWeight:u=1}}=s,e.push({index:n,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&o+l,stackWeight:u});return e}function eG(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:o}=n;if(!i||!aj.includes(s))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function tG(t,e){const n=eG(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let o,l,u;for(o=0,l=t.length;o<l;++o){u=t[o];const{fullSize:f}=u.box,m=n[u.stack],p=m&&u.stackWeight/m.weight;u.horizontal?(u.width=p?p*i:f&&e.availableWidth,u.height=s):(u.width=i,u.height=p?p*s:f&&e.availableHeight)}return n}function nG(t){const e=J$(t),n=Lu(e.filter(m=>m.box.fullSize),!0),i=Lu(Vu(e,"left"),!0),s=Lu(Vu(e,"right")),o=Lu(Vu(e,"top"),!0),l=Lu(Vu(e,"bottom")),u=rk(e,"x"),f=rk(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:s.concat(f).concat(l).concat(u),chartArea:Vu(e,"chartArea"),vertical:i.concat(s).concat(f),horizontal:o.concat(l).concat(u)}}function ak(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function oj(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function iG(t,e,n,i){const{pos:s,box:o}=n,l=t.maxPadding;if(!Ke(s)){n.size&&(t[s]-=n.size);const v=i[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?o.height:o.width),n.size=v.size/v.count,t[s]+=n.size}o.getPadding&&oj(l,o.getPadding());const u=Math.max(0,e.outerWidth-ak(l,t,"left","right")),f=Math.max(0,e.outerHeight-ak(l,t,"top","bottom")),m=u!==t.w,p=f!==t.h;return t.w=u,t.h=f,n.horizontal?{same:m,other:p}:{same:p,other:m}}function sG(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function rG(t,e){const n=e.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{o[l]=Math.max(e[l],n[l])}),o}return i(t?["left","right"]:["top","bottom"])}function Ku(t,e,n,i){const s=[];let o,l,u,f,m,p;for(o=0,l=t.length,m=0;o<l;++o){u=t[o],f=u.box,f.update(u.width||e.w,u.height||e.h,rG(u.horizontal,e));const{same:v,other:b}=iG(e,n,u,i);m|=v&&s.length,p=p||b,f.fullSize||s.push(u)}return m&&Ku(s,e,n,i)||p}function Jf(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function ok(t,e,n,i){const s=n.padding;let{x:o,y:l}=e;for(const u of t){const f=u.box,m=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/m.weight||1;if(u.horizontal){const v=e.w*p,b=m.size||f.height;Bd(m.start)&&(l=m.start),f.fullSize?Jf(f,s.left,l,n.outerWidth-s.right-s.left,b):Jf(f,e.left+m.placed,l,v,b),m.start=l,m.placed+=v,l=f.bottom}else{const v=e.h*p,b=m.size||f.width;Bd(m.start)&&(o=m.start),f.fullSize?Jf(f,o,s.top,b,n.outerHeight-s.bottom-s.top):Jf(f,o,e.top+m.placed,b,v),m.start=o,m.placed+=v,o=f.right}}e.x=o,e.y=l}var Ai={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=Ri(t.options.layout.padding),o=Math.max(e-s.width,0),l=Math.max(n-s.height,0),u=nG(t.boxes),f=u.vertical,m=u.horizontal;st(t.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const p=f.reduce((C,j)=>j.box.options&&j.box.options.display===!1?C:C+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},s);oj(b,Ri(i));const _=Object.assign({maxPadding:b,w:o,h:l,x:s.left,y:s.top},s),A=tG(f.concat(m),v);Ku(u.fullSize,_,v,A),Ku(f,_,v,A),Ku(m,_,v,A)&&Ku(f,_,v,A),sG(_),ok(u.leftAndTop,_,v,A),_.x+=_.w,_.y+=_.h,ok(u.rightAndBottom,_,v,A),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},st(u.chartArea,C=>{const j=C.box;Object.assign(j,t.chartArea),j.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class lj{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class aG extends lj{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const _m="$chartjs",oG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lk=t=>t===null||t==="";function lG(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[_m]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",lk(s)){const o=YE(t,"width");o!==void 0&&(t.width=o)}if(lk(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=YE(t,"height");o!==void 0&&(t.height=o)}return t}const cj=y$?{passive:!0}:!1;function cG(t,e,n){t&&t.addEventListener(e,n,cj)}function uG(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,cj)}function dG(t,e){const n=oG[t.type]||t.type,{x:i,y:s}=go(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function rg(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function hG(t,e,n){const i=t.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||rg(u.addedNodes,i),l=l&&!rg(u.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function fG(t,e,n){const i=t.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||rg(u.removedNodes,i),l=l&&!rg(u.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const zd=new Map;let ck=0;function uj(){const t=window.devicePixelRatio;t!==ck&&(ck=t,zd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function mG(t,e){zd.size||window.addEventListener("resize",uj),zd.set(t,e)}function gG(t){zd.delete(t),zd.size||window.removeEventListener("resize",uj)}function pG(t,e,n){const i=t.canvas,s=i&&Jb(i);if(!s)return;const o=z4((u,f)=>{const m=s.clientWidth;n(u,f),m<s.clientWidth&&n()},window),l=new ResizeObserver(u=>{const f=u[0],m=f.contentRect.width,p=f.contentRect.height;m===0&&p===0||o(m,p)});return l.observe(s),mG(t,o),l}function Ry(t,e,n){n&&n.disconnect(),e==="resize"&&gG(t)}function yG(t,e,n){const i=t.canvas,s=z4(o=>{t.ctx!==null&&n(dG(o,t))},t);return cG(i,e,s),s}class xG extends lj{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(lG(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[_m])return!1;const i=n[_m].initial;["height","width"].forEach(o=>{const l=i[o];ht(l)?n.removeAttribute(o):n.setAttribute(o,l)});const s=i.style||{};return Object.keys(s).forEach(o=>{n.style[o]=s[o]}),n.width=n.width,delete n[_m],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),l={attach:hG,detach:fG,resize:pG}[n]||yG;s[n]=l(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Ry,detach:Ry,resize:Ry}[n]||uG)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return p$(e,n,i,s)}isAttached(e){const n=e&&Jb(e);return!!(n&&n.isConnected)}}function vG(t){return!Zb()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?aG:xG}let Rc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ng(this.x)&&ng(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}};function bG(t,e){const n=t.options.ticks,i=wG(t),s=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?TG(e):[],l=o.length,u=o[0],f=o[l-1],m=[];if(l>s)return SG(e,m,o,l/s),m;const p=_G(o,e,s);if(l>0){let v,b;const _=l>1?Math.round((f-u)/(l-1)):null;for(em(e,m,p,ht(_)?0:u-_,u),v=0,b=l-1;v<b;v++)em(e,m,p,o[v],o[v+1]);return em(e,m,p,f,ht(_)?e.length:f+_),m}return em(e,m,p),m}function wG(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function _G(t,e,n){const i=EG(t),s=e.length/n;if(!i)return Math.max(s,1);const o=Sq(i);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>s)return f}return Math.max(s,1)}function TG(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function SG(t,e,n,i){let s=0,o=n[0],l;for(i=Math.ceil(i),l=0;l<t.length;l++)l===o&&(e.push(t[l]),s++,o=n[s*i])}function em(t,e,n,i,s){const o=Je(i,0),l=Math.min(Je(s,t.length),t.length);let u=0,f,m,p;for(n=Math.ceil(n),s&&(f=s-i,n=f/Math.floor(f/n)),p=o;p<0;)u++,p=Math.round(o+u*n);for(m=Math.max(o,0);m<l;m++)m===p&&(e.push(t[m]),u++,p=Math.round(o+u*n))}function EG(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const kG=t=>t==="left"?"right":t==="right"?"left":t,uk=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,dk=(t,e)=>Math.min(e||t,t);function hk(t,e){const n=[],i=t.length/e,s=t.length;let o=0;for(;o<s;o+=i)n.push(t[Math.floor(o)]);return n}function AG(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),o=t._startPixel,l=t._endPixel,u=1e-6;let f=t.getPixelForTick(s),m;if(!(n&&(i===1?m=Math.max(f-o,l-f):e===0?m=(t.getPixelForTick(1)-f)/2:m=(f-t.getPixelForTick(s-1))/2,f+=s<e?m:-m,f<o-u||f>l+u)))return f}function NG(t,e){st(t,n=>{const i=n.gc,s=i.length/2;let o;if(s>e){for(o=0;o<s;++o)delete n.data[i[o]];i.splice(0,s)}})}function Uu(t){return t.drawTicks?t.tickLength:0}function fk(t,e){if(!t.display)return 0;const n=In(t.font,e),i=Ri(t.padding);return(Jt(t.text)?t.text.length:1)*n.lineHeight+i.height}function CG(t,e){return jc(t,{scale:e,type:"scale"})}function jG(t,e,n){return jc(t,{tick:n,index:e,type:"tick"})}function RG(t,e,n){let i=Gb(t);return(n&&e!=="right"||!n&&e==="right")&&(i=kG(i)),i}function DG(t,e,n,i){const{top:s,left:o,bottom:l,right:u,chart:f}=t,{chartArea:m,scales:p}=f;let v=0,b,_,A;const C=l-s,j=u-o;if(t.isHorizontal()){if(_=jn(i,o,u),Ke(n)){const P=Object.keys(n)[0],U=n[P];A=p[P].getPixelForValue(U)+C-e}else n==="center"?A=(m.bottom+m.top)/2+C-e:A=uk(t,n,e);b=u-o}else{if(Ke(n)){const P=Object.keys(n)[0],U=n[P];_=p[P].getPixelForValue(U)-j+e}else n==="center"?_=(m.left+m.right)/2-j+e:_=uk(t,n,e);A=jn(i,l,s),v=n==="left"?-$i:$i}return{titleX:_,titleY:A,maxWidth:b,rotation:v}}class Dc extends Rc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=hs(e,Number.POSITIVE_INFINITY),n=hs(n,Number.NEGATIVE_INFINITY),i=hs(i,Number.POSITIVE_INFINITY),s=hs(s,Number.NEGATIVE_INFINITY),{min:hs(e,i),max:hs(n,s),minDefined:ji(e),maxDefined:ji(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),l;if(s&&o)return{min:n,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,m=u.length;f<m;++f)l=u[f].controller.getMinMax(this,e),s||(n=Math.min(n,l.min)),o||(i=Math.max(i,l.max));return n=o&&n>i?i:n,i=s&&n>i?n:i,{min:hs(n,hs(i,n)),max:hs(i,hs(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=t$(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?hk(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=bG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gt(this.options.afterUpdate,[this])}beforeSetDimensions(){gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i],o.label=gt(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=dk(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation;let l=s,u,f,m;if(!this._isVisible()||!n.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),v=p.widest.width,b=p.highest.height,_=Gi(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),v+6>u&&(u=_/(i-(e.offset?.5:1)),f=this.maxHeight-Uu(e.grid)-n.padding-fk(e.title,this.chart.options.font),m=Math.sqrt(v*v+b*b),l=Nq(Math.min(Math.asin(Gi((p.highest.height+6)/u,-1,1)),Math.asin(Gi(f/m,-1,1))-Math.asin(Gi(b/m,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=fk(s,n.options.font);if(u?(e.width=this.maxWidth,e.height=Uu(o)+f):(e.height=this.maxHeight,e.width=Uu(o)+f),i.display&&this.ticks.length){const{first:m,last:p,widest:v,highest:b}=this._getLabelSizes(),_=i.padding*2,A=wo(this.labelRotation),C=Math.cos(A),j=Math.sin(A);if(u){const P=i.mirror?0:j*v.width+C*b.height;e.height=Math.min(this.maxHeight,e.height+P+_)}else{const P=i.mirror?0:C*v.width+j*b.height;e.width=Math.min(this.maxWidth,e.width+P+_)}this._calculatePadding(m,p,j,C)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,_=0;f?m?(b=s*e.width,_=i*n.height):(b=i*e.height,_=s*n.width):o==="start"?_=n.width:o==="end"?b=e.width:o!=="inner"&&(b=e.width/2,_=n.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-v+l)*this.width/(this.width-v),0)}else{let p=n.height/2,v=e.height/2;o==="start"?(p=0,v=e.height):o==="end"&&(p=n.height,v=0),this.paddingTop=p+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ht(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=hk(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(n/dk(n,i));let m=0,p=0,v,b,_,A,C,j,P,U,z,K,Q;for(v=0;v<n;v+=f){if(A=e[v].label,C=this._resolveTickFontOptions(v),s.font=j=C.string,P=o[j]=o[j]||{data:{},gc:[]},U=C.lineHeight,z=K=0,!ht(A)&&!Jt(A))z=zE(s,P.data,P.gc,z,A),K=U;else if(Jt(A))for(b=0,_=A.length;b<_;++b)Q=A[b],!ht(Q)&&!Jt(Q)&&(z=zE(s,P.data,P.gc,z,Q),K+=U);l.push(z),u.push(K),m=Math.max(z,m),p=Math.max(K,p)}NG(o,n);const te=l.indexOf(m),L=u.indexOf(p),E=N=>({width:l[N]||0,height:u[N]||0});return{first:E(0),last:E(n-1),widest:E(te),highest:E(L),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Dq(this._alignToPixels?uo(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=jG(this.getContext(),e,i))}return this.$context||(this.$context=CG(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=wo(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>u*s?u/i:f/s:f*s<u*i?f/i:u/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:o,position:l,border:u}=s,f=o.offset,m=this.isHorizontal(),v=this.ticks.length+(f?1:0),b=Uu(o),_=[],A=u.setContext(this.getContext()),C=A.display?A.width:0,j=C/2,P=function(F){return uo(i,F,C)};let U,z,K,Q,te,L,E,N,D,I,O,V;if(l==="top")U=P(this.bottom),L=this.bottom-b,N=U-j,I=P(e.top)+j,V=e.bottom;else if(l==="bottom")U=P(this.top),I=e.top,V=P(e.bottom)-j,L=U+j,N=this.top+b;else if(l==="left")U=P(this.right),te=this.right-b,E=U-j,D=P(e.left)+j,O=e.right;else if(l==="right")U=P(this.left),D=e.left,O=P(e.right)-j,te=U+j,E=this.left+b;else if(n==="x"){if(l==="center")U=P((e.top+e.bottom)/2+.5);else if(Ke(l)){const F=Object.keys(l)[0],$=l[F];U=P(this.chart.scales[F].getPixelForValue($))}I=e.top,V=e.bottom,L=U+j,N=L+b}else if(n==="y"){if(l==="center")U=P((e.left+e.right)/2);else if(Ke(l)){const F=Object.keys(l)[0],$=l[F];U=P(this.chart.scales[F].getPixelForValue($))}te=U-j,E=te-b,D=e.left,O=e.right}const X=Je(s.ticks.maxTicksLimit,v),se=Math.max(1,Math.ceil(v/X));for(z=0;z<v;z+=se){const F=this.getContext(z),$=o.setContext(F),le=u.setContext(F),fe=$.lineWidth,ue=$.color,ve=le.dash||[],xe=le.dashOffset,he=$.tickWidth,ke=$.tickColor,$e=$.tickBorderDash||[],Be=$.tickBorderDashOffset;K=AG(this,z,f),K!==void 0&&(Q=uo(i,K,fe),m?te=E=D=O=Q:L=N=I=V=Q,_.push({tx1:te,ty1:L,tx2:E,ty2:N,x1:D,y1:I,x2:O,y2:V,width:fe,color:ue,borderDash:ve,borderDashOffset:xe,tickWidth:he,tickColor:ke,tickBorderDash:$e,tickBorderDashOffset:Be}))}return this._ticksLength=v,this._borderValue=U,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:m,padding:p,mirror:v}=o,b=Uu(i.grid),_=b+p,A=v?-p:_,C=-wo(this.labelRotation),j=[];let P,U,z,K,Q,te,L,E,N,D,I,O,V="middle";if(s==="top")te=this.bottom-A,L=this._getXAxisLabelAlignment();else if(s==="bottom")te=this.top+A,L=this._getXAxisLabelAlignment();else if(s==="left"){const se=this._getYAxisLabelAlignment(b);L=se.textAlign,Q=se.x}else if(s==="right"){const se=this._getYAxisLabelAlignment(b);L=se.textAlign,Q=se.x}else if(n==="x"){if(s==="center")te=(e.top+e.bottom)/2+_;else if(Ke(s)){const se=Object.keys(s)[0],F=s[se];te=this.chart.scales[se].getPixelForValue(F)+_}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")Q=(e.left+e.right)/2-_;else if(Ke(s)){const se=Object.keys(s)[0],F=s[se];Q=this.chart.scales[se].getPixelForValue(F)}L=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?V="top":f==="end"&&(V="bottom"));const X=this._getLabelSizes();for(P=0,U=u.length;P<U;++P){z=u[P],K=z.label;const se=o.setContext(this.getContext(P));E=this.getPixelForTick(P)+o.labelOffset,N=this._resolveTickFontOptions(P),D=N.lineHeight,I=Jt(K)?K.length:1;const F=I/2,$=se.color,le=se.textStrokeColor,fe=se.textStrokeWidth;let ue=L;l?(Q=E,L==="inner"&&(P===U-1?ue=this.options.reverse?"left":"right":P===0?ue=this.options.reverse?"right":"left":ue="center"),s==="top"?m==="near"||C!==0?O=-I*D+D/2:m==="center"?O=-X.highest.height/2-F*D+D:O=-X.highest.height+D/2:m==="near"||C!==0?O=D/2:m==="center"?O=X.highest.height/2-F*D:O=X.highest.height-I*D,v&&(O*=-1),C!==0&&!se.showLabelBackdrop&&(Q+=D/2*Math.sin(C))):(te=E,O=(1-I)*D/2);let ve;if(se.showLabelBackdrop){const xe=Ri(se.backdropPadding),he=X.heights[P],ke=X.widths[P];let $e=O-xe.top,Be=0-xe.left;switch(V){case"middle":$e-=he/2;break;case"bottom":$e-=he;break}switch(L){case"center":Be-=ke/2;break;case"right":Be-=ke;break;case"inner":P===U-1?Be-=ke:P>0&&(Be-=ke/2);break}ve={left:Be,top:$e,width:ke+xe.width,height:he+xe.height,color:se.backdropColor}}j.push({label:K,font:N,textOffset:O,options:{rotation:C,color:$,strokeColor:le,strokeWidth:fe,textAlign:ue,textBaseline:V,translation:[Q,te],backdrop:ve}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-wo(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=this._getLabelSizes(),u=e+o,f=l.widest.width;let m,p;return n==="left"?s?(p=this.right+o,i==="near"?m="left":i==="center"?(m="center",p+=f/2):(m="right",p+=f)):(p=this.right-u,i==="near"?m="right":i==="center"?(m="center",p-=f/2):(m="left",p=this.left)):n==="right"?s?(p=this.left+o,i==="near"?m="right":i==="center"?(m="center",p-=f/2):(m="left",p-=f)):(p=this.left+u,i==="near"?m="left":i==="center"?(m="center",p+=f/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:o,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,o,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const u=(f,m,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(n.display)for(o=0,l=s.length;o<l;++o){const f=s[o];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,p,v,b;this.isHorizontal()?(m=uo(e,this.left,l)-l/2,p=uo(e,this.right,u)+u/2,v=b=f):(v=uo(e,this.top,l)-l/2,b=uo(e,this.bottom,u)+u/2,m=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,v),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Wb(i,s);const o=this.getLabelItems(e);for(const l of o){const u=l.options,f=l.font,m=l.label,p=l.textOffset;Fd(i,m,0,p,f,u)}s&&Yb(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const o=In(i.font),l=Ri(i.padding),u=i.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||Ke(n)?(f+=l.bottom,Jt(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:m,titleY:p,maxWidth:v,rotation:b}=DG(this,f,n,u);Fd(e,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:b,textAlign:RG(u,n,s),textBaseline:"middle",translation:[m,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Je(e.grid&&e.grid.z,-1),s=Je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Dc.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,l;for(o=0,l=n.length;o<l;++o){const u=n[o];u[i]===this.id&&(!e||u.type===e)&&s.push(u)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return In(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class tm{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;OG(n)&&(i=this.register(n));const s=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,MG(e,l,i),this.override&&Lt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in Lt[s]&&(delete Lt[s][i],this.override&&delete Oo[i])}}function MG(t,e,n){const i=Ud(Object.create(null),[n?Lt.get(n):{},Lt.get(e),t.defaults]);Lt.set(e,i),t.defaultRoutes&&IG(e,t.defaultRoutes),t.descriptors&&Lt.describe(e,t.descriptors)}function IG(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),o=[t].concat(i).join("."),l=e[n].split("."),u=l.pop(),f=l.join(".");Lt.route(o,s,f,u)})}function OG(t){return"id"in t&&"defaults"in t}class PG{constructor(){this.controllers=new tm(sj,"datasets",!0),this.elements=new tm(Rc,"elements"),this.plugins=new tm(Object,"plugins"),this.scales=new tm(Dc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):st(s,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,i){const s=qb(e);gt(i["before"+s],[],i),n[e](i),gt(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var ms=new PG;class VG{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,i,s){s=s||{};for(const o of e){const l=o.plugin,u=l[i],f=[n,s,o.options];if(gt(u,f,l)===!1&&s.cancelable)return!1}return!0}invalidate(){ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=Je(i.options&&i.options.plugins,{}),o=LG(i);return s===!1&&!n?[]:BG(e,o,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function LG(t){const e={},n=[],i=Object.keys(ms.plugins.items);for(let o=0;o<i.length;o++)n.push(ms.getPlugin(i[o]));const s=t.plugins||[];for(let o=0;o<s.length;o++){const l=s[o];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function UG(t,e){return!e&&t===!1?null:t===!0?{}:t}function BG(t,{plugins:e,localIds:n},i,s){const o=[],l=t.getContext();for(const u of e){const f=u.id,m=UG(i[f],s);m!==null&&o.push({plugin:u,options:FG(t.config,{plugin:u,local:n[f]},m,l)})}return o}function FG(t,{plugin:e,local:n},i,s){const o=t.pluginScopeKeys(e),l=t.getOptionScopes(i,o);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jx(t,e){const n=Lt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function zG(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function HG(t,e){return t===e?"_index_":"_value_"}function mk(t){if(t==="x"||t==="y"||t==="r")return t}function qG(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ev(t,...e){if(mk(t))return t;for(const n of e){const i=n.axis||qG(n.position)||t.length>1&&mk(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function gk(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function $G(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return gk(t,"x",n[0])||gk(t,"y",n[0])}return{}}function GG(t,e){const n=Oo[t.type]||{scales:{}},i=e.scales||{},s=Jx(t.type,e),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Ke(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=ev(l,u,$G(l,t),Lt.scales[u.type]),m=HG(f,s),p=n.scales||{};o[l]=dd(Object.create(null),[{axis:f},u,p[f],p[m]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,f=l.indexAxis||Jx(u,e),p=(Oo[u]||{}).scales||{};Object.keys(p).forEach(v=>{const b=zG(v,f),_=l[b+"AxisID"]||b;o[_]=o[_]||Object.create(null),dd(o[_],[{axis:b},i[_],p[v]])})}),Object.keys(o).forEach(l=>{const u=o[l];dd(u,[Lt.scales[u.type],Lt.scale])}),o}function dj(t){const e=t.options||(t.options={});e.plugins=Je(e.plugins,{}),e.scales=GG(t,e)}function hj(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function WG(t){return t=t||{},t.data=hj(t.data),dj(t),t}const pk=new Map,fj=new Set;function nm(t,e){let n=pk.get(t);return n||(n=e(),pk.set(t,n),fj.add(n)),n}const Bu=(t,e,n)=>{const i=mc(e,n);i!==void 0&&t.add(i)};class YG{constructor(e){this._config=WG(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=hj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),dj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return nm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return nm(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return nm(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return nm(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:o}=this,l=this._cachedScopes(e,i),u=l.get(n);if(u)return u;const f=new Set;n.forEach(p=>{e&&(f.add(e),p.forEach(v=>Bu(f,e,v))),p.forEach(v=>Bu(f,s,v)),p.forEach(v=>Bu(f,Oo[o]||{},v)),p.forEach(v=>Bu(f,Lt,v)),p.forEach(v=>Bu(f,Zx,v))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),fj.has(n)&&l.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,Oo[n]||{},Lt.datasets[n]||{},{type:n},Lt,Zx]}resolveNamedOptions(e,n,i,s=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=yk(this._resolverCache,e,s);let f=l;if(XG(l,n)){o.$shared=!1,i=_a(i)?i():i;const m=this.createResolver(e,i,u);f=gc(l,i,m)}for(const m of n)o[m]=f[m];return o}createResolver(e,n,i=[""],s){const{resolver:o}=yk(this._resolverCache,e,i);return Ke(n)?gc(o,n,void 0,s):o}}function yk(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let o=i.get(s);return o||(o={resolver:Kb(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,o)),o}const KG=t=>Ke(t)&&Object.getOwnPropertyNames(t).some(e=>_a(t[e]));function XG(t,e){const{isScriptable:n,isIndexable:i}=X4(t);for(const s of e){const o=n(s),l=i(s),u=(l||o)&&t[s];if(o&&(_a(u)||KG(u))||l&&Jt(u))return!0}return!1}var QG="4.5.0";const ZG=["top","bottom","left","right","chartArea"];function xk(t,e){return t==="top"||t==="bottom"||ZG.indexOf(t)===-1&&e==="x"}function vk(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function bk(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),gt(n&&n.onComplete,[t],e)}function JG(t){const e=t.chart,n=e.options.animation;gt(n&&n.onProgress,[t],e)}function mj(t){return Zb()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Tm={},wk=t=>{const e=mj(t);return Object.values(Tm).filter(n=>n.canvas===e).pop()};function eW(t,e,n){const i=Object.keys(t);for(const s of i){const o=+s;if(o>=e){const l=t[s];delete t[s],(n>0||o>e)&&(t[o+n]=l)}}}function tW(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let Ug=class{static defaults=Lt;static instances=Tm;static overrides=Oo;static registry=ms;static version=QG;static getChart=wk;static register(...e){ms.add(...e),_k()}static unregister(...e){ms.remove(...e),_k()}constructor(e,n){const i=this.config=new YG(n),s=mj(e),o=wk(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||vG(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),f=u&&u.canvas,m=f&&f.height,p=f&&f.width;if(this.id=pq(),this.ctx=u,this.canvas=f,this.width=p,this.height=m,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new VG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Pq(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],Tm[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ir.listen(this,"complete",bk),ir.listen(this,"progress",JG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:o}=this;return ht(e)?n&&o?o:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ms}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():WE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return HE(this.canvas,this.ctx),this}stop(){return ir.stop(this),this}resize(e,n){ir.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,n,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,WE(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),gt(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};st(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const u=n[l],f=ev(l,u),m=f==="r",p=f==="x";return{options:u,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),st(o,l=>{const u=l.options,f=u.id,m=ev(f,u),p=Je(u.type,l.dtype);(u.position===void 0||xk(u.position,m)!==xk(l.dposition))&&(u.position=l.dposition),s[f]=!0;let v=null;if(f in i&&i[f].type===p)v=i[f];else{const b=ms.getScale(p);v=new b({id:f,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),st(s,(l,u)=>{l||delete i[u]}),st(i,l=>{Ai.configure(this,l,l.options),Ai.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,o)=>s.index-o.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(vk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const o=n[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Jx(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=ms.getController(u),{datasetElementType:m,dataElementType:p}=Lt.datasets[u];Object.assign(f,{dataElementType:ms.getElement(p),datasetElementType:m&&ms.getElement(m)}),l.controller=new f(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){st(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:v}=this.getDatasetMeta(m),b=!s&&o.indexOf(v)===-1;v.buildOrUpdateElements(b),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||st(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vk("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){st(this.scales,e=>{Ai.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ME(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of n){const l=i==="_removeElements"?-o:o;eW(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let o=1;o<n;o++)if(!ME(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ai.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],st(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,_a(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ir.has(this)?this.attached&&!ir.running(this)&&ir.start(this):(this.draw(),bk({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=w$(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Wb(n,s),e.controller.draw(),s&&Yb(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return W4(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const o=Z$.modes[n];return typeof o=="function"?o(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=jc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,s);Bd(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ir.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),HE(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Tm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,l)=>{n.addEventListener(this,o,l),e[o]=l},s=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};st(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(f,m)=>{n.addEventListener(this,f,m),e[f]=m},s=(f,m)=>{e[f]&&(n.removeEventListener(this,f,m),delete e[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){st(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},st(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let o,l,u,f;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){l=e[u];const m=l&&this.getDatasetMeta(l.datasetIndex).controller;m&&m[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Jm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,o=(f,m)=>f.filter(p=>!m.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),l=o(n,e),u=i?e:o(e,n);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:o}=this,l=n,u=this._getActiveElements(e,s,i,l),f=_q(e),m=tW(e,this._lastEvent,i,f);i&&(this._lastEvent=null,gt(o.onHover,[e,u,this],this),f&&gt(o.onClick,[e,u,this],this));const p=!Jm(u,s);return(p||n)&&(this._active=u,this._updateHoverStyles(u,s,n)),this._lastEvent=m,p}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}};function _k(){return st(Ug.instances,t=>t._plugins.invalidate())}function gj(t,e){const{x:n,y:i,base:s,width:o,height:l}=t.getProps(["x","y","base","width","height"],e);let u,f,m,p,v;return t.horizontal?(v=l/2,u=Math.min(n,s),f=Math.max(n,s),m=i-v,p=i+v):(v=o/2,u=n-v,f=n+v,m=Math.min(i,s),p=Math.max(i,s)),{left:u,top:m,right:f,bottom:p}}function sa(t,e,n,i){return t?0:Gi(e,n,i)}function nW(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,o=K4(i);return{t:sa(s.top,o.top,0,n),r:sa(s.right,o.right,0,e),b:sa(s.bottom,o.bottom,0,n),l:sa(s.left,o.left,0,e)}}function iW(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,o=ec(s),l=Math.min(e,n),u=t.borderSkipped,f=i||Ke(s);return{topLeft:sa(!f||u.top||u.left,o.topLeft,0,l),topRight:sa(!f||u.top||u.right,o.topRight,0,l),bottomLeft:sa(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:sa(!f||u.bottom||u.right,o.bottomRight,0,l)}}function sW(t){const e=gj(t),n=e.right-e.left,i=e.bottom-e.top,s=nW(t,n/2,i/2),o=iW(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Dy(t,e,n,i){const s=e===null,o=n===null,u=t&&!(s&&o)&&gj(t,i);return u&&(s||Yl(e,u.left,u.right))&&(o||Yl(n,u.top,u.bottom))}function rW(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function aW(t,e){t.rect(e.x,e.y,e.w,e.h)}function My(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,l=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+o,h:t.h+l,radius:t.radius}}class oW extends Rc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:l}=sW(this),u=rW(l.radius)?ig:aW;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),u(e,My(l,n,o)),e.clip(),u(e,My(o,-n,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,My(o,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Dy(this,e,n,i)}inXRange(e,n){return Dy(this,e,null,n)}inYRange(e,n){return Dy(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+s)/2:n,y:o?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Tk=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},lW=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Sk extends Rc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=gt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=In(i.font),o=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=Tk(i,o);let m,p;n.font=s.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(l,o,u,f)+10):(p=this.maxHeight,m=this._fitCols(l,s,u,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],p=s+u;let v=e;o.textAlign="left",o.textBaseline="middle";let b=-1,_=-p;return this.legendItems.forEach((A,C)=>{const j=i+n/2+o.measureText(A.text).width;(C===0||m[m.length-1]+j+2*u>l)&&(v+=p,m[m.length-(C>0?0:1)]=0,_+=p,b++),f[C]={left:0,top:_,row:b,width:j,height:s},m[m.length-1]+=j+u}),v}_fitCols(e,n,i,s){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],p=l-e;let v=u,b=0,_=0,A=0,C=0;return this.legendItems.forEach((j,P)=>{const{itemWidth:U,itemHeight:z}=cW(i,n,o,j,s);P>0&&_+z+2*u>p&&(v+=b+u,m.push({width:b,height:_}),A+=b+u,C++,b=_=0),f[P]={left:A,top:_,col:C,width:U,height:z},b=Math.max(b,U),_+=z+u}),v+=b,m.push({width:b,height:_}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:o}}=this,l=tc(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=jn(i,this.left+s,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,f=jn(i,this.left+s,this.right-this.lineWidths[u])),m.top+=this.top+e+s,m.left=l.leftForLtr(l.x(f),m.width),f+=m.width+s}else{let u=0,f=jn(i,this.top+e+s,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,f=jn(i,this.top+e+s,this.bottom-this.columnSizes[u].height)),m.top=f,m.left+=this.left+s,m.left=l.leftForLtr(l.x(m.left),m.width),f+=m.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Wb(e,this),this._draw(),Yb(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:o,labels:l}=e,u=Lt.color,f=tc(e.rtl,this.left,this.width),m=In(l.font),{padding:p}=l,v=m.size,b=v/2;let _;this.drawTitle(),s.textAlign=f.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=m.string;const{boxWidth:A,boxHeight:C,itemHeight:j}=Tk(l,v),P=function(te,L,E){if(isNaN(A)||A<=0||isNaN(C)||C<0)return;s.save();const N=Je(E.lineWidth,1);if(s.fillStyle=Je(E.fillStyle,u),s.lineCap=Je(E.lineCap,"butt"),s.lineDashOffset=Je(E.lineDashOffset,0),s.lineJoin=Je(E.lineJoin,"miter"),s.lineWidth=N,s.strokeStyle=Je(E.strokeStyle,u),s.setLineDash(Je(E.lineDash,[])),l.usePointStyle){const D={radius:C*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:N},I=f.xPlus(te,A/2),O=L+b;G4(s,D,I,O,l.pointStyleWidth&&A)}else{const D=L+Math.max((v-C)/2,0),I=f.leftForLtr(te,A),O=ec(E.borderRadius);s.beginPath(),Object.values(O).some(V=>V!==0)?ig(s,{x:I,y:D,w:A,h:C,radius:O}):s.rect(I,D,A,C),s.fill(),N!==0&&s.stroke()}s.restore()},U=function(te,L,E){Fd(s,E.text,te,L+j/2,m,{strikethrough:E.hidden,textAlign:f.textAlign(E.textAlign)})},z=this.isHorizontal(),K=this._computeTitleHeight();z?_={x:jn(o,this.left+p,this.right-i[0]),y:this.top+p+K,line:0}:_={x:this.left+p,y:jn(o,this.top+K+p,this.bottom-n[0].height),line:0},ej(this.ctx,e.textDirection);const Q=j+p;this.legendItems.forEach((te,L)=>{s.strokeStyle=te.fontColor,s.fillStyle=te.fontColor;const E=s.measureText(te.text).width,N=f.textAlign(te.textAlign||(te.textAlign=l.textAlign)),D=A+b+E;let I=_.x,O=_.y;f.setWidth(this.width),z?L>0&&I+D+p>this.right&&(O=_.y+=Q,_.line++,I=_.x=jn(o,this.left+p,this.right-i[_.line])):L>0&&O+Q>this.bottom&&(I=_.x=I+n[_.line].width+p,_.line++,O=_.y=jn(o,this.top+K+p,this.bottom-n[_.line].height));const V=f.x(I);if(P(V,O,te),I=Vq(N,I+A+b,z?I+D:this.right,e.rtl),U(f.x(I),O,te),z)_.x+=D+p;else if(typeof te.text!="string"){const X=m.lineHeight;_.y+=pj(te,X)+p}else _.y+=Q}),tj(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=In(n.font),s=Ri(n.padding);if(!n.display)return;const o=tc(e.rtl,this.left,this.width),l=this.ctx,u=n.position,f=i.size/2,m=s.top+f;let p,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+m,v=jn(e.align,v,this.right-b);else{const A=this.columnSizes.reduce((C,j)=>Math.max(C,j.height),0);p=m+jn(e.align,this.top,this.bottom-A-e.labels.padding-this._computeTitleHeight())}const _=jn(u,v,v+b);l.textAlign=o.textAlign(Gb(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,Fd(l,n.text,_,p,i)}_computeTitleHeight(){const e=this.options.title,n=In(e.font),i=Ri(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,o;if(Yl(e,this.left,this.right)&&Yl(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],Yl(e,s.left,s.left+s.width)&&Yl(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!hW(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=lW(s,i);s&&!o&&gt(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!o&&gt(n.onHover,[e,i,this],this)}else i&&gt(n.onClick,[e,i,this],this)}}function cW(t,e,n,i,s){const o=uW(i,t,e,n),l=dW(s,i,e.lineHeight);return{itemWidth:o,itemHeight:l}}function uW(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((o,l)=>o.length>l.length?o:l)),e+n.size/2+i.measureText(s).width}function dW(t,e,n){let i=t;return typeof e.text!="string"&&(i=pj(e,n)),i}function pj(t,e){const n=t.text?t.text.length:0;return e*n}function hW(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var fW={id:"legend",_element:Sk,start(t,e,n){const i=t.legend=new Sk({ctx:t.ctx,options:n,chart:t});Ai.configure(t,i,n),Ai.addBox(t,i)},stop(t){Ai.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ai.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(n?0:void 0),p=Ri(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:s||m.textAlign,borderRadius:l&&(u||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class yj extends Rc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Jt(i.text)?i.text.length:1;this._padding=Ri(i.padding);const o=s*In(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:o,options:l}=this,u=l.align;let f=0,m,p,v;return this.isHorizontal()?(p=jn(u,i,o),v=n+e,m=o-i):(l.position==="left"?(p=i+e,v=jn(u,s,n),f=On*-.5):(p=o-e,v=jn(u,n,s),f=On*.5),m=s-n),{titleX:p,titleY:v,maxWidth:m,rotation:f}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=In(n.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:m}=this._drawArgs(o);Fd(e,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:m,textAlign:Gb(n.align),textBaseline:"middle",translation:[l,u]})}}function mW(t,e){const n=new yj({ctx:t.ctx,options:e,chart:t});Ai.configure(t,n,e),Ai.addBox(t,n),t.titleBlock=n}var gW={id:"title",_element:yj,start(t,e,n){mW(t,n)},stop(t){const e=t.titleBlock;Ai.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ai.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xu={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),s+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:s/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=t.length;o<l;++o){const f=t[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),p=jq(e,m);p<s&&(s=p,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,i=f.y}return{x:n,y:i}}};function fs(t,e){return e&&(Jt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function sr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function pW(t,e){const{element:n,datasetIndex:i,index:s}=e,o=t.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(s);return{chart:t,label:l,parsed:o.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:u,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Ek(t,e){const n=t.chart.ctx,{body:i,footer:s,title:o}=t,{boxWidth:l,boxHeight:u}=e,f=In(e.bodyFont),m=In(e.titleFont),p=In(e.footerFont),v=o.length,b=s.length,_=i.length,A=Ri(e.padding);let C=A.height,j=0,P=i.reduce((K,Q)=>K+Q.before.length+Q.lines.length+Q.after.length,0);if(P+=t.beforeBody.length+t.afterBody.length,v&&(C+=v*m.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),P){const K=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;C+=_*K+(P-_)*f.lineHeight+(P-1)*e.bodySpacing}b&&(C+=e.footerMarginTop+b*p.lineHeight+(b-1)*e.footerSpacing);let U=0;const z=function(K){j=Math.max(j,n.measureText(K).width+U)};return n.save(),n.font=m.string,st(t.title,z),n.font=f.string,st(t.beforeBody.concat(t.afterBody),z),U=e.displayColors?l+2+e.boxPadding:0,st(i,K=>{st(K.before,z),st(K.lines,z),st(K.after,z)}),U=0,n.font=p.string,st(t.footer,z),n.restore(),j+=A.width,{width:j,height:C}}function yW(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function xW(t,e,n,i){const{x:s,width:o}=i,l=n.caretSize+n.caretPadding;if(t==="left"&&s+o+l>e.width||t==="right"&&s-o-l<0)return!0}function vW(t,e,n,i){const{x:s,width:o}=n,{width:l,chartArea:{left:u,right:f}}=t;let m="center";return i==="center"?m=s<=(u+f)/2?"left":"right":s<=o/2?m="left":s>=l-o/2&&(m="right"),xW(m,t,e,n)&&(m="center"),m}function kk(t,e,n){const i=n.yAlign||e.yAlign||yW(t,n);return{xAlign:n.xAlign||e.xAlign||vW(t,e,n,i),yAlign:i}}function bW(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function wW(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function Ak(t,e,n,i){const{caretSize:s,caretPadding:o,cornerRadius:l}=t,{xAlign:u,yAlign:f}=n,m=s+o,{topLeft:p,topRight:v,bottomLeft:b,bottomRight:_}=ec(l);let A=bW(e,u);const C=wW(e,f,m);return f==="center"?u==="left"?A+=m:u==="right"&&(A-=m):u==="left"?A-=Math.max(p,b)+s:u==="right"&&(A+=Math.max(v,_)+s),{x:Gi(A,0,i.width-e.width),y:Gi(C,0,i.height-e.height)}}function im(t,e,n){const i=Ri(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Nk(t){return fs([],sr(t))}function _W(t,e,n){return jc(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Ck(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const xj={beforeTitle:nr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:nr,beforeBody:nr,beforeLabel:nr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ht(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:nr,afterBody:nr,beforeFooter:nr,footer:nr,afterFooter:nr};function Wn(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?xj[e].call(n,i):s}class jk extends Rc{static positioners=Xu;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,o=new nj(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=_W(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=Wn(i,"beforeTitle",this,e),o=Wn(i,"title",this,e),l=Wn(i,"afterTitle",this,e);let u=[];return u=fs(u,sr(s)),u=fs(u,sr(o)),u=fs(u,sr(l)),u}getBeforeBody(e,n){return Nk(Wn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return st(e,o=>{const l={before:[],lines:[],after:[]},u=Ck(i,o);fs(l.before,sr(Wn(u,"beforeLabel",this,o))),fs(l.lines,Wn(u,"label",this,o)),fs(l.after,sr(Wn(u,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(e,n){return Nk(Wn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=Wn(i,"beforeFooter",this,e),o=Wn(i,"footer",this,e),l=Wn(i,"afterFooter",this,e);let u=[];return u=fs(u,sr(s)),u=fs(u,sr(o)),u=fs(u,sr(l)),u}_createItems(e){const n=this._active,i=this.chart.data,s=[],o=[],l=[];let u=[],f,m;for(f=0,m=n.length;f<m;++f)u.push(pW(this.chart,n[f]));return e.filter&&(u=u.filter((p,v,b)=>e.filter(p,v,b,i))),e.itemSort&&(u=u.sort((p,v)=>e.itemSort(p,v,i))),st(u,p=>{const v=Ck(e.callbacks,p);s.push(Wn(v,"labelColor",this,p)),o.push(Wn(v,"labelPointStyle",this,p)),l.push(Wn(v,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const u=Xu[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=Ek(this,i),m=Object.assign({},u,f),p=kk(this.chart,i,m),v=Ak(i,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const o=this.getCaretPosition(e,i,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:v}=ec(u),{x:b,y:_}=e,{width:A,height:C}=n;let j,P,U,z,K,Q;return o==="center"?(K=_+C/2,s==="left"?(j=b,P=j-l,z=K+l,Q=K-l):(j=b+A,P=j+l,z=K-l,Q=K+l),U=j):(s==="left"?P=b+Math.max(f,p)+l:s==="right"?P=b+A-Math.max(m,v)-l:P=this.caretX,o==="top"?(z=_,K=z-l,j=P-l,U=P+l):(z=_+C,K=z+l,j=P+l,U=P-l),Q=z),{x1:j,x2:P,x3:U,y1:z,y2:K,y3:Q}}drawTitle(e,n,i){const s=this.title,o=s.length;let l,u,f;if(o){const m=tc(i.rtl,this.x,this.width);for(e.x=im(this,i.titleAlign,i),n.textAlign=m.textAlign(i.titleAlign),n.textBaseline="middle",l=In(i.titleFont),u=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,f=0;f<o;++f)n.fillText(s[f],m.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,f+1===o&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,n,i,s,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,p=In(o.bodyFont),v=im(this,"left",o),b=s.x(v),_=f<p.lineHeight?(p.lineHeight-f)/2:0,A=n.y+_;if(o.usePointStyle){const C={radius:Math.min(m,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},j=s.leftForLtr(b,m)+m/2,P=A+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,qE(e,C,j,P),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,qE(e,C,j,P)}else{e.lineWidth=Ke(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const C=s.leftForLtr(b,m),j=s.leftForLtr(s.xPlus(b,1),m-2),P=ec(l.borderRadius);Object.values(P).some(U=>U!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,ig(e,{x:C,y:A,w:m,h:f,radius:P}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),ig(e,{x:j,y:A+1,w:m-2,h:f-2,radius:P}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(C,A,m,f),e.strokeRect(C,A,m,f),e.fillStyle=l.backgroundColor,e.fillRect(j,A+1,m-2,f-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:m,boxPadding:p}=i,v=In(i.bodyFont);let b=v.lineHeight,_=0;const A=tc(i.rtl,this.x,this.width),C=function(E){n.fillText(E,A.x(e.x+_),e.y+b/2),e.y+=b+o},j=A.textAlign(l);let P,U,z,K,Q,te,L;for(n.textAlign=l,n.textBaseline="middle",n.font=v.string,e.x=im(this,j,i),n.fillStyle=i.bodyColor,st(this.beforeBody,C),_=u&&j!=="right"?l==="center"?m/2+p:m+2+p:0,K=0,te=s.length;K<te;++K){for(P=s[K],U=this.labelTextColors[K],n.fillStyle=U,st(P.before,C),z=P.lines,u&&z.length&&(this._drawColorBox(n,e,K,A,i),b=Math.max(v.lineHeight,f)),Q=0,L=z.length;Q<L;++Q)C(z[Q]),b=v.lineHeight;st(P.after,C)}_=0,b=v.lineHeight,st(this.afterBody,C),e.y-=o}drawFooter(e,n,i){const s=this.footer,o=s.length;let l,u;if(o){const f=tc(i.rtl,this.x,this.width);for(e.x=im(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=f.textAlign(i.footerAlign),n.textBaseline="middle",l=In(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,u=0;u<o;++u)n.fillText(s[u],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=e,{width:m,height:p}=i,{topLeft:v,topRight:b,bottomLeft:_,bottomRight:A}=ec(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(u+v,f),l==="top"&&this.drawCaret(e,n,i,s),n.lineTo(u+m-b,f),n.quadraticCurveTo(u+m,f,u+m,f+b),l==="center"&&o==="right"&&this.drawCaret(e,n,i,s),n.lineTo(u+m,f+p-A),n.quadraticCurveTo(u+m,f+p,u+m-A,f+p),l==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(u+_,f+p),n.quadraticCurveTo(u,f+p,u,f+p-_),l==="center"&&o==="left"&&this.drawCaret(e,n,i,s),n.lineTo(u,f+v),n.quadraticCurveTo(u,f,u+v,f),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const l=Xu[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Ek(this,e),f=Object.assign({},l,this._size),m=kk(n,e,f),p=Ak(e,f,m,n);(s._to!==p.x||o._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ri(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,s,n),ej(e,n.textDirection),o.y+=l.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),tj(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:u,index:f})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[f],index:f}}),o=!Jm(i,s),l=this._positionChanged(s,n);(o||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(e,o,n,i),u=this._positionChanged(l,e),f=n||!Jm(l,o)||u;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,i,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:i,caretY:s,options:o}=this,l=Xu[o.position].call(this,e,n);return l!==!1&&(i!==l.x||s!==l.y)}}var TW={id:"tooltip",_element:jk,positioners:Xu,afterInit(t,e,n){n&&(t.tooltip=new jk({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SW=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function EW(t,e,n,i){const s=t.indexOf(e);if(s===-1)return SW(t,e,n,i);const o=t.lastIndexOf(e);return s!==o?n:s}const kW=(t,e)=>t===null?null:Gi(Math.round(t),0,e);function Rk(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class AW extends Dc{static id="category";static defaults={ticks:{callback:Rk}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:o}of n)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ht(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:EW(i,e,Je(n,e),this._addedLabels),kW(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=n;l++)s.push({value:l});return s}getLabelForValue(e){return Rk.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function NW(t,e){const n=[],{bounds:s,step:o,min:l,max:u,precision:f,count:m,maxTicks:p,maxDigits:v,includeBounds:b}=t,_=o||1,A=p-1,{min:C,max:j}=e,P=!ht(l),U=!ht(u),z=!ht(m),K=(j-C)/(v+1);let Q=OE((j-C)/A/_)*_,te,L,E,N;if(Q<1e-14&&!P&&!U)return[{value:C},{value:j}];N=Math.ceil(j/Q)-Math.floor(C/Q),N>A&&(Q=OE(N*Q/A/_)*_),ht(f)||(te=Math.pow(10,f),Q=Math.ceil(Q*te)/te),s==="ticks"?(L=Math.floor(C/Q)*Q,E=Math.ceil(j/Q)*Q):(L=C,E=j),P&&U&&o&&kq((u-l)/o,Q/1e3)?(N=Math.round(Math.min((u-l)/Q,p)),Q=(u-l)/N,L=l,E=u):z?(L=P?l:L,E=U?u:E,N=m-1,Q=(E-L)/N):(N=(E-L)/Q,wm(N,Math.round(N),Q/1e3)?N=Math.round(N):N=Math.ceil(N));const D=Math.max(PE(Q),PE(L));te=Math.pow(10,ht(f)?D:f),L=Math.round(L*te)/te,E=Math.round(E*te)/te;let I=0;for(P&&(b&&L!==l?(n.push({value:l}),L<l&&I++,wm(Math.round((L+I*Q)*te)/te,l,Dk(l,K,t))&&I++):L<l&&I++);I<N;++I){const O=Math.round((L+I*Q)*te)/te;if(U&&O>u)break;n.push({value:O})}return U&&b&&E!==u?n.length&&wm(n[n.length-1].value,u,Dk(u,K,t))?n[n.length-1].value=u:n.push({value:u}):(!U||E===u)&&n.push({value:E}),n}function Dk(t,e,{horizontal:n,minRotation:i}){const s=wo(i),o=(n?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+t).length;return Math.min(e/o,l)}class CW extends Dc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ht(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const l=f=>s=n?s:f,u=f=>o=i?o:f;if(e){const f=ha(s),m=ha(o);f<0&&m<0?u(0):f>0&&m>0&&l(0)}if(s===o){let f=o===0?1:Math.abs(o*.05);u(o+f),e||l(s-f)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=NW(s,o);return e.bounds==="ticks"&&Aq(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return q4(e,this.chart.options.locale,this.options.ticks.format)}}class jW extends CW{static id="linear";static defaults={ticks:{callback:$4.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ji(e)?e:0,this.max=ji(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=wo(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Bg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kn=Object.keys(Bg);function Mk(t,e){return t-e}function Ik(t,e){if(ht(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:o}=t._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),ji(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(ng(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,s)),+l)}function Ok(t,e,n,i){const s=Kn.length;for(let o=Kn.indexOf(t);o<s-1;++o){const l=Bg[Kn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=i)return Kn[o]}return Kn[s-1]}function RW(t,e,n,i,s){for(let o=Kn.length-1;o>=Kn.indexOf(n);o--){const l=Kn[o];if(Bg[l].common&&t._adapter.diff(s,i,l)>=e-1)return l}return Kn[n?Kn.indexOf(n):0]}function DW(t){for(let e=Kn.indexOf(t)+1,n=Kn.length;e<n;++e)if(Bg[Kn[e]].common)return Kn[e]}function Pk(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=$b(n,e),o=n[i]>=e?n[i]:n[s];t[o]=!0}}function MW(t,e,n,i){const s=t._adapter,o=+s.startOf(e[0].value,i),l=e[e.length-1].value;let u,f;for(u=o;u<=l;u=+s.add(u,1,i))f=n[u],f>=0&&(e[f].major=!0);return e}function Vk(t,e,n){const i=[],s={},o=e.length;let l,u;for(l=0;l<o;++l)u=e[l],s[u]=l,i.push({value:u,major:!1});return o===0||!n?i:MW(t,i,s,n)}class Lk extends Dc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new W$._date(e.adapters.date);s.init(n),dd(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Ik(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(m){!l&&!isNaN(m.min)&&(s=Math.min(s,m.min)),!u&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!l||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),s=ji(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),o=ji(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=this.max,u=Iq(s,o,l);return this._unit=n.unit||(i.autoSkip?Ok(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):RW(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:DW(this._unit),this.initOffsets(s),e.reverse&&u.reverse(),Vk(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Gi(n,0,l),i=Gi(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,o=s.time,l=o.unit||Ok(o.minUnit,n,i,this._getLabelCapacity(n)),u=Je(s.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,m=ng(f)||f===!0,p={};let v=n,b,_;if(m&&(v=+e.startOf(v,"isoWeek",f)),v=+e.startOf(v,m?"day":l),e.diff(i,n,l)>1e5*u)throw new Error(n+" and "+i+" are too far apart with stepSize of "+u+" "+l);const A=s.ticks.source==="data"&&this.getDataTimestamps();for(b=v,_=0;b<i;b=+e.add(b,u,l),_++)Pk(p,b,A);return(b===i||s.bounds==="ticks"||_===1)&&Pk(p,b,A),Object.keys(p).sort(Mk).map(C=>+C)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,o=this._unit,l=n||s[o];return this._adapter.format(e,l)}_tickFormatFunction(e,n,i,s){const o=this.options,l=o.ticks.callback;if(l)return gt(l,[e,n,i],this);const u=o.time.displayFormats,f=this._unit,m=this._majorUnit,p=f&&u[f],v=m&&u[m],b=i[n],_=m&&v&&b&&b.major;return this._adapter.format(e,s||(_?v:p))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=wo(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Vk(this,[e],this._majorUnit),s),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(Ik(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return B4(e.sort(Mk))}}function sm(t,e,n){let i=0,s=t.length-1,o,l,u,f;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Qx(t,"pos",e)),{pos:o,time:u}=t[i],{pos:l,time:f}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Qx(t,"time",e)),{time:o,pos:u}=t[i],{time:l,pos:f}=t[s]);const m=l-o;return m?u+(f-u)*(e-o)/m:u}class aY extends Lk{static id="timeseries";static defaults=Lk.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=sm(n,this.min),this._tableRange=sm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],o=[];let l,u,f,m,p;for(l=0,u=e.length;l<u;++l)m=e[l],m>=n&&m<=i&&s.push(m);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],f=s[l-1],m=s[l],Math.round((p+f)/2)!==m&&o.push({time:m,pos:l/(u-1)});return o}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(sm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return sm(this._table,i*this._tableRange+this._minPos,!0)}}const vj="label";function Uk(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function IW(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function bj(t,e){t.labels=e}function wj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vj;const i=[];t.datasets=e.map(s=>{const o=t.datasets.find(l=>l[n]===s[n]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function OW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vj;const n={labels:[],datasets:[]};return bj(n,t.labels),wj(n,t.datasets,e),n}function PW(t,e){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:l,data:u,options:f,plugins:m=[],fallbackContent:p,updateMode:v,...b}=t,_=k.useRef(null),A=k.useRef(null),C=()=>{_.current&&(A.current=new Ug(_.current,{type:l,data:OW(u,o),options:f&&{...f},plugins:m}),Uk(e,A.current))},j=()=>{Uk(e,null),A.current&&(A.current.destroy(),A.current=null)};return k.useEffect(()=>{!s&&A.current&&f&&IW(A.current,f)},[s,f]),k.useEffect(()=>{!s&&A.current&&bj(A.current.config.data,u.labels)},[s,u.labels]),k.useEffect(()=>{!s&&A.current&&u.datasets&&wj(A.current.config.data,u.datasets,o)},[s,u.datasets]),k.useEffect(()=>{A.current&&(s?(j(),setTimeout(C)):A.current.update(v))},[s,f,u.labels,u.datasets,v]),k.useEffect(()=>{A.current&&(j(),setTimeout(C))},[l]),k.useEffect(()=>(C(),()=>j()),[]),Co.createElement("canvas",{ref:_,role:"img",height:n,width:i,...b},p)}const VW=k.forwardRef(PW);function LW(t,e){return Ug.register(e),k.forwardRef((n,i)=>Co.createElement(VW,{...n,ref:i,type:t}))}const UW=LW("bar",G$);Ug.register(AW,jW,oW,gW,TW,fW);const BW=()=>{const{user:t}=Qn(),{appointments:e}=ch(),n=Fk(),i=e.filter(f=>f.doctorId===t.id),s=i.filter(f=>f.status==="Pending"),o=i.filter(f=>f.status==="Confirmed"),l=i.filter(f=>f.status==="Rejected"),u=n.pathname==="/doctor"||n.pathname==="/doctor/";return d.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-gray-900 dark:to-gray-800 min-h-full",children:u?d.jsx(FW,{user:t,appointments:i,pendingAppointments:s,confirmedAppointments:o,rejectedAppointments:l}):d.jsx(zk,{})})},FW=({user:t,appointments:e,pendingAppointments:n,confirmedAppointments:i,rejectedAppointments:s})=>{const o={labels:["Accepted","Rejected","Pending"],datasets:[{label:"Appointments",data:[i.length,s.length,n.length],backgroundColor:["rgba(34,197,94,0.7)","rgba(239,68,68,0.7)","rgba(253,224,71,0.7)"],borderRadius:8}]},l={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Appointment Status Overview",color:"#2563eb",font:{size:18,weight:"bold"}}},animation:{duration:1200,easing:"easeOutBounce"},scales:{x:{grid:{display:!1},ticks:{color:"#2563eb",font:{size:14,weight:"bold"}}},y:{beginAtZero:!0,grid:{color:"#e0e7ff"},ticks:{color:"#2563eb",font:{size:14,weight:"bold"}}}}};return d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold text-blue-700 dark:text-blue-100 mb-2 animate-fade-in",children:["Welcome, Dr. ",t.name,"!"]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 animate-fade-in-slow",children:"Heres a quick overview of your dashboard."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[d.jsx(Iy,{title:"Total Appointments",value:e.length,color:"from-blue-400 to-blue-600",icon:""}),d.jsx(Iy,{title:"Accepted",value:i.length,color:"from-green-400 to-green-600",icon:""}),d.jsx(Iy,{title:"Rejected",value:s.length,color:"from-red-400 to-red-600",icon:""})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-10 animate-fade-in-slow",children:d.jsx(UW,{data:o,options:l})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsx(Oy,{title:"Pending Requests",value:n.length,description:"New appointment requests awaiting your action.",color:"bg-yellow-100 text-yellow-800",icon:""}),d.jsx(Oy,{title:"Open Patient Cases",value:e.length,description:"Total open cases you are handling.",color:"bg-blue-100 text-blue-800",icon:""}),d.jsx(Oy,{title:"Your Performance",value:e.length>0?`${Math.round(i.length/e.length*100)}%`:"0%",description:"Acceptance rate of appointments.",color:"bg-green-100 text-green-800",icon:""})]})]})},Iy=({title:t,value:e,color:n,icon:i})=>d.jsxs("div",{className:`bg-gradient-to-br ${n} rounded-xl shadow-md p-6 flex flex-col items-center justify-center animate-fade-in`,children:[d.jsx("span",{className:"text-4xl mb-2",children:i}),d.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:t}),d.jsx("p",{className:"text-2xl font-bold text-white",children:e})]}),Oy=({title:t,value:e,description:n,color:i,icon:s})=>d.jsxs("div",{className:`rounded-xl shadow-md p-6 flex flex-col gap-2 ${i} animate-fade-in`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:s}),d.jsx("h4",{className:"font-bold text-lg",children:t})]}),d.jsx("p",{className:"text-3xl font-extrabold",children:e}),d.jsx("p",{className:"text-sm",children:n})]}),_j=document.createElement("style");_j.innerHTML=`
@keyframes fade-in { from { opacity: 0; transform: translateY(20px);} to { opacity: 1; transform: none;} }
.animate-fade-in { animation: fade-in 0.8s ease; }
.animate-fade-in-slow { animation: fade-in 1.5s ease; }
`;document.head.appendChild(_j);const zW=()=>{const t=[{name:"Pending Orders",value:"12",icon:pr,color:"text-yellow-600 dark:text-yellow-400"},{name:"Completed Today",value:"28",icon:Tg,color:"text-green-600 dark:text-green-400"},{name:"Total Prescriptions",value:"156",icon:kd,color:"text-blue-600 dark:text-blue-400"},{name:"Out for Delivery",value:"8",icon:D9,color:"text-purple-600 dark:text-purple-400"}],e=[{id:"RX001",patient:"John Doe",doctor:"Dr. Smith",medicines:["Metformin 500mg","Lisinopril 10mg"],priority:"high",submittedAt:"2 hours ago"},{id:"RX002",patient:"Sarah Wilson",doctor:"Dr. Johnson",medicines:["Vitamin D3","Calcium tablets"],priority:"normal",submittedAt:"4 hours ago"},{id:"RX003",patient:"Michael Brown",doctor:"Dr. Davis",medicines:["Ibuprofen 400mg"],priority:"low",submittedAt:"6 hours ago"}];return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Pharmacy Dashboard"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage prescriptions and track orders efficiently."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(n=>d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm dark:shadow-gray-900/50 border border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:n.name}),d.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:n.value})]}),d.jsx("div",{className:`p-3 rounded-lg bg-gray-100 dark:bg-gray-700 ${n.color}`,children:d.jsx(n.icon,{className:"h-6 w-6"})})]})},n.name))}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm dark:shadow-gray-900/50 border border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Pending Prescription Orders"}),d.jsx("button",{className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 text-sm font-medium",children:"View All Orders"})]}),d.jsx("div",{className:"space-y-4",children:e.map(n=>d.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-primary-200 dark:hover:border-primary-600 transition-colors",children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("span",{className:"font-mono text-sm bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-gray-800 dark:text-gray-200",children:n.id}),d.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n.priority==="high"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":n.priority==="normal"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:[n.priority," priority"]})]}),d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.submittedAt})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Patient"}),d.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:n.patient})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Prescribed by"}),d.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:n.doctor})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Medicines"}),d.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:[n.medicines.length," items"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2",children:"Prescribed Medicines:"}),d.jsx("div",{className:"space-y-1",children:n.medicines.map((i,s)=>d.jsx("span",{className:"inline-block bg-medical-50 dark:bg-medical-900/20 text-medical-700 dark:text-medical-300 px-2 py-1 rounded-md text-sm mr-2",children:i},s))})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{className:"px-4 py-2 text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Review Details"}),d.jsx("button",{className:"px-4 py-2 bg-primary-600 dark:bg-primary-500 text-white rounded-lg hover:bg-primary-700 dark:hover:bg-primary-600 transition-colors",children:"Process Order"})]})]},n.id))})]})]})},Py=()=>{const{user:t,loading:e}=Qn(),[n,i]=k.useState(!1),[s,o]=k.useState({name:"",email:"",contact:"",specialization:"",licenseNumber:"",experience:"",pharmacyName:"",pharmacyAddress:""});k.useEffect(()=>{t&&o({name:t.name||"",email:t.email||"",contact:t.contact||"",specialization:t.specialization||"",licenseNumber:t.licenseNumber||"",experience:t.experience||"",pharmacyName:t.pharmacyName||"",pharmacyAddress:t.pharmacyAddress||""})},[t]);const l=m=>{const{name:p,value:v}=m.target;o(b=>({...b,[p]:v}))},u=()=>{i(!n)},f=m=>{m.preventDefault(),console.log("Updated profile data:",s),i(!1)};return e?d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx(Cc,{size:"lg"})}):t?d.jsx("div",{className:"container mx-auto p-4 md:p-8",children:d.jsx("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:d.jsxs("div",{className:"p-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"My Profile"}),d.jsxs("form",{onSubmit:f,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"name",className:"block text-gray-700 font-semibold mb-2",children:"Full Name"}),d.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-semibold mb-2",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"contact",className:"block text-gray-700 font-semibold mb-2",children:"Contact Number"}),d.jsx("input",{type:"tel",id:"contact",name:"contact",value:s.contact,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),t.role==="doctor"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"specialization",className:"block text-gray-700 font-semibold mb-2",children:"Specialization"}),d.jsx("input",{type:"text",id:"specialization",name:"specialization",value:s.specialization,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"licenseNumber",className:"block text-gray-700 font-semibold mb-2",children:"Medical License Number"}),d.jsx("input",{type:"text",id:"licenseNumber",name:"licenseNumber",value:s.licenseNumber,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"experience",className:"block text-gray-700 font-semibold mb-2",children:"Years of Experience"}),d.jsx("input",{type:"number",id:"experience",name:"experience",value:s.experience,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]})]}),t.role==="pharmacist"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"licenseNumber",className:"block text-gray-700 font-semibold mb-2",children:"Pharmacy License Number"}),d.jsx("input",{type:"text",id:"licenseNumber",name:"licenseNumber",value:s.licenseNumber,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{htmlFor:"pharmacyName",className:"block text-gray-700 font-semibold mb-2",children:"Pharmacy Name"}),d.jsx("input",{type:"text",id:"pharmacyName",name:"pharmacyName",value:s.pharmacyName,onChange:l,disabled:!n,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{htmlFor:"pharmacyAddress",className:"block text-gray-700 font-semibold mb-2",children:"Pharmacy Address"}),d.jsx("textarea",{id:"pharmacyAddress",name:"pharmacyAddress",value:s.pharmacyAddress,onChange:l,disabled:!n,rows:"3",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"})]})]}),d.jsxs("div",{className:"flex items-center justify-end gap-4",children:[d.jsx("button",{type:"button",onClick:u,className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:n?"Cancel":"Edit Profile"}),n&&d.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})]})})}):d.jsx("div",{className:"text-center mt-8",children:"Please log in to view your profile."})},HW={confirmed:"bg-green-500",pending:"bg-yellow-500",cancelled:"bg-red-500",rejected:"bg-red-500"},qW=()=>{const{user:t}=Qn(),{appointments:e,bookAppointment:n,updateAppointmentStatus:i,cancelAppointment:s}=ch(),[o,l]=k.useState({patientName:"",date:"",time:""}),u=k.useMemo(()=>{const b=new Date;return e.filter(_=>_.doctorId===t.id).map(_=>{const A=_.time||"09:00",C=_.patient||(_.patientId?pV(_.patientId):{name:"N/A"}),j=_.status||"Pending";let P=new Date(`${_.date}T${A.replace(" ","")}`);return isNaN(P)&&(P=new Date(_.date)),{..._,patient:C,time:A,status:j,isUpcoming:P>=b&&j!=="Cancelled"&&j!=="Rejected"}}).sort((_,A)=>new Date(_.date)-new Date(A.date))},[e,t.id]),f=b=>{l({...o,[b.target.name]:b.target.value})},m=b=>{b.preventDefault(),o.patientName&&o.date&&(n({doctorId:t.id,patient:{name:o.patientName,email:`${o.patientName}@demo.com`},date:o.date,time:o.time||"09:00"}),l({patientName:"",date:"",time:""}))},p=b=>HW[b.toLowerCase()]||"bg-gray-500",v=({apt:b})=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden relative flex flex-col justify-between transition hover:scale-[1.02] duration-200",children:[d.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 text-white text-xs font-bold rounded-full bg-blue-500",children:b.isUpcoming?"Upcoming":"Past"}),d.jsx("div",{className:`h-2 ${p(b.status)}`}),d.jsxs("div",{className:"p-6 flex flex-col gap-2",children:[d.jsx("h3",{className:"text-xl font-bold text-blue-700 dark:text-blue-200 mb-2",children:b.patient?.name||"N/A"}),d.jsxs("div",{className:"flex flex-col gap-1 text-gray-700 dark:text-gray-300 mb-2",children:[d.jsxs("span",{children:[d.jsx("strong",{children:"Date:"})," ",b.date||"N/A"]}),d.jsxs("span",{children:[d.jsx("strong",{children:"Time:"})," ",b.time||"N/A"]}),d.jsxs("span",{children:[d.jsx("strong",{children:"Email:"})," ",b.patient?.email||"N/A"]})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsx("span",{className:`px-4 py-1 text-white text-sm font-semibold rounded-full ${p(b.status)}`,children:b.status}),d.jsxs("div",{className:"flex gap-2",children:[b.status==="Pending"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>i(b.id,"Confirmed"),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition",children:"Accept"}),d.jsx("button",{onClick:()=>i(b.id,"Rejected"),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition",children:"Reject"})]}),b.status==="Confirmed"&&b.isUpcoming&&d.jsx("button",{onClick:()=>s(b.id),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition",children:"Cancel"})]})]})]})]});return d.jsxs("div",{className:"p-8 bg-gradient-to-b from-purple-50 to-purple-100 dark:from-gray-900 dark:to-gray-800 rounded-xl shadow-lg min-h-screen",children:[d.jsxs("header",{className:"mb-8 text-center",children:[d.jsx("h2",{className:"text-4xl font-extrabold text-blue-700 dark:text-blue-100",children:"Your Appointment Schedule"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Add new appointments and manage your schedule."})]}),d.jsxs("form",{onSubmit:m,className:"flex flex-col md:flex-row gap-4 items-center justify-center mb-10",children:[d.jsx("input",{type:"text",name:"patientName",value:o.patientName,onChange:f,placeholder:"Patient Name",className:"border border-blue-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),d.jsx("input",{type:"date",name:"date",value:o.date,onChange:f,className:"border border-blue-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),d.jsx("input",{type:"time",name:"time",value:o.time,onChange:f,className:"border border-blue-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"}),d.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg shadow transition",children:"Add Appointment"})]}),d.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:u.length>0?u.map(b=>d.jsx(v,{apt:b},b.id)):d.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 col-span-full",children:"You have no appointments."})})]})},$W={Pending:"bg-yellow-100 text-yellow-800",Confirmed:"bg-green-100 text-green-800"},GW=()=>{const{user:t}=Qn(),{appointments:e}=ch(),n=e.filter(o=>o.doctorId===t.id&&(o.status==="Pending"||o.status==="Confirmed")),i={};n.forEach(o=>{o.patient&&o.patient.name&&(i[o.patient.name]={...o.patient,status:o.status,date:o.date})});const s=Object.values(i);return d.jsxs("div",{className:"p-8 bg-gradient-to-b from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 rounded-xl shadow-lg min-h-screen",children:[d.jsxs("header",{className:"mb-8 text-center",children:[d.jsx("h2",{className:"text-4xl font-extrabold text-green-700 dark:text-green-100",children:"Your Patients"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"View all patients with active appointments."})]}),d.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:s.length>0?s.map((o,l)=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 flex flex-col gap-2 relative",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"font-bold text-lg text-green-700 dark:text-green-200",children:o.name}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${$W[o.status]||"bg-gray-100 text-gray-800"}`,children:o.status})]}),d.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[d.jsx("strong",{children:"Email:"})," ",o.email]}),d.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[d.jsx("strong",{children:"Next Appointment:"})," ",o.date]})]},o.email+l)):d.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 col-span-full",children:"No active patients found."})})]})},dh=({title:t="Under Construction",message:e="This feature is currently being developed. Please check back soon!"})=>d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:d.jsxs("div",{className:"max-w-2xl mx-auto text-center px-6",children:[d.jsx(ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"mb-8",children:d.jsx("img",{src:"/underconstruction.svg",alt:"Under Construction",className:"w-64 h-64 mx-auto drop-shadow-2xl"})}),d.jsx(ee.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},className:"text-4xl md:text-5xl font-bold text-gray-800 dark:text-white mb-6",children:t}),d.jsx(ee.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.4},className:"text-lg md:text-xl text-gray-600 dark:text-gray-300 mb-8 leading-relaxed",children:e}),d.jsx(ee.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:1.5,delay:.6,ease:"easeOut"},className:"w-full bg-gray-200 rounded-full h-3 mb-8 dark:bg-gray-700",children:d.jsx(ee.div,{initial:{width:0},animate:{width:10},transition:{duration:2,delay:1,ease:"easeOut"},className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full shadow-lg"})}),d.jsxs(ee.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.8},className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[d.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-lg p-4 shadow-lg backdrop-blur-sm",children:[d.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-semibold mb-1",children:"Development"}),d.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-lg p-4 shadow-lg backdrop-blur-sm",children:[d.jsx("div",{className:"text-purple-600 dark:text-purple-400 font-semibold mb-1",children:"Testing"}),d.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Pending"})]}),d.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 rounded-lg p-4 shadow-lg backdrop-blur-sm",children:[d.jsx("div",{className:"text-green-600 dark:text-green-400 font-semibold mb-1",children:"Release"}),d.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Coming Soon"})]})]}),d.jsx(ee.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.history.back(),className:"mt-8 px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:from-blue-700 hover:to-purple-700",children:"Go Back"})]})}),Vy=()=>d.jsx(dh,{title:"Messages",message:"The messaging system is currently under development. Users will soon be able to communicate with healthcare providers and other users."}),Ly=()=>d.jsx(dh,{title:"Settings",message:"The settings panel is currently under development. Users will soon be able to customize their preferences and manage their account settings."}),WW=()=>d.jsx(dh,{title:"Inventory",message:"The inventory system is currently under development. Users will soon be able to view and manage their medical supplies and equipment."}),YW=()=>d.jsx(dh,{title:"Prescription Management",message:"The patients management system is currently under development. Doctors will soon be able to view patient lists, manage patient records, and track patient progress."}),KW=()=>d.jsx(dh,{title:"Inventory",message:"The inventory system is currently under development. Users will soon be able to view and manage their medical supplies and equipment."}),Uy=({children:t,requiredRole:e=null})=>{const{user:n,loading:i}=Qn();return console.log("ProtectedRoute - user:",n,"loading:",i,"requiredRole:",e),i?(console.log("ProtectedRoute - showing loading spinner"),d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(Cc,{size:"lg"})})):n?e&&n.role!==e?(console.log("ProtectedRoute - role mismatch, redirecting to user role"),d.jsx(md,{to:`/${n.role}`,replace:!0})):(console.log("ProtectedRoute - rendering children"),t):(console.log("ProtectedRoute - no user, redirecting to login"),d.jsx(md,{to:"/login",replace:!0}))},Bk=({children:t,authOnly:e=!1})=>{const{user:n,loading:i}=Qn();return console.log("PublicRoute - user:",n,"loading:",i,"authOnly:",e),i?(console.log("PublicRoute - showing loading spinner"),d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx(Cc,{size:"lg"})})):n&&e?(console.log("PublicRoute - user authenticated, redirecting to dashboard"),d.jsx(md,{to:`/${n.role}`,replace:!0})):(console.log("PublicRoute - rendering public content"),t)},XW=()=>{const{user:t,loading:e}=Qn();return console.log("AppRoutes - user:",t,"loading:",e),e?(console.log("AppRoutes - showing loading spinner"),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-950",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Cc,{size:"xl"}),d.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading CareSync..."})]})})):(console.log("AppRoutes - rendering routes, user:",t),d.jsxs(Y3,{children:[d.jsx(Ze,{path:"/",element:d.jsx(bz,{})}),d.jsx(Ze,{path:"/contact",element:d.jsx(wz,{})}),d.jsx(Ze,{path:"/about",element:d.jsx(TE,{})}),d.jsx(Ze,{path:"/feature",element:d.jsx(T4,{})}),d.jsx(Ze,{path:"/about",element:d.jsx(TE,{})}),d.jsx(Ze,{path:"/login",element:d.jsx(Bk,{authOnly:!0,children:d.jsx(yH,{})})}),d.jsx(Ze,{path:"/register",element:d.jsx(Bk,{authOnly:!0,children:d.jsx(VH,{})})}),d.jsxs(Ze,{path:"/patient",element:d.jsx(Uy,{requiredRole:"patient",children:d.jsx(by,{})}),children:[d.jsx(Ze,{index:!0,element:d.jsx(GH,{})}),d.jsx(Ze,{path:"prescriptions",element:d.jsx(j4,{})}),d.jsx(Ze,{path:"appointments",element:d.jsx(R4,{})}),d.jsx(Ze,{path:"health-logs",element:d.jsx(D4,{})}),d.jsx(Ze,{path:"messages",element:d.jsx(Vy,{})}),d.jsx(Ze,{path:"profile",element:d.jsx(Py,{})}),d.jsx(Ze,{path:"settings",element:d.jsx(Ly,{})}),d.jsx(Ze,{path:"inventory",element:d.jsx(WW,{})})]}),d.jsxs(Ze,{path:"/doctor",element:d.jsx(Uy,{requiredRole:"doctor",children:d.jsx(by,{})}),children:[d.jsx(Ze,{index:!0,element:d.jsx(BW,{})}),d.jsx(Ze,{path:"schedule",element:d.jsx(qW,{})}),d.jsx(Ze,{path:"patients",element:d.jsx(GW,{})}),d.jsx(Ze,{path:"messages",element:d.jsx(Vy,{})}),d.jsx(Ze,{path:"profile",element:d.jsx(Py,{})}),d.jsx(Ze,{path:"settings",element:d.jsx(Ly,{})})]}),d.jsxs(Ze,{path:"/pharmacist",element:d.jsx(Uy,{requiredRole:"pharmacist",children:d.jsx(by,{})}),children:[d.jsx(Ze,{index:!0,element:d.jsx(zW,{})}),d.jsx(Ze,{path:"messages",element:d.jsx(Vy,{})}),d.jsx(Ze,{path:"profile",element:d.jsx(Py,{})}),d.jsx(Ze,{path:"settings",element:d.jsx(Ly,{})}),d.jsx(Ze,{path:"prescriptions",element:d.jsx(YW,{})}),d.jsx(Ze,{path:"inventory",element:d.jsx(KW,{})})]}),d.jsx(Ze,{path:"*",element:t?d.jsx(md,{to:`/${t.role}`,replace:!0}):d.jsx(md,{to:"/",replace:!0})})]}))};function QW(){return d.jsx(xV,{children:d.jsx(LH,{children:d.jsx(W3,{children:d.jsxs("div",{className:"App bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-gray-100",children:[d.jsx(XW,{}),d.jsx(pH,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"var(--toast-bg, #fff)",color:"var(--toast-color, #333)",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",border:"1px solid var(--toast-border, #e5e7eb)"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"},style:{background:"#f0fdf4",color:"#065f46",border:"1px solid #bbf7d0"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"},style:{background:"#fef2f2",color:"#991b1b",border:"1px solid #fecaca"}}},containerStyle:{top:20,right:20}})]})})})})}nR.createRoot(document.getElementById("root")).render(d.jsx(Co.StrictMode,{children:d.jsx(TB,{children:d.jsx(QW,{})})}));
